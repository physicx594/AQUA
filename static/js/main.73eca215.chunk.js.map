{"version":3,"sources":["image/image.png","image/20180615_201523.jpg","image/AQUA.svg","image/customer/cancel.svg","image/imgicon.png","image/memberImage/coralreef.jpg","image/memberImage/avatarDefult.jpg","utils/ProtectedRoute.js","actions/member/memberActions.js","components/Header.js","components/Banner.js","components/Footer.js","components/divelocation/map.js","actions/location/Location_Action.js","components/divelocation/Area.js","components/divelocation/Images.js","components/divelocation/Locusinfo.js","components/divelocation/Weather.js","actions/comment/comment_action.js","components/comment/Comment.js","pages/divelocation/Divelocation.js","components/seller_back/Navgation.js","components/seller_back/SidebarBox/MenuUI.js","components/seller_back/pages/Graphic/utils.js","components/seller_back/pages/Graphic/constant.js","components/seller_back/pages/Graphic/index.js","components/seller_back/pages/constant.js","components/seller_back/pages/Chart.js","components/seller_back/pages/ChartRight.js","actions/seller/index.js","components/seller_back/pages/MainPage.js","components/seller_back/pages/Info.js","components/seller_back/components/Loading.js","components/seller_back/ScrollReveal.js","components/seller_back/pages/CouponDetail.js","components/seller_back/pages/Coupon.js","components/seller_back/pages/ProgressToMailBar.js","components/seller_back/pages/CouponTableList.js","components/seller_back/pages/CustomerManager.js","components/seller_back/components/Banner.js","actions/order/order_Actions.js","components/seller_back/pages/Order.js","components/class/SellerClassComponents/Sweetalert2.js","components/class/Loading.js","components/event/EventPageButtons.js","components/event/MemberEventComponents/SwitchButton.js","components/class/SellerClassComponents/ManageClassContent.js","components/class/SellerClassComponents/ManageCoachContent.js","components/class/SellerClassComponents/AddClassContent.js","pages/class/SellerClass.js","components/class/SellerClassComponents/EditClassDataContent.js","pages/class/SellerEditClass.js","components/seller_back/components/SellerEdit.js","components/seller_back/components/CouponEdit.js","components/seller_back/components/CouponAddGivi.js","components/seller_back/pages/ItemManager.js","components/seller_back/components/SwitchButton.js","components/seller_back/components/SwitchPercent.js","components/seller_back/components/CupOrder.js","components/seller_back/components/itemType.js","components/seller_back/components/CupItem.js","components/seller_back/components/CupGivi.js","components/seller_back/components/CouponAdd.js","components/seller_back/Container.js","components/seller_back/Footer.js","components/seller_back/SellerBack.js","actions/class/class_Actions.js","components/class/ClassDataList.js","components/class/ClassSortBar.js","components/class/ClassListCategory.js","pages/class/ClassList.js","components/class/ClassDetailDataContent.js","pages/class/classDetailPage.js","actions/event/event_Actions.js","components/event/EventDataList.js","components/event/EventSearchBar.js","pages/event/EventList.js","components/event/EventMapDataList.js","pages/event/EventMapList.js","components/event/EventWeatherContent.js","components/event/EventDetailDataContent.js","pages/event/EventDetail.js","actions/item/item_Actions.js","pages/item/itemType.js","components/item/Aside.js","components/item/Pages.js","components/item/ItemCard.js","pages/item/itemList.js","components/item/Store.js","pages/item/itemDetail.js","components/order/CartItem.js","pages/order/shoppingCart.js","pages/order/checkOut.js","pages/order/orderCreated.js","actions/blog/blog_Actions.js","pages/blog/category.js","components/blog/BlogRside.js","components/blog/ScrollToTop.js","pages/blog/ScrollReveal.js","pages/blog/Blog.js","components/blog/BlogTitleBar.js","components/blog/BlogRelatedPost.js","pages/blog/BlogContent.js","pages/blog/BlogAdd.js","pages/blog/BlogEdit.js","pages/members/MemberLogin.js","pages/members/MemberRegister.js","components/member/Sidebar.js","pages/mContent/UserContent.js","components/class/MemberClassComponents/MemberClassList.js","pages/class/MemberClass.js","components/event/MemberEventComponents/ManageMyEventContent.js","components/event/MemberEventComponents/AddEventContent.js","pages/event/MemberEditEvent.js","pages/event/MemberEvent.js","pages/mContent/UserOrder.js","pages/mContent/UserBlog.js","pages/mContent/UserMessage.js","pages/mContent/MemberCoupon.js","pages/members/MemberUser.js","pages/members/Membersellerlogin.js","pages/ScrollReveal.js","pages/Home.js","pages/chat/Chat.js","App.js","serviceWorker.js","reducers/blog/blog_Reducers.js","reducers/location/location_Reducers.js","reducers/class/class_Reducers.js","reducers/event/event_Reducers.js","reducers/item/item_Reducers.js","reducers/order/order_Reducers.js","reducers/member/member_Reducers.js","reducers/seller/sellerReducer.js","reducers/comment/comment_Reducers.js","index.js","image/customer/tickMenu.svg"],"names":["module","exports","ProtectedRoute","children","rest","console","log","render","props","isAuth","to","pathname","state","from","location","userLogin","userData","type","data","userLoginAsync","callback","dispatch","a","fd","FormData","append","username","password","request","Request","method","body","credentials","fetch","response","json","success","loginPwd","localStorage","setItem","memberId","Swal","fire","setTimeout","window","href","icon","title","text","getuserDetailData","value","getuserDetailDataAsync","headers","Headers","Accept","Cookie","get","updateuserDetailData","updateuserDetailDataAsync","formData","fullName","mobileNumber","email","address","getUserCouponDetail","getUserCouponDetaiAsync","usercoupondata","memberLogout","memberLogoutAsync","status","removeItem","remove","connect","store","bindActionCreators","handleDelete","useState","showCart","setShowCart","showMemberMenu","setShowMemberMenu","count","setCount","mycart","setMycart","mycartDisplay","setMycartDisplay","setHasLoading","rwdOpen","setRwdOpen","localCart","JSON","parse","getItem","event","stopPropagation","addEventListener","useEffect","AOS","init","duration","getCartFromLocalStorage","newMycartDisplay","i","index","findIndex","id","amount","newItem","length","className","onClick","openMenu","style","verticalalign","src","alt","class","data-aos","map","key","img","name","price","require","Banner","BannerImgSrc","Footer","mymap","fetchMapmarks","axios","then","marks","catch","error","fetchRegions","regions","fetchInfos","infos","fetchImages","Images","fetchSeastate","Seastate","fetchWeeklyreport","Weeklyreport","fetchgetTidereport","getTidereports","Area","this","Regions","Divelocationregion","Eastcoastlist","filter","area","LocationArea","Northeastcapelist","Greenislandlist","Iralalist","Kentinglist","Accordion","Card","Toggle","as","Button","eventKey","Collapse","Body","role","LocationID","LocationName","React","Component","locationReducer","prevProps","mapmarksGCS","undefined","currentmark","match","params","marksinfo","DivelocationInfo","locatecurrentmark","forEach","L","setView","Latitude","Longitude","tileLayer","addTo","blueIcon","Icon","iconUrl","shadowUrl","iconSize","iconAnchor","popupAnchor","shadowSize","marker","bindPopup","openPopup","withRouter","currentimages","currentimageID","LocusImages","Divelocationimages","locationimages","originalTitle","items","Locusinfo","currentlocation","LocusInfos","currentid","localinfo","Locationlevel","Transportation","Locationdescribe","noted","Weather","currentseastate","currentweekweather","currenttide","idtonum","LocusWeeklyreport","weekweather","LocusSeastate","seastate","LocusTidereport","tide","locationName","StationId","Tabs","Tab","date","seatemperature","temperature","waveperiod","waveheight","wavedirection","Date","WeatherDescription","Lunardate","Tidalrange","Tidetype","Tidetime","Tideheight","fetchLocationcomment","comment","Sentlocationcomment","Submmitlocationcomment","pageid","memberid","membername","commentitself","Comment","commenthere","Locationcomments","locationcomment","currentparams","Locationid","member_name","comment_date","cols","rows","onChange","setState","target","sentcommentdata","MySwal","withReactContent","sweetalert","showCancelButton","confirmButtonText","cancelButtonText","result","sentcommentdatatodb","commentReducer","Locationcomment","Divelocation","Styles","styled","div","Navgation","Navbar","expand","Brand","aria-controls","Form","FormControl","placeholder","Nav","Item","Link","MenuUI","exact","activeClassName","Radar","Bar","HorizontalBar","Line","Graphic","GRAPHIC","labels","datasets","label","borderColor","backgroundColor","fill","pointRadius","pointHoverRadius","borderWidth","currency","Chart","ChartRight","maintainAspectRatio","scales","xAxes","ticks","toFixed","yAxes","fontSize","fontColor","display","options","responsive","height","width","sellerInfo","sellerInfoAsync","sellerInfoData","stringify","sellerEdit","sellerEditAsync","sellerEDData","sellerUpdate","sellerData","sellerUpdateAsync","getSellerCouponAsync","coup_cate_id","query","push","trim","getSellerNewInsertCouponAsync","getcouponInsertData","insertSellerNewInsertCouponAsync","coupFormData","addGiviData","addGiviDataAsync","GiviFormData","givi_fd","givi_cate_id","givi_name","givi_img_upload","givi_num","customerGet","customerGetAsync","customerData","customerUse","customerUseAsync","customerMailData","customerMailDataAsync","mailData","getUserClickData","getUserClickDataAsync","getCoupData","getTotalData","getTotalDataAsync","itemGetData","itemGetDataAsync","getSellerClassData","getSellerClassDataAsync","sort","page","isEnable","join","getCityData","getCityDataAsync","getDistData","getDistDataAsync","city","getClassTypeDataForSeller","getClassLevelDataForSeller","getClassTypeLevelDataForSellerAsync","level","addClassData","addClassDataAsync","delClassData","delClassDataAsync","classId","getSellerClassDetailData","getSellerClassDetailDataAsync","editClassData","editClassDataAsync","getCoachData","getCoachDataAsync","MainPage","totalPrice","clickdata","getClickData","userClick","totalData","total","item","sum_total","click_total","sellerReducer","sellerInfoData_left","Object","keys","shop_img","seller_img","seller_name","seller_account","seller_password","seller_status","sellerInfoData_right","seller_shop","seller_decrip","url","originalname","Loading","ScrollReveal","CouponDetail","Sr","reveal","delay","distance","scale","easing","coupon","coup_id","coup_img","coup_name","coup_code","coup_start","coup_end","showPanel","togglePanel","couponCoup","setCoupon","hasloading","typeMenuActive","document","querySelectorAll","classList","add","getCouponData","$","find","attr","nowCouponData","hidden","data-type","ProgressBar","percentage","Filler","cutomeruse","table1","couponObj","setCouponObj","typeInputActive","setChildCoupon","tableData1","element","coup_over","coup_PriOrPer","datecoup_time_start","datecoup_time_end","tableData2","table2","tableData3","table3","scope","TagSvg","customer","customermailtransfer","customerdata","setCustomerData","customername","setCustomerName","customermail","setCustomerMail","childcoupon","tableData","comcus_id","seller_id","comcus_name","comcus_img","comcus_gmail","comcus_buy_perc","comcus_visit_perc","cutomerName","cutomerEmail","selectType","handleChange","defaultValue","preventDefault","splice","triggerDelete","CrossSvg","e","couponData","position","showConfirmButton","timer","handleTransferData","memberCheckOut","memberCheckOutAsync","orderData","memberCheckOutStep2","memberCheckOutStep2Async","orderInfo","getOrderDetailData","getOrderDetailDataAsync","getSellerOrderListData","getSellerOrderListDataAsync","sellerOrderData","orderReducer","setOrderData","orderId","orderMemberId","created_at","recipName","note","itemName","itemSize","checkQty","checkPrice","SweetAlert","setStateFunc","stateData","callBackData","callBackData2","confirmButtonColor","cancelButtonColor","errorCode","errorMsg","Steps","queueMsg","callbackData","mixin","progressSteps","queue","inputData","EventPageButtons","pageButtons","setPageButtons","nowPageButton","totalPages","data-page","textContent","getDataFromServer","aria-label","StyledSwitchButton","active","SwitchButton","clicked","ManageClassContent","hasLoading","setResponse","sellerClassData","delClassDataResponse","errorAlert","msg","setIsEnable","classImg","classType","classLevel","classStartDate","classLocation","classPrice","classNowPeople","data-id","disabled","getTime","sendConfirm","delClassDataAsunc","getAttribute","ManageCoachContent","SellerCoachData","classCoachImg","classCoachName","classCoachLicense1","classCoachLicense2","classCoachLicense3","AddClassContent","addressCity","setAddressCity","addressDist","setAddressDist","setClassName","classTypeId","setClassTypeId","classLevelId","setClassLevelId","setClassLocation","classFullLocation","setClassFullLocation","setClassStartDate","classEndDate","setClassEndDate","setClassPrice","classIntroduction","setClassIntroduction","classDesc","setClassDesc","classMAXpeople","setClassMAXpeople","setClassImg","addClassDataResponse","querySelector","ClassFormData","htmlFor","handleGetLevelData","typeData","classTypeName","levelData","handleGetDistData","cityData","dist","distData","readOnly","files","typeDataForSeller","levelDataForSeller","nowClickTag","setNowClickTag","handleNavActive","EditClassDataContent","setClassType","setClassLevel","editClassDataResponse","SellerClassDetailData","classData","getDistDataAsunc","substr","getClassTypeLevelDataForSellerAsunc","editClassDataAsunc","selectedIndex","selected","setName","setEmail","setUsername","password1","setPassword1","password2","setPassword2","setAdress","sellerName","setSellerName","mobile","setMobile","phone","setPhone","description","setDescription","infofile","setInfoFile","shopfile","setShopFile","aria-describedby","URL","createObjectURL","handleInfoChange","multiple","fileObj","fileArray","handleShopChange","errorMessages","alert","handleSubmit","CouponEdit","giviAdd","setGivi_id","setGivi_name","setGivi_num","givi_img","setGiviFile","setGivi_Img","form","createRef","ref","handleGiviChange","ItemUpload","SwitchPercent","couponInsert","setCoup_cate_id","setCoupName","coupfile","setCoupFile","coupDataFiles","setCoupDataFiles","coupOver","setCoupOverMode","coupPercent","setCoupPercentMode","coupStart","setCoupStart","coupEnd","setCoupEnd","coupTimes","setCoupTimes","code","order","coupCode","setCoupCode","coupId","setcoupId","setPrice","minusorpercent","setMinusorpercent","inputstyle","textAlign","handleCoupChange","coupData","coupon_fd","cateData","itemCategoryId","itemCategory","itemTypeId","itemType","codeItem","setGivi","givipiece","setGiviPieceMode","givi","orderCup","setOrderCup","getCouponFormData","Container","Logo","Avajpg","path","SellerBack","Fragment","getTypeLevelData","getTypeLevelDataAsync","getClassData","getClassDataAsync","getclassDetailData","getclassDetailDataAsync","memberJoinClass","memberJoinClassAsync","memberMemo","memberGetClassData","memberGetClassDataAsync","memberUnJoinClass","memberUnJoinClassAsync","ClassDataList","bottom","ClassSortBar","rwdMenuShow","setRwdMenuShow","ClassListCategory","classTypeData","data-level","classReducer","setClassData","searchType","memberClassActionResponse","classNOWpeople","msgArr","input","html","questionAlert","classCoachData","classDetailData","getEventData","getEventDataAsync","q","getEventDataForMap","getEventDataForMapAsync","getEventTypeData","getEventTypeDataAsync","getEventDetailData","getEventDetailDataAsync","eventId","memberJoinEvent","memberJoinEventAsync","memberGetEventDataSelf","memberGetEventDataAsync","delEventData","delEventDataAsync","memberUnJoinEvent","memberUnJoinEventAsync","addEventData","addEventDataAsync","getMemberEventDetailData","getMemberEventDetailDataAsync","editEventData","editEventDataAsync","memberUnOtherJoinEvent","memberUnOtherJoinEventAsync","memberGetChatList","memberGetChatListAsync","mylist","switchButtonisEnable","EventDataList","eventData","newEventName","eventName","progress","eventNowPeople","eventNeedPeople","eventEndDate","searchKeyword","indexOf","eventImg","eventType","eventLocation","loginId","eventStartDate","data-progress","parseInt","EventSearchBar","eventTypeData","eventTypeName","eventReducer","right","data-eventId","eventDataForMap","setEventDataForMap","onBoundsChanged","getBounds","contains","lat","parseFloat","eventLocation_lat","lng","eventLocation_lng","MyMapComponent","withScriptjs","withGoogleMap","defaultZoom","mapRef","defaultCenter","gestureHandling","MarkerClusterer","gridSize","isMarkerShown","googleMapURL","loadingElement","containerElement","mapElement","EventMapDataList","EventWeatherContent","weatherData","setWeatherData","sliderIndex","nowWeatherDataArr","handleWeatherSlider","transform","WxImg","MaxT","MinT","rain","waveH","waveDirNum","waveDir","EventDetailDataContent","setProgress","memberJoinEventResponse","progressNum","eventFullLocation","eventDesc","eventDetailData","setEventData","nowEventData","nowWeatherData","weather_data","getItemData","getItemDataAsync","brand","getAsideData","getAsideDataAsync","getItemDetailData","getItemDetailDataAsync","itemId","onClickUpdate","onClickUpdateAsync","updatedata","Aside","asideClick","type_li","brand_li","price_li","data-cate","type_ul","childNodes","toggleClick","val","idx","data-brand","asideData","itemBrandId","data-price","Pages","ItemCard","itemData","itemImg","itemPrice","itemReducer","setItemData","setAsideData","Store","itemDetailData","clickUpdateData","some","itemQty","handleAdd","clicknum","CartItem","userCouponData","memberReducer","newCoup","setNewCoup","couptInput","setCouptInput","visible","rodalState","setRodal","couponChoose","setCouponChoose","orderItems","arr","couponCheck","order_coup_name","givi_coup_name","order_coup_code","givi_coup_code","goods_coup_name","goods_coup_code","sum","handleOrderSum","itemsToal","hasOwnProperty","order_over","order_pri_perc","f","handleItemSum","inneritems","InnerTotal","ItemTotalPrice","array","countObj","reduce","r","goods_over","x","goods_pri_perc","t","handleGivi","givi_over","givi_coup_img","coupTableData","order_coup_img","goods_coup_img","order_coup_start","givi_coup_start","goods_coup_start","givi_coup_end","goods_coup_end","order_coup_end","noImg","orderItemId","history","onClose","memberCheckOutResponse","addcode","setAddcode","setArea","setAddress","setNote","sendmail","templateParams","userEmail","user","y","getFullYear","m","getMonth","d","getDate","h","getHours","mi","getMinutes","golink","emailjs","send","onBlur","getBlogData","getBlogDataAsync","blogInfoData","getBlogCommentsData","getBlogCommentsDataAsync","blogCommentsData","addContentCommentsData","addContentCommentsDataAsync","commentsData","addContentData","addContentDataAsync","contentData","editContentData","editContentDataAsync","categoryData","categoryId","categoryName","blogData","blogReducer","tagNameData","newpost","slice","memberImg","tagName1","tagName2","blogTitle","scrollTo","ScrollToTop","typeCategoryNameActive","getCategoryNameData","CategoryName_id","sr","scroll","scrollTop","fadeIn","stop","fadeOut","blogImages","substring","blogContent","align","relatedPostData","_a","b","Math","random","contentCommentsData","cotentComments","setCotentComments","sendId","like","setLike","heart","likeList","blogId","mImg","mId","content","addCommentsData","commentsData_fd","reload","addContentTitle","setAddContentTitle","addContentCategory","setAddContentCategory","addContent","setAddContent","addTag1","setAddTag1","addTag2","setAddTag2","setImgFile","imgDataFiles","setImgDataFiles","avatarFile","setAvatarFile","setAvatarDataFiles","handleImgChange","addImg","addContentData_fd","blogItem","blogItemTitle","blogItemCategory","blogItemContent","blogItemTag1","blogItemTag2","blogItemImg","editContentTitle","setEditContentTitle","editContentCategory","setEditContentCategory","editContent","setEditContent","editTag1","setEditTag1","editTag2","setEditTag2","editContentData_fd","setPassword","setError","setErrorMessages","action","MemberRegister","sendRegisterDataToServer","SidebarImgSrc","changeData","userInfo","setFullName","setMobileNumber","handleUpdate","memData","member_fd","for","JoinDate","memberClassData","background","getMemberClassData","memberEventDataSelf","memberActionResponse","getMemberEventData","setEventName","setEventType","eventTypeId","setEventTypeId","setEventLocation","setEventFullLocation","setEventStartDate","setEventEndDate","setEventDesc","setEventNeedPeople","setEventImg","EventFormData","getElementById","memberEventDetailData","eventMemberData","data-memberId","MemberEvent","UserOrder","aria-hidden","UserBlog","memberChatListData","ws","setWs","chatDataList","setChatDataList","io","initWebSocket","disconnect","on","ServerToClientMsgData","autoScrollButtom","message","Sweetalert","msgArea","clientHeight","scrollHeight","handleChangeChatList","data-roomId","data-eventName","handleListActive","innerHTML","roomId","addRoomRequest","emit","changeRoom","chatData","moment","format","onKeyPress","sendMessageRequest","sendMessageUseEnter","sendMessage","goods_cate_id","order_cate_id","image","checked","Scroll","Element","Home","loop","autoPlay","muted","activeClass","spy","smooth","data-aos-duration","data-aos-delay","showArrows","showStatus","showThumbs","infiniteLoop","interval","emulateTouch","showIndicators","Chat","room","App","ClassList","Boolean","hostname","combineReducers","getNowCoupData","Blogcomment","donelocationcomment","rootReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","applyMiddleware","thunk","ReactDOM","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.73eca215.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/image.e39c695f.png\";","module.exports = __webpack_public_path__ + \"static/media/20180615_201523.e3b07ac7.jpg\";","module.exports = __webpack_public_path__ + \"static/media/AQUA.0406f6d5.svg\";","module.exports = __webpack_public_path__ + \"static/media/cancel.f1294bc2.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAZQTFRF////////VXz1bAAAAAJ0Uk5T/wDltzBKAAAAcklEQVR42uzUSw7AIAgE0PH+l3Zh/AyKDIm7lvWLZSyIIha+CiFUg9pxT2D7aAx7eyLEc6iGOcOeMroeZCAEOFPeIbIQey6CNFQm2Art+FEXPjT9LtAfbYa3JRAh/+tgsQYUVzCESG+h+gD8D6lfVYABAKXXBJ93iesAAAAAAElFTkSuQmCC\"","module.exports = __webpack_public_path__ + \"static/media/coralreef.3b9608e4.jpg\";","module.exports = \"data:image/jpeg;base64,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\"","import React from 'react'\r\nimport { Route, Redirect } from 'react-router-dom'\r\n\r\n// 從React Router官方網站文件中標準的寫法\r\n// 除了要判斷從上層傳入的一個是否登入的狀態值\r\n// 使用children.props.isAuth，這一點和官網的範例有所不同\r\n// 官方網站因為所有元件寫在同一個檔案所以可以模擬出全應用中的狀態\r\n// 這裡因為拆分了元件不能像官網的範例這樣作\r\n// 注意Redirect要不同元件間才能作301重新導向\r\n// props 解構拉出children，和其它的組成一個其餘物件\r\nconst ProtectedRoute = ({ children, ...rest }) => {\r\n  console.log(children)\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={props =>\r\n        children.props.isAuth === true ? (\r\n          children\r\n        ) : (\r\n          <Redirect\r\n            to={{\r\n              pathname: '/memberlogin',\r\n              state: { from: props.location },\r\n            }}\r\n          />\r\n        )\r\n      }\r\n    />\r\n  )\r\n}\r\n\r\nexport default ProtectedRoute\r\n","import Swal from 'sweetalert2'\r\nimport Cookie from 'js-cookie'\r\n\r\n//Register\r\nexport const userRegister = userData => ({\r\n  type: 'USER_REGISTER',\r\n  data: userData,\r\n})\r\nexport const userRegisterAsync = (userData, callback) => {\r\n  return async dispatch => {\r\n    const request = new Request('http://localhost:5000/members/memberlogin', {\r\n      method: 'POST',\r\n      body: JSON.stringify(userData),\r\n      headers: new Headers({\r\n        Accept: 'application/json',\r\n        'Content-Type': 'application/json',\r\n      }),\r\n    })\r\n    console.log(JSON.stringify(userData))\r\n    const response = await fetch(request)\r\n    const data = await response.json()\r\n    console.log(data)\r\n\r\n    // 設定資料\r\n    dispatch(userRegister(data))\r\n    callback()\r\n  }\r\n}\r\n\r\n//Login\r\nexport const userLogin = userData => ({\r\n  type: 'USER_LOGIN',\r\n  data: userData,\r\n})\r\n\r\nexport const userLoginAsync = (userData, callback) => {\r\n  console.log(userData)\r\n  return async dispatch => {\r\n    const fd = new FormData()\r\n    fd.append('loginId', userData.username)\r\n    fd.append('loginPwd', userData.password)\r\n\r\n    const request = new Request('http://localhost:5000/members/login', {\r\n      method: 'POST',\r\n      body: fd,\r\n      credentials: 'include',\r\n    })\r\n    const response = await fetch(request)\r\n    const data = await response.json()\r\n    console.log('res data', data)\r\n\r\n    if (data.success) {\r\n      if (data.loginPwd == userData.loginPwd) {\r\n        localStorage.setItem('username', data.username)\r\n        localStorage.setItem('memberId', data.memberId)\r\n\r\n        // 設定資料\r\n        console.log(userData)\r\n        dispatch(userLogin(userData))\r\n        // alert('登入')\r\n        Swal.fire('歡迎回來!', 'Redirect in 1 seconds...!', 'success')\r\n        setTimeout(function() {\r\n          window.location.href = './memberuser/user'\r\n        }, 1000)\r\n      } else {\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Oops...',\r\n          text: '密碼錯誤!',\r\n        })\r\n      }\r\n    } else {\r\n      Swal.fire({\r\n        icon: 'error',\r\n        title: 'Oops...',\r\n        text: '沒有這個帳號!',\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\n// get user info\r\nexport const getuserDetailData = data => ({\r\n  type: 'GET_USERINFO',\r\n  value: data,\r\n})\r\n\r\nexport const getuserDetailDataAsync = memberId => {\r\n  return async dispatch => {\r\n    const request = new Request(`http://127.0.0.1:5000/members/`, {\r\n      method: 'GET',\r\n      headers: new Headers({\r\n        Accept: 'application/json',\r\n        'Content-Type': 'application/json',\r\n        'access-token': Cookie.get('token'),\r\n      }),\r\n    })\r\n\r\n    const response = await fetch(request)\r\n    const data = await response.json()\r\n    dispatch(getuserDetailData(data))\r\n    // console.log(getuserDetailData(data))\r\n  }\r\n}\r\n\r\n//update user info\r\nexport const updateuserDetailData = data => ({\r\n  type: 'CHANGE_INFO',\r\n  value: data,\r\n})\r\n\r\nexport const updateuserDetailDataAsync = (formData, memberId) => {\r\n  return async dispatch => {\r\n    const fd = new FormData()\r\n    fd.append('fullName', formData.fullName)\r\n    fd.append('mobileNumber', formData.mobileNumber)\r\n    fd.append('email', formData.email)\r\n    fd.append('address', formData.address)\r\n    const request = new Request(`http://127.0.0.1:5000/members/`, {\r\n      method: 'POST',\r\n      body: fd,\r\n      credentials: 'include',\r\n      headers: new Headers({\r\n        'access-token': Cookie.get('token'),\r\n      }),\r\n    })\r\n\r\n    const response = await fetch(request)\r\n    const data = await response.json()\r\n    dispatch(updateuserDetailData(data))\r\n    console.log(updateuserDetailData(data))\r\n  }\r\n}\r\n\r\n//從賣家那裏得到優惠券的使用資料\r\nexport const getUserCouponDetail = data => ({\r\n  type: 'GET_USERCOUPON',\r\n  value: data,\r\n})\r\n\r\nexport const getUserCouponDetaiAsync = usercoupondata => {\r\n  return async dispatch => {\r\n    const request = new Request(\r\n      `http://127.0.0.1:5000/seller/customermanager/user-coupondata`,\r\n      {\r\n        method: 'GET',\r\n        headers: new Headers({\r\n          Accept: 'application/json',\r\n          'Content-Type': 'application/json',\r\n        }),\r\n      }\r\n    )\r\n\r\n    const response = await fetch(request)\r\n    const data = await response.json()\r\n    console.log(data)\r\n    dispatch(getUserCouponDetail(data))\r\n  }\r\n}\r\n\r\n//登出\r\nexport const memberLogout = data => ({\r\n  type: 'USER_LOGOUT',\r\n  value: data,\r\n})\r\n\r\nexport const memberLogoutAsync = () => {\r\n  return async dispatch => {\r\n    const request = new Request(`http://127.0.0.1:5000/logout`, {\r\n      method: 'POST',\r\n    })\r\n\r\n    const response = await fetch(request)\r\n    const data = await response.json()\r\n    console.log(data)\r\n    if (data.status === 201) {\r\n      localStorage.removeItem('username')\r\n      localStorage.removeItem('memberId')\r\n      Cookie.remove('token')\r\n      Swal.fire('登出成功!', 'Redirect in 1 seconds...!', 'success')\r\n      setTimeout(function() {\r\n        window.location.href = './memberuser/login'\r\n      }, 1000)\r\n    }\r\n    dispatch(memberLogout(data))\r\n  }\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport AOS from 'aos'\r\nimport 'aos/dist/aos.css'\r\nimport Cookie from 'js-cookie'\r\n\r\n//引入action\r\nimport { memberLogoutAsync } from '../actions/member/memberActions'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\n\r\nfunction Header(props) {\r\n  //console.log(props)\r\n  const { handleDelete } = props\r\n  const [showCart, setShowCart] = useState(false)\r\n  const [showMemberMenu, setShowMemberMenu] = useState(false)\r\n  const [reload, setReload] = useState(false)\r\n  const [count, setCount] = useState(0)\r\n  const [mycart, setMycart] = useState([])\r\n  const [mycartDisplay, setMycartDisplay] = useState([])\r\n  const [hasLoading, setHasLoading] = useState(false)\r\n  const [rwdOpen, setRwdOpen] = useState(false)\r\n\r\n  const localCart = JSON.parse(localStorage.getItem('cart'))\r\n\r\n  async function openMenu() {\r\n    if (rwdOpen) {\r\n      await setRwdOpen(false)\r\n    } else {\r\n      await setRwdOpen(true)\r\n    }\r\n  }\r\n  // shopping cart toggle menu\r\n  async function showMenu(event) {\r\n    setShowCart(!showCart)\r\n    event.stopPropagation()\r\n  }\r\n  // shopping cart toggle menu\r\n  async function showMenu2(event) {\r\n    setShowMemberMenu(!showMemberMenu)\r\n    event.stopPropagation()\r\n  }\r\n  // close toggle by click window\r\n  window.addEventListener('click', () => {\r\n    setShowCart(false)\r\n  })\r\n  // defult localstorage cart\r\n  async function getCartFromLocalStorage() {\r\n    setHasLoading(true)\r\n    setMycart(localCart)\r\n  }\r\n  // 渲染後上動畫\r\n  useEffect(() => {\r\n    AOS.init({\r\n      // initialise with other settings\r\n      duration: 300,\r\n    })\r\n  })\r\n  //\r\n  useEffect(() => {\r\n    getCartFromLocalStorage()\r\n  }, [])\r\n\r\n  // useEffect(() => {\r\n  //   getCartFromLocalStorage()\r\n  //   setReload(false)\r\n  // }, [reload])\r\n\r\n  // useEffect(() => {\r\n  //   setInterval(() => {\r\n  //     setReload(true)\r\n  //     console.log(reload)\r\n  //   }, 1000)\r\n  // }, [])\r\n\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      setHasLoading(false)\r\n    }, 500)\r\n    if (mycart) {\r\n      let newMycartDisplay = [...mycartDisplay]\r\n      for (let i = 0; i < mycart.length; i++) {\r\n        const index = newMycartDisplay.findIndex(\r\n          value => value.id === mycart[i].id\r\n        )\r\n        if (index !== -1) {\r\n          //console.log('findindex', index)\r\n          newMycartDisplay[index].amount++\r\n        } else {\r\n          const newItem = { amount: 1, ...mycart[i] }\r\n          newMycartDisplay = [...newMycartDisplay, newItem]\r\n        }\r\n      }\r\n      // console.log('newMycartDisplay', newMycartDisplay)\r\n      setMycartDisplay(newMycartDisplay)\r\n      setCount(newMycartDisplay.length)\r\n    }\r\n  }, [mycart])\r\n\r\n  return (\r\n    <>\r\n      <nav className=\"Header-Navbar navbar navbar-expand-lg navbar-dark bg-primary\">\r\n        <div className=\"container\">\r\n          {/* menu toggle */}\r\n          <button\r\n            className=\"navbar-toggler\"\r\n            type=\"button\"\r\n            onClick={() => {\r\n              openMenu()\r\n            }}\r\n          >\r\n            <span className=\"navbar-toggler-icon\"></span>\r\n          </button>\r\n          {/* Logo */}\r\n          <Link className=\"navbar-brand\" to=\"/\">\r\n            <img\r\n              style={{ verticalalign: 'baseline' }}\r\n              src=\"../images/logo/aquaLogo.png\"\r\n              alt=\"\"\r\n            />\r\n          </Link>\r\n\r\n          {/* web menu */}\r\n          <div\r\n            className={\r\n              rwdOpen\r\n                ? 'collapse navbar-collapse JY_navMenuShow'\r\n                : 'collapse navbar-collapse'\r\n            }\r\n          >\r\n            <ul className=\"navbar-nav mr-auto\">\r\n              <li className=\"nav-item\">\r\n                <Link className=\"nav-link\" to=\"/eventlist\">\r\n                  揪團潛水\r\n                </Link>\r\n              </li>\r\n              <li className=\"nav-item\">\r\n                <Link className=\"nav-link\" to=\"/blog\">\r\n                  文章分享\r\n                </Link>\r\n              </li>\r\n              <li className=\"nav-item\">\r\n                <Link className=\"nav-link\" to=\"/location/L0002\">\r\n                  自由潛點\r\n                </Link>\r\n              </li>\r\n              <li className=\"nav-item\">\r\n                <Link className=\"nav-link\" to=\"/Class\">\r\n                  課程平台\r\n                </Link>\r\n              </li>\r\n              <li className=\"nav-item\">\r\n                <Link className=\"nav-link\" to=\"/items\">\r\n                  線上商店\r\n                </Link>\r\n              </li>\r\n              <li className=\"nav-item\">\r\n                <Link className=\"nav-link\" to=\"#\">\r\n                  實用工具\r\n                </Link>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n          <div className=\"navbar-rside d-flex\">\r\n            {/* cart icon */}\r\n            <div className=\"navbar-cart mr-4 align-self-end\">\r\n              <img\r\n                className=\"navbar-shopping-cart-icon\"\r\n                src=\"../images/logo/cart_icon.png\"\r\n                alt=\"\"\r\n                // onMouseOver={hover}\r\n                // onMouseOut={hover}\r\n                onClick={showMenu}\r\n                // onClick={() => {\r\n                //   window.location = `/member/mycart`\r\n                // }}\r\n              />\r\n              <div className=\"cart-dot\">\r\n                <p>{count}</p>\r\n              </div>\r\n              {showCart ? (\r\n                <div class=\"card mt-5 cart-card\" data-aos=\"zoom-in-down\">\r\n                  <div class=\"card-body\">\r\n                    {mycartDisplay.length != 0 ? (\r\n                      mycartDisplay.map((value, index) => {\r\n                        return (\r\n                          <div className=\"d-flex cart-item\" key={index}>\r\n                            <figure>\r\n                              <img\r\n                                className=\"\"\r\n                                src={`http://127.0.0.1:5000/images/itemImg/${value.img}`}\r\n                              />\r\n                            </figure>\r\n                            <div className=\"d-flex flex-column row-info\">\r\n                              <div className=\"\">\r\n                                <div className=\"text-nowrap\">{value.name}</div>\r\n                              </div>\r\n                              <div className=\"d-flex justify-content-between\">\r\n                                <span>NT$ {value.price}</span>\r\n                                <span\r\n                                  className=\"del\"\r\n                                  onClick={() =>\r\n                                    handleDelete({\r\n                                      id: `${value.id}`,\r\n                                    })\r\n                                  }\r\n                                >\r\n                                  刪除\r\n                                </span>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        )\r\n                      })\r\n                    ) : (\r\n                      <h2>購物車是空的喔!</h2>\r\n                    )}\r\n                  </div>\r\n                  <div className=\"card-footer\">\r\n                    <Link\r\n                      className=\"d-flex justify-content-center\"\r\n                      to=\"/member/mycart\"\r\n                    >\r\n                      查看我的購物車\r\n                    </Link>\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                ''\r\n              )}\r\n            </div>\r\n\r\n            {/* member Login */}\r\n            <div className=\"collapse navbar-collapse\" id=\"navbarMember\">\r\n              {!Cookie.get('token') ? (\r\n                <Link to=\"/memberlogin\">\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-outline-light btn-sm\"\r\n                  >\r\n                    Login\r\n                  </button>\r\n                </Link>\r\n              ) : (\r\n                <div>\r\n                  <figure className=\"avatar-wrapper\">\r\n                    <img\r\n                      className=\"memberimg\"\r\n                      src={require('../image/memberImage/avatarDefult.jpg')}\r\n                      onClick={showMenu2}\r\n                    />\r\n                    {showMemberMenu ? (\r\n                      <div class=\"card mt-5\" data-aos=\"zoom-in-down\">\r\n                        <div class=\"card-body\">\r\n                          <div class=\"border-bottom pb-3 d-flex flex-column justify-content-center\">\r\n                            <Link to=\"/memberuser\">會員中心</Link>\r\n                            <Link to=\"/memberuser/order\">我的訂單</Link>\r\n                            <Link to=\"/memberuser/class\">我的課程</Link>\r\n                            <Link to=\"/memberuser/event\">我的揪團</Link>\r\n                            <Link to=\"/memberuser/blog\">我的文章</Link>\r\n                            <Link to=\"/memberuser/coupon\">我的優惠券</Link>\r\n                          </div>\r\n\r\n                          <button\r\n                            type=\"button\"\r\n                            className=\"btn btn-sm mt-3\"\r\n                            onClick={() => {\r\n                              props.memberLogoutAsync()\r\n                            }}\r\n                          >\r\n                            登出\r\n                            {/* <i class=\"fas fa-sign-out-alt\" style={{fontSize:'20px'}}></i> */}\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    ) : (\r\n                      ''\r\n                    )}\r\n                  </figure>\r\n                </div>\r\n              )}\r\n\r\n              {/* <div className=\"avatar\" onClick={showMenu}>\r\n                <img />\r\n              </div> */}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </nav>\r\n    </>\r\n  )\r\n}\r\n\r\n// 取得Redux中store的值\r\nconst mapStateToProps = store => {\r\n  return {}\r\n}\r\n\r\n// 指示dispatch要綁定哪些action creators\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      memberLogoutAsync,\r\n    },\r\n    dispatch\r\n  )\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Header)\r\n","import React from 'react'\r\n// import ccc from '../../public/images/member/coralreef.jpg'\r\n\r\nfunction Banner(props) {\r\n  return (\r\n    <>\r\n      <div className=\"banner\">\r\n        <img src={props.BannerImgSrc} alt=\"\" />\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Banner\r\n","/* eslint-disable jsx-a11y/anchor-is-valid */\r\nimport React from 'react'\r\nimport '../style/common.scss'\r\n\r\nfunction Footer() {\r\n  return (\r\n    <>\r\n      <div className=\"footbody d-flex justify-content-around row \">\r\n        <div className=\"d-flex align-self-center footlink col-sm-6 row\">\r\n          <div className=\"aqualogo align-self-center col-sm-3\"></div>\r\n          <a href=\"\" className=\"mt-2 nav-link col-sm-3\">\r\n            購物說明\r\n          </a>\r\n          <a href=\"\" className=\"mt-2 nav-link col-sm-3\">\r\n            隱私權政策\r\n          </a>\r\n          <a href=\"\" className=\"mt-2 nav-link col-sm-3\">\r\n            關於AQUA\r\n          </a>\r\n        </div>\r\n        <p className=\"align-self-end col-sm-3\">\r\n          Copyright © 2020 AQUA. All rights reserved.\r\n        </p>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Footer\r\n","import React from 'react'\r\n\r\nimport { withRouter } from 'react-router-dom'\r\n\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\n\r\nimport { fetchMapmarks } from '../../actions/location/Location_Action'\r\nimport 'leaflet/dist/leaflet.css'\r\nimport L from 'leaflet'\r\n\r\n// 參考資料 : https://leafletjs.com/examples/quick-start/ & https://juejin.im/post/5cc192976fb9a032092e8e0a\r\nlet mymap\r\nclass map extends React.Component {\r\n  componentDidMount() {\r\n    this.props.fetchMapmarks()\r\n  }\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.mapmarksGCS !== prevProps.mapmarksGCS) {\r\n      if (mymap !== undefined) {\r\n        mymap.remove()\r\n      }\r\n      const currentmark = this.props.match.params\r\n      const marksinfo = this.props.mapmarksGCS.DivelocationInfo\r\n      // console.log(marksinfo)\r\n      // console.log(currentmark)\r\n      const locatecurrentmark = marksinfo.filter(\r\n        marksinfo => marksinfo.LocationID === currentmark.LocationID\r\n      )\r\n      // console.log(locatecurrentmark)\r\n      locatecurrentmark.forEach(function(locatecurrentmark) {\r\n        mymap = L.map('mapid').setView(\r\n          [locatecurrentmark.Latitude, locatecurrentmark.Longitude],\r\n          15\r\n        )\r\n      })\r\n      //locatecurrentmark.Latitude, locatecurrentmark.Longitude\r\n      const OSMUrl = 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png'\r\n\r\n      L.tileLayer(OSMUrl).addTo(mymap)\r\n\r\n      // 使用 leaflet-color-markers ( https://github.com/pointhi/leaflet-color-markers ) 當作 marker\r\n      const blueIcon = new L.Icon({\r\n        iconUrl:\r\n          'https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-blue.png',\r\n        shadowUrl:\r\n          'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',\r\n        iconSize: [25, 41],\r\n        iconAnchor: [12, 41],\r\n        popupAnchor: [1, -34],\r\n        shadowSize: [41, 41],\r\n      })\r\n\r\n      // const marksinfoarr = Object.keys(marksinfo).map(function(_) { return marksinfo[_]; })\r\n      // const mapmarks = marksinfoarr.flat()\r\n      //WTF type of ?????\r\n      // console.log(marksinfo)\r\n      // console.log(typeof marksinfo)\r\n\r\n      // console.log(currentmark)\r\n      marksinfo.forEach(function(marksinfo) {\r\n        L.marker([marksinfo.Latitude, marksinfo.Longitude], { icon: blueIcon })\r\n          .addTo(mymap)\r\n          .bindPopup(marksinfo.LocationName)\r\n      })\r\n      // 打開現在地點\r\n      locatecurrentmark.forEach(function(marksinfo) {\r\n        L.marker([marksinfo.Latitude, marksinfo.Longitude], { icon: blueIcon })\r\n          .addTo(mymap)\r\n          .bindPopup(marksinfo.LocationName)\r\n          .openPopup()\r\n      })\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <>\r\n        <div id=\"mapid\" className=\"divemap\"></div>\r\n      </>\r\n    )\r\n  }\r\n}\r\n// 取得Redux中store的值\r\nconst mapStateToProps = store => {\r\n  return { mapmarksGCS: store.locationReducer.mapmarksGCS }\r\n}\r\n\r\n// 指示dispatch要綁定哪些action creators\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators({ fetchMapmarks }, dispatch)\r\n}\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(map))\r\n","import axios from 'axios'\r\n\r\n// get 經緯度\r\nexport const getMapmarks = data => ({\r\n  type: 'GET_GCSDATA',\r\n  value: data,\r\n})\r\nexport const fetchMapmarks = () => {\r\n  return dispatch => {\r\n    axios\r\n      .get('http://localhost:5000/divelocation/marks')\r\n      .then(function(response) {\r\n        // Success\r\n        const marks = response.data\r\n        dispatch(getMapmarks(marks))\r\n      })\r\n      .catch(function(error) {\r\n        // Error\r\n        console.log(error)\r\n      })\r\n  }\r\n}\r\n\r\n//取得地區所屬地點\r\nexport const getRegion = data => ({\r\n  type: 'GET_REGIONDATA',\r\n  value: data,\r\n})\r\nexport const fetchRegions = () => {\r\n  return dispatch => {\r\n    axios\r\n      .get('http://localhost:5000/divelocation/region')\r\n      .then(function(response) {\r\n        // Success\r\n        const regions = response.data\r\n        dispatch(getRegion(regions))\r\n      })\r\n      .catch(function(error) {\r\n        // Error\r\n        console.log(error)\r\n      })\r\n  }\r\n}\r\n\r\n//取得地點詳細資訊\r\nexport const getLocationinfo = data => ({\r\n  type: 'GET_INFODATA',\r\n  value: data,\r\n})\r\nexport const fetchInfos = () => {\r\n  return dispatch => {\r\n    axios\r\n      .get('http://localhost:5000/divelocation/info')\r\n      .then(function(response) {\r\n        // Success\r\n        const infos = response.data\r\n        dispatch(getLocationinfo(infos))\r\n      })\r\n      .catch(function(error) {\r\n        // Error\r\n        console.log(error)\r\n      })\r\n  }\r\n}\r\n//取得圖片\r\nexport const getImages = data => ({\r\n  type: 'GET_LOCUSIMAGES',\r\n  value: data,\r\n})\r\nexport const fetchImages = () => {\r\n  return dispatch => {\r\n    axios\r\n      .get('http://localhost:5000/divelocation/images')\r\n      .then(function(response) {\r\n        // Success\r\n        const Images = response.data\r\n        dispatch(getImages(Images))\r\n      })\r\n      .catch(function(error) {\r\n        // Error\r\n        console.log(error)\r\n      })\r\n  }\r\n}\r\n//取得海況\r\nexport const getSeastate = data => ({\r\n  type: 'GET_SEASTATES',\r\n  value: data,\r\n})\r\nexport const fetchSeastate = () => {\r\n  return dispatch => {\r\n    axios\r\n      .get('http://localhost:5000/divelocation/seastate')\r\n      .then(function(response) {\r\n        // Success\r\n        const Seastate = response.data\r\n        dispatch(getSeastate(Seastate))\r\n      })\r\n      .catch(function(error) {\r\n        // Error\r\n        console.log(error)\r\n      })\r\n  }\r\n}\r\n//取得一周預報\r\nexport const getWeeklyreport = data => ({\r\n  type: 'GET_WEEKREPORT',\r\n  value: data,\r\n})\r\nexport const fetchWeeklyreport = () => {\r\n  return dispatch => {\r\n    axios\r\n      .get('http://localhost:5000/divelocation/weekweather')\r\n      .then(function(response) {\r\n        // Success\r\n        const Weeklyreport = response.data\r\n        dispatch(getWeeklyreport(Weeklyreport))\r\n      })\r\n      .catch(function(error) {\r\n        // Error\r\n        console.log(error)\r\n      })\r\n  }\r\n}\r\n//取得潮汐預報\r\nexport const getTidereport = data => ({\r\n  type: 'GET_TIDEREPORT',\r\n  value: data,\r\n})\r\nexport const fetchgetTidereport = () => {\r\n  return dispatch => {\r\n    axios\r\n      .get('http://localhost:5000/divelocation/tide')\r\n      .then(function(response) {\r\n        // Success\r\n        const getTidereports = response.data\r\n        dispatch(getTidereport(getTidereports))\r\n      })\r\n      .catch(function(error) {\r\n        // Error\r\n        console.log(error)\r\n      })\r\n  }\r\n}\r\n","import React from 'react'\r\nimport { Accordion } from 'react-bootstrap'\r\nimport { Card } from 'react-bootstrap'\r\nimport { Button } from 'react-bootstrap'\r\n//redux\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport {\r\n  fetchRegions,\r\n  fetchMapmarks,\r\n} from '../../actions/location/Location_Action'\r\nimport { Link } from 'react-router-dom'\r\nclass Area extends React.Component {\r\n  componentDidMount() {\r\n    this.props.fetchRegions()\r\n  }\r\n  render() {\r\n    let { Divelocationregion = [] } = this.props.Regions\r\n    let Eastcoastlist = Divelocationregion.filter(\r\n      area => area.LocationArea === '花東海岸'\r\n    )\r\n    let Northeastcapelist = Divelocationregion.filter(\r\n      area => area.LocationArea === '東北角'\r\n    )\r\n    let Greenislandlist = Divelocationregion.filter(\r\n      area => area.LocationArea === '綠島'\r\n    )\r\n    let Iralalist = Divelocationregion.filter(\r\n      area => area.LocationArea === '蘭嶼'\r\n    )\r\n    let Kentinglist = Divelocationregion.filter(\r\n      area => area.LocationArea === '墾丁'\r\n    )\r\n    return (\r\n      <div>\r\n        <Accordion>\r\n          <Card className=\"locationcard\">\r\n            <Accordion.Toggle as={Button} eventKey=\"0\">\r\n              <h2 className=\"locationh2\">東北角</h2>\r\n            </Accordion.Toggle>\r\n            <Accordion.Collapse eventKey=\"0\">\r\n              <Card.Body>\r\n                <ul className=\"locationlist\">\r\n                  {Northeastcapelist.map((value, index) => {\r\n                    return (\r\n                      <li key={index}>\r\n                        <Link\r\n                          role=\"button\"\r\n                          to={value.LocationID}\r\n                          onClick={() => {\r\n                            this.props.fetchMapmarks()\r\n                          }}\r\n                        >\r\n                          {value.LocationName}\r\n                        </Link>\r\n                      </li>\r\n                    )\r\n                  })}\r\n                </ul>\r\n              </Card.Body>\r\n            </Accordion.Collapse>\r\n          </Card>\r\n          <Card className=\"locationcard\">\r\n            <Accordion.Toggle as={Button} eventKey=\"1\">\r\n              <h2 className=\"locationh2\">花東海岸</h2>\r\n            </Accordion.Toggle>\r\n            <Accordion.Collapse eventKey=\"1\">\r\n              <Card.Body>\r\n                <ul className=\"locationlist\">\r\n                  {Eastcoastlist.map((value, index) => {\r\n                    return (\r\n                      <li key={index}>\r\n                        <Link\r\n                          role=\"button\"\r\n                          to={value.LocationID}\r\n                          onClick={() => {\r\n                            this.props.fetchMapmarks()\r\n                          }}\r\n                        >\r\n                          {value.LocationName}\r\n                        </Link>\r\n                      </li>\r\n                    )\r\n                  })}\r\n                </ul>\r\n              </Card.Body>\r\n            </Accordion.Collapse>\r\n          </Card>\r\n          <Card className=\"locationcard\">\r\n            <Accordion.Toggle as={Button} eventKey=\"2\">\r\n              <h2 className=\"locationh2\">綠島</h2>\r\n            </Accordion.Toggle>\r\n            <Accordion.Collapse eventKey=\"2\">\r\n              <Card.Body>\r\n                <ul className=\"locationlist\">\r\n                  {Greenislandlist.map((value, index) => {\r\n                    return (\r\n                      <li key={index}>\r\n                        <Link\r\n                          role=\"button\"\r\n                          to={value.LocationID}\r\n                          onClick={() => {\r\n                            this.props.fetchMapmarks()\r\n                          }}\r\n                        >\r\n                          {value.LocationName}\r\n                        </Link>\r\n                      </li>\r\n                    )\r\n                  })}\r\n                </ul>\r\n              </Card.Body>\r\n            </Accordion.Collapse>\r\n          </Card>\r\n          <Card className=\"locationcard\">\r\n            <Accordion.Toggle as={Button} eventKey=\"3\">\r\n              <h2 className=\"locationh2\">蘭嶼</h2>\r\n            </Accordion.Toggle>\r\n            <Accordion.Collapse eventKey=\"3\">\r\n              <Card.Body>\r\n                <ul className=\"locationlist\">\r\n                  {Iralalist.map((value, index) => {\r\n                    return (\r\n                      <li key={index}>\r\n                        <Link\r\n                          role=\"button\"\r\n                          to={value.LocationID}\r\n                          onClick={() => {\r\n                            this.props.fetchMapmarks()\r\n                          }}\r\n                        >\r\n                          {value.LocationName}\r\n                        </Link>\r\n                      </li>\r\n                    )\r\n                  })}\r\n                </ul>\r\n              </Card.Body>\r\n            </Accordion.Collapse>\r\n          </Card>\r\n          <Card className=\"locationcard\">\r\n            <Accordion.Toggle as={Button} eventKey=\"4\">\r\n              <h2 className=\"locationh2\">墾丁</h2>\r\n            </Accordion.Toggle>\r\n            <Accordion.Collapse eventKey=\"4\">\r\n              <Card.Body>\r\n                <ul className=\"locationlist\">\r\n                  {Kentinglist.map((value, index) => {\r\n                    return (\r\n                      <li key={index}>\r\n                        <Link\r\n                          role=\"button\"\r\n                          to={value.LocationID}\r\n                          onClick={() => {\r\n                            this.props.fetchMapmarks()\r\n                          }}\r\n                        >\r\n                          {value.LocationName}\r\n                        </Link>\r\n                      </li>\r\n                    )\r\n                  })}\r\n                </ul>\r\n              </Card.Body>\r\n            </Accordion.Collapse>\r\n          </Card>\r\n        </Accordion>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n// 取得Redux中store的值\r\nconst mapStateToProps = store => {\r\n  return { Regions: store.locationReducer.Regions }\r\n}\r\n\r\n// 指示dispatch要綁定哪些action creators\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators({ fetchRegions, fetchMapmarks }, dispatch)\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Area)\r\n","import React, { Component } from 'react'\r\nimport ImageGallery from 'react-image-gallery'\r\nimport '../../style/divelocation/image-gallery.scss'\r\n\r\nimport { withRouter } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport { fetchImages } from '../../actions/location/Location_Action'\r\nexport class Images extends Component {\r\n  componentDidMount() {\r\n    this.props.fetchImages()\r\n  }\r\n  render() {\r\n    const currentimageID = this.props.match.params\r\n    let { Divelocationimages = [] } = this.props.LocusImages\r\n    // console.log(locationimages)\r\n    let currentimages\r\n    currentimages = Divelocationimages.filter(\r\n      locationimages =>\r\n        locationimages.originalTitle === currentimageID.LocationID\r\n    )\r\n    return (\r\n      <div>\r\n        <ImageGallery items={currentimages} />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n// 取得Redux中store的值\r\nconst mapStateToProps = store => {\r\n  return { LocusImages: store.locationReducer.LocusImages }\r\n}\r\n\r\n// 指示dispatch要綁定哪些action creators\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators({ fetchImages }, dispatch)\r\n}\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Images))\r\n","import React from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\n\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport { fetchInfos } from '../../actions/location/Location_Action'\r\n\r\nexport class Locusinfo extends React.Component {\r\n  componentDidMount() {\r\n    this.props.fetchInfos()\r\n  }\r\n  render() {\r\n    let { DivelocationInfo = [] } = this.props.LocusInfos\r\n    // console.log(this.props)\r\n    const currentid = this.props.match.params\r\n    //   console.log(currentid)\r\n    let currentlocation\r\n    currentlocation = DivelocationInfo.filter(\r\n      localinfo => localinfo.LocationID === currentid.LocationID\r\n    )\r\n    console.log(this.props)\r\n    return (\r\n      <div>\r\n        {currentlocation.map((value, index) => {\r\n          return (\r\n            <div key={index}>\r\n              <h2 className=\"locationh2\">{value.LocationName}</h2>\r\n              <hr />\r\n              <ul>\r\n                <li>潛點難度：{value.Locationlevel}</li>\r\n                <li>交通資訊：{value.Transportation}</li>\r\n                <li>{value.Locationdescribe}</li>\r\n                <li>備註：{value.noted}</li>\r\n              </ul>\r\n            </div>\r\n          )\r\n        })}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n// 取得Redux中store的值\r\nconst mapStateToProps = store => {\r\n  return { LocusInfos: store.locationReducer.LocusInfos }\r\n}\r\n// 指示dispatch要綁定哪些action creators\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators({ fetchInfos }, dispatch)\r\n}\r\nexport default withRouter(\r\n  connect(mapStateToProps, mapDispatchToProps)(Locusinfo)\r\n)\r\n","import React from 'react'\r\nimport { Tabs } from 'react-bootstrap'\r\nimport { Tab } from 'react-bootstrap'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport {\r\n  fetchSeastate,\r\n  fetchWeeklyreport,\r\n  fetchgetTidereport,\r\n} from '../../actions/location/Location_Action'\r\nexport class Weather extends React.Component {\r\n  componentDidMount() {\r\n    this.props.fetchWeeklyreport()\r\n    this.props.fetchgetTidereport()\r\n    this.props.fetchSeastate()\r\n  }\r\n  render() {\r\n    const currentid = this.props.match.params.LocationID\r\n    let idfour = currentid[3]\r\n    let idfive = currentid[4]\r\n    let idtonum = idfour + idfive\r\n    // console.log(this.props.LocusWeeklyreport)\r\n    // console.log(this.props.LocusTidereport)\r\n    let { weekweather = [] } = this.props.LocusWeeklyreport\r\n    let { seastate = [] } = this.props.LocusSeastate\r\n    let { tide = [] } = this.props.LocusTidereport\r\n    let currentseastate\r\n    let currentweekweather\r\n    let currenttide\r\n    if (idtonum < '02') {\r\n      currentseastate = seastate.filter(area => area.Area === '花東海岸')\r\n      currentweekweather = weekweather.filter(\r\n        area => area.locationName === '豐濱鄉'\r\n      )\r\n      currenttide = tide.filter(area => area.StationId === '001508')\r\n    } else if (idtonum > '01' && idtonum < '10') {\r\n      currentseastate = seastate.filter(area => area.Area === '東北角')\r\n      currentweekweather = weekweather.filter(\r\n        area => area.locationName === '貢寮區'\r\n      )\r\n      currenttide = tide.filter(area => area.StationId === '500026')\r\n    } else if (idtonum > '09' && idtonum < '12') {\r\n      currentseastate = seastate.filter(area => area.Area === '墾丁')\r\n      currentweekweather = weekweather.filter(\r\n        area => area.locationName === '恆春鎮'\r\n      )\r\n      currenttide = tide.filter(area => area.StationId === '001304')\r\n    } else if (idtonum > '11' && idtonum < '15') {\r\n      currentseastate = seastate.filter(area => area.Area === '東部離島')\r\n      currentweekweather = weekweather.filter(\r\n        area => area.locationName === '綠島鄉'\r\n      )\r\n      currenttide = tide.filter(area => area.StationId === '001411')\r\n    } else if (idtonum > '14' && idtonum < '21') {\r\n      currentseastate = seastate.filter(area => area.Area === '東部離島')\r\n      currentweekweather = weekweather.filter(\r\n        area => area.locationName === '蘭嶼鄉'\r\n      )\r\n      currenttide = tide.filter(area => area.StationId === '001416')\r\n    }\r\n    // console.log(currentseastate)\r\n    // console.log(currentweekweather)\r\n    // console.log(currenttide)\r\n\r\n    return (\r\n      <div>\r\n        <Tabs>\r\n          <Tab eventKey=\"SeaForNow\" title=\"現在海況\">\r\n            <table className=\"table weathertable\">\r\n              <thead>\r\n                <tr>\r\n                  <th>觀測時間</th>\r\n                  <th>海溫(攝氏)</th>\r\n                  <th>氣溫(攝氏)</th>\r\n                  <th>浪週期(毫秒)</th>\r\n                  <th>浪高(公分)</th>\r\n                  <th>浪向</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {currentseastate.map((value, index) => {\r\n                  return (\r\n                    <tr>\r\n                      <td>{value.date}</td>\r\n                      <td>{value.seatemperature}</td>\r\n                      <td>{value.temperature}</td>\r\n                      <td>{value.waveperiod}</td>\r\n                      <td>{value.waveheight}</td>\r\n                      <td>{value.wavedirection}</td>\r\n                    </tr>\r\n                  )\r\n                })}\r\n              </tbody>\r\n            </table>\r\n          </Tab>\r\n          <Tab eventKey=\"Week\" title=\"一周天氣預報\">\r\n            <table className=\"table weathertable\">\r\n              <thead>\r\n                <tr>\r\n                  <th>日期</th>\r\n                  <th>氣候描述</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {currentweekweather.map((value, index) => {\r\n                  return (\r\n                    <tr>\r\n                      <td className=\"weekweatherdate\">{value.Date}</td>\r\n                      <td className=\"WeatherDescription\">\r\n                        {value.WeatherDescription}\r\n                      </td>\r\n                    </tr>\r\n                  )\r\n                })}\r\n              </tbody>\r\n            </table>\r\n          </Tab>\r\n          <Tab eventKey=\"Tide\" title=\"潮汐預報\">\r\n            <table className=\"table weathertable \">\r\n              <thead>\r\n                <tr>\r\n                  <th>日期</th>\r\n                  <th>農曆日期</th>\r\n                  <th>潮差種類</th>\r\n                  <th>潮汐種類</th>\r\n                  <th>潮汐時間</th>\r\n                  <th>潮差(台灣高程基準)</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {currenttide.map((value, index) => {\r\n                  return (\r\n                    <tr>\r\n                      <td>{value.Date}</td>\r\n                      <td>{value.Lunardate}</td>\r\n                      <td>{value.Tidalrange}</td>\r\n                      <td>{value.Tidetype}</td>\r\n                      <td>{value.Tidetime}</td>\r\n                      <td>{value.Tideheight}</td>\r\n                    </tr>\r\n                  )\r\n                })}\r\n              </tbody>\r\n            </table>\r\n          </Tab>\r\n        </Tabs>\r\n      </div>\r\n    )\r\n  }\r\n}\r\nconst mapStateToProps = store => {\r\n  return {\r\n    LocusSeastate: store.locationReducer.LocusSeastate,\r\n    LocusWeeklyreport: store.locationReducer.LocusWeeklyreport,\r\n    LocusTidereport: store.locationReducer.LocusTidereport,\r\n  }\r\n}\r\n// 指示dispatch要綁定哪些action creators\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    { fetchSeastate, fetchWeeklyreport, fetchgetTidereport },\r\n    dispatch\r\n  )\r\n}\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Weather))\r\n","import axios from 'axios'\r\n\r\n//取得地點留言\r\nexport const getLocationcomment = data => ({\r\n  type: 'GET_LOCATIONCOMMENT',\r\n  value: data,\r\n})\r\nexport const fetchLocationcomment = () => {\r\n  return dispatch => {\r\n    axios\r\n      .get('http://localhost:5000/comment/location')\r\n      .then(function(response) {\r\n        // Success\r\n        const comment = response.data\r\n        dispatch(getLocationcomment(comment))\r\n      })\r\n      .catch(function(error) {\r\n        // Error\r\n        console.log(error)\r\n      })\r\n  }\r\n}\r\n\r\n//取得文章留言\r\nexport const getBlogcomment = data => ({\r\n  type: 'GET_BLOGCOMMENT',\r\n  value: data,\r\n})\r\nexport const fetchBlogcomment = () => {\r\n  return dispatch => {\r\n    axios\r\n      .get('http://localhost:5000/comment/blog')\r\n      .then(function(response) {\r\n        // Success\r\n        const comment = response.data\r\n        dispatch(getBlogcomment(comment))\r\n      })\r\n      .catch(function(error) {\r\n        // Error\r\n        console.log(error)\r\n      })\r\n  }\r\n}\r\n//送出留言資料\r\nexport const Sentlocationcomment = data => ({\r\n  type: 'SENT_COMMENT',\r\n  value: data,\r\n})\r\n\r\nexport const Submmitlocationcomment = formData => {\r\n  console.log(formData)\r\n  return async dispatch => {\r\n    const fd = new FormData()\r\n    fd.append('pageid', formData.pageid)\r\n    fd.append('memberid', formData.memberid)\r\n    fd.append('membername', formData.membername)\r\n    fd.append('commentitself', formData.commentitself)\r\n    console.log(fd)\r\n    const request = new Request(\r\n      'http://localhost:5000/comment/sentlocationcomment',\r\n      {\r\n        method: 'POST',\r\n        body: fd,\r\n      }\r\n    )\r\n    const response = await fetch(request)\r\n    const data = await response.json()\r\n    dispatch(Sentlocationcomment(data))\r\n  }\r\n}\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport '../../style/Comment.scss'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport {\r\n  fetchLocationcomment,\r\n  Submmitlocationcomment,\r\n} from '../../actions/comment/comment_action'\r\nimport withReactContent from 'sweetalert2-react-content'\r\nimport sweetalert from 'sweetalert2'\r\n\r\nexport class Comment extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      pageid: this.props.match.params.LocationID,\r\n      memberid: localStorage.getItem('memberId'),\r\n      membername: '',\r\n      commentitself: '',\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    this.props.fetchLocationcomment()\r\n  }\r\n  render() {\r\n    let { locationcomment = [] } = this.props.Locationcomments\r\n    const currentparams = this.props.match.params.LocationID\r\n    let commenthere\r\n    commenthere = locationcomment.filter(id => id.Locationid === currentparams)\r\n\r\n    const sentcommentdatatodb = () => {\r\n      let sentcommentdata = {\r\n        pageid: this.state.pageid,\r\n        memberid: this.state.memberid,\r\n        membername: this.state.membername,\r\n        commentitself: this.state.commentitself,\r\n      }\r\n      const MySwal = withReactContent(sweetalert)\r\n\r\n      MySwal.fire({\r\n        title: '確定送出?',\r\n        icon: 'warning',\r\n        showCancelButton: true,\r\n        confirmButtonText: '送出',\r\n        cancelButtonText: '取消',\r\n      }).then(result => {\r\n        if (result.value) {\r\n          MySwal.fire('送出成功!', '已成功送出評論', 'success')\r\n          this.props.Submmitlocationcomment(sentcommentdata)\r\n          this.props.fetchLocationcomment()\r\n        }\r\n      })\r\n    }\r\n    console.log(this.state)\r\n    return (\r\n      <div>\r\n        <div className=\"commentboard\">\r\n          {commenthere.map(value => {\r\n            return (\r\n              <div className=\"comments\">\r\n                <div className=\"d-flex\">\r\n                  <Link to=\"\">\r\n                    <img src=\"/images/member/nemo.jpg\" alt=\"\" />\r\n                  </Link>\r\n                  <div>\r\n                    <div className=\"d-flex sign align-items-end\">\r\n                      <h4>{value.member_name}</h4>\r\n                      <h6>{value.comment_date}</h6>\r\n                    </div>\r\n                    <div className=\"comentitself\">\r\n                      <p className=\"artical\">{value.comment}</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )\r\n          })}\r\n          <div className=\"d-flex comments\">\r\n            <Link to=\"\">\r\n              <img src=\"/images/member/avatar.png\" alt=\"\" />\r\n            </Link>\r\n            <div className=\"inputarea\">\r\n              <form>\r\n                <div className=\"comentitself\">\r\n                  <textarea\r\n                    name=\"comment\"\r\n                    id=\"\"\r\n                    cols=\"30\"\r\n                    rows=\"10\"\r\n                    onChange={event => {\r\n                      this.setState({\r\n                        commentitself: event.target.value,\r\n                      })\r\n                    }}\r\n                  ></textarea>\r\n                </div>\r\n                <div className=\"d-flex justify-content-end sentcomment\">\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn\"\r\n                    onClick={() => {\r\n                      sentcommentdatatodb() //觸發新增活動資料的事件\r\n                    }}\r\n                  >\r\n                    送出\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n// 取得Redux中store的值\r\nconst mapStateToProps = store => {\r\n  return {\r\n    Locationcomments: store.commentReducer.Locationcomment,\r\n  }\r\n}\r\n// 指示dispatch要綁定哪些action creators\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    { fetchLocationcomment, Submmitlocationcomment },\r\n    dispatch\r\n  )\r\n}\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Comment))\r\n","import React from 'react'\r\n// scss\r\nimport '../../style/divelocation/divelocation.scss'\r\n// Redux\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\n\r\nimport { BrowserRouter, Route, Link } from 'react-router-dom'\r\n// Action\r\n\r\n// 通用conmponent\r\nimport Header from '../../components/Header'\r\nimport Banner from '../../components/Banner'\r\nimport Footer from '../../components/Footer'\r\n// conmponent\r\nimport Area from '../../components/divelocation/Area'\r\nimport Map from '../../components/divelocation/map'\r\nimport Images from '../../components/divelocation/Images'\r\nimport Locusinfo from '../../components/divelocation/Locusinfo'\r\nimport Weather from '../../components/divelocation/Weather'\r\nimport Comment from '../../components/comment/Comment'\r\n\r\nfunction Divelocation() {\r\n  return (\r\n    <div>\r\n      <Header />\r\n      <Banner BannerImgSrc=\"/images/locationbanner.jpg\" />\r\n      <div className=\"container locationcontent\">\r\n        <section className=\"divelocussection\">\r\n          <h1 className=\"locationh1\">AQUA 精選潛點地圖</h1>\r\n          <div className=\"row\">\r\n            <div className=\"col-sm-3\">\r\n              <Area />\r\n            </div>\r\n            <div className=\"col-sm-9\">\r\n              <Map />\r\n            </div>\r\n          </div>\r\n        </section>\r\n        <section className=\"divelocussection divelocusinfos\">\r\n          <h1 className=\"locationh1\">潛點資訊</h1>\r\n          <div className=\"row\">\r\n            <div className=\"col-sm-6\">\r\n              <Images />\r\n            </div>\r\n            <div className=\"col-sm-6 locusinfo\">\r\n              <Locusinfo />\r\n            </div>\r\n          </div>\r\n        </section>\r\n        <section className=\"divelocussection regionwether\">\r\n          <h1 className=\"locationh1\">地區天氣預報與實時海象</h1>\r\n          <Weather />\r\n        </section>\r\n        <section className=\"divelocussection\">\r\n          <h1 className=\"locationh1\">潛友評論</h1>\r\n          <Comment />\r\n        </section>\r\n      </div>\r\n      <Footer />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Divelocation\r\n","import React, { useState, useRef, useEffect } from 'react'\r\n// import Menu from './SidebarBox/Menu'\r\n// import Sidebar from './Sidebar'\r\n// import Topbar from './Topbar'\r\n// import './Navbar.css'\r\n// import '../../style/variable.scss'\r\nimport { Nav, Navbar, Form, FormControl } from 'react-bootstrap'\r\nimport styled from 'styled-components'\r\n\r\nconst Styles = styled.div`\r\n  .navbar {\r\n    background-color: #4e5f76;\r\n  }\r\n  a,\r\n  .navbar-nav,\r\n  .navbar-light .nav-link {\r\n    color: white;\r\n    &:hover {\r\n      color: white;\r\n    }\r\n  }\r\n  .navbar-brand {\r\n    font-size: 1.4em;\r\n    color: white;\r\n    &:hover {\r\n      color: white;\r\n    }\r\n  }\r\n  .form-center {\r\n    position: absolute !important;\r\n    left: 25%;\r\n    right: 25%;\r\n  }\r\n`\r\n\r\nexport const Navgation = () => (\r\n  <Styles>\r\n    <Navbar className=\"sticky-top\" expand=\"lg\">\r\n      <Navbar.Brand href=\"/\">賣家中心</Navbar.Brand>\r\n      <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n      <Form className=\"form-center\">\r\n        <FormControl type=\"text\" placeholder=\"Search\" className=\"\" />\r\n      </Form>\r\n      <Navbar.Collapse id=\"basic-navbar-nav\">\r\n        <Nav className=\"ml-auto\">\r\n          <Nav.Item>\r\n            <Nav.Link href=\"/\">Home</Nav.Link>\r\n          </Nav.Item>\r\n          <Nav.Item>\r\n            <Nav.Link href=\"/about\">About</Nav.Link>\r\n          </Nav.Item>\r\n        </Nav>\r\n      </Navbar.Collapse>\r\n    </Navbar>\r\n  </Styles>\r\n)\r\n\r\n// function Navgation(){\r\n\r\n//   return(\r\n//     <>\r\n//   <nav className=\"navbar navbar-expand-md navbar-light\">\r\n//   <button className=\"navbar-toggler ml-auto mb-2 bg-light\" type=\"button\" data-toggle=\"collapse\" data-target=\"#myNavbar\">\r\n//         <span className=\"navbar-toggler-icon\"></span>\r\n//       </button>\r\n//       <div className=\"collapse navbar-collapse\">\r\n//         <div className=\"container-fluid\">\r\n//           <div className=\"row\">\r\n//           <Sidebar/>\r\n//            <Topbar/>\r\n//             </div>\r\n//             </div>\r\n//           </div>\r\n//     </nav>\r\n//     </>\r\n//   )\r\n// }\r\n\r\nexport default Navgation\r\n","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nfunction MenuUI() {\r\n  return (\r\n    <ul className=\"navbar-nav flex-column mt-4\">\r\n      <li className=\"nav-item p-3 mb-2 sidebar-link\">\r\n        <NavLink\r\n          exact\r\n          activeClassName=\"active\"\r\n          className=\"nav-link\"\r\n          to=\"/seller/mainpage\"\r\n        >\r\n          <i className=\"fas fa-home text-white ml-2 mr-4\"></i>\r\n          <span className=\"hidden-sm-down text-white\">首頁</span>\r\n        </NavLink>\r\n      </li>\r\n      <li className=\"nav-item p-3 mb-2 sidebar-link\">\r\n        <NavLink\r\n          activeClassName=\"active\"\r\n          className=\"nav-link\"\r\n          to=\"/seller/info\"\r\n        >\r\n          <i className=\"fas fa-user mr-3 text-white\"></i>\r\n          <span className=\"hidden-sm-down text-white\">個人訊息</span>\r\n        </NavLink>\r\n      </li>\r\n      <li className=\"nav-item p-3 mb-2 sidebar-link\">\r\n        <NavLink\r\n          activeClassName=\"active\"\r\n          className=\"nav-link\"\r\n          to=\"/seller/coupon\"\r\n        >\r\n          <i className=\"fas fa-tags mr-3 text-white\"></i>\r\n          <span className=\"hidden-sm-down text-white\">優惠券</span>\r\n        </NavLink>\r\n      </li>\r\n      <li className=\"nav-item p-3 mb-2 sidebar-link\">\r\n        <NavLink\r\n          activeClassName=\"active\"\r\n          className=\"nav-link\"\r\n          to=\"/seller/class\"\r\n        >\r\n          <i className=\"fas fa-chalkboard-teacher mr-3 text-white\"></i>\r\n          <span className=\"hidden-sm-down text-white\">課程</span>\r\n        </NavLink>\r\n      </li>\r\n      <li className=\"nav-item p-3 mb-2 sidebar-link\">\r\n        <NavLink\r\n          activeClassName=\"active\"\r\n          className=\"nav-link\"\r\n          to=\"/seller/order\"\r\n        >\r\n          <i className=\"fas fa-store mr-3 text-white\"></i>\r\n          <span className=\"hidden-sm-down text-white\">訂單</span>\r\n        </NavLink>\r\n      </li>\r\n      <li className=\"nav-item text-white p-3 mb-2 sidebar-link\">\r\n        <NavLink\r\n          activeClassName=\"active\"\r\n          className=\"nav-link\"\r\n          to=\"/seller/managecustomer\"\r\n        >\r\n          <i className=\"fab fa-facebook-messenger text-white mr-3\"></i>\r\n          <span className=\"hidden-sm-down text-white\">顧客管理</span>\r\n        </NavLink>\r\n      </li>\r\n      <li className=\"nav-item text-white p-3 mb-2 sidebar-link\">\r\n        <NavLink\r\n          activeClassName=\"active\"\r\n          className=\"nav-link\"\r\n          to=\"/seller/itemmanager\"\r\n        >\r\n          <i class=\"fas fa-store-alt text-white mr-3\"></i>\r\n          <span className=\"hidden-sm-down text-white\">商品管理</span>\r\n        </NavLink>\r\n      </li>\r\n    </ul>\r\n  )\r\n}\r\n\r\nexport default MenuUI\r\n","import moment from 'moment'\r\n\r\nexport function formatDateMoment(stringDate, formatMoment, formatFinal) {\r\n  const date = moment(stringDate, formatMoment)\r\n  return date.isValid() ? date.format(formatFinal) : ''\r\n}\r\n\r\nexport function formatPorcentage(value) {\r\n  return value.toString().replace('.', ',')\r\n}\r\n\r\nconst numberFormatterDecimal = (c, i, a) =>\r\n  i && c !== '.' && (a.length - i) % 3 === 0 ? `.${c}` : c\r\n\r\nexport const formatNumberDecimal = number =>\r\n  number.toString().replace(/./g, numberFormatterDecimal)\r\n","import { Radar, HorizontalBar, Line, Bar } from 'react-chartjs-2'\r\n\r\nimport {\r\n  formatNumberDecimal,\r\n  formatDateMoment,\r\n  formatPorcentage,\r\n} from './utils'\r\n\r\n//這裡將常數匯出\r\n//把圖形的型別定義在一個物件裡面\r\nexport const graphicRadar = 'radar'\r\nexport const graphicBar = 'bar'\r\nexport const graphicHorizontalBar = 'horizontalBar'\r\nexport const graphicLine = 'line'\r\n\r\n//匯出成一個個元件\r\nexport const typesGraphic = {\r\n  [graphicRadar]: Radar,\r\n  [graphicBar]: Bar,\r\n  [graphicHorizontalBar]: HorizontalBar,\r\n  [graphicLine]: Line,\r\n}\r\n\r\n//定義有兩條線兩個對比資料\r\nconst GRAPHIC_IDS = {\r\n  BAR: 1,\r\n  LINE: 2,\r\n}\r\n\r\nexport const tooltipsGraphic = (graphicId, currency) => {\r\n  switch (graphicId) {\r\n    case GRAPHIC_IDS.BAR: {\r\n      return {\r\n        title: tooltipItem => tooltipItem[0].yLabel,\r\n        label: (tooltipItem, data) => `Ventas ${tooltipItem.xLabel}`,\r\n      }\r\n    }\r\n    case GRAPHIC_IDS.LINE: {\r\n      return {\r\n        title: (tooltipItem, data) => {\r\n          const date = data.labels[tooltipItem[0].index].split('|')\r\n          return `Date ${\r\n            tooltipItem.length > 1\r\n              ? data.labels[tooltipItem[0].index]\r\n              : date[tooltipItem[0].datasetIndex]\r\n          }`\r\n        },\r\n        label: (tooltipItem, data) =>\r\n          `${\r\n            data.datasets[tooltipItem.datasetIndex].label\r\n          }: ${currency} ${formatNumberDecimal(tooltipItem.yLabel)}`,\r\n        afterLabel: (tooltipItem, data) => {\r\n          const dataSetsValues = data.datasets.map(dataSet =>\r\n            parseInt(dataSet.data[tooltipItem.index], 10)\r\n          )\r\n          const percent =\r\n            (dataSetsValues.reduce((acum = 0, value) => acum / value) - 1) * 100\r\n          return tooltipItem.datasetIndex === data.datasets.length - 1 &&\r\n            !isNaN(percent) &&\r\n            percent !== Infinity\r\n            ? `Variación: ${formatPorcentage(percent.toFixed(1))}%`\r\n            : null\r\n        },\r\n      }\r\n    }\r\n    default: {\r\n      return []\r\n    }\r\n  }\r\n}\r\n\r\nexport const graphicRadarOptions = graphicId => {\r\n  const optionGraphic = {\r\n    responsive: true,\r\n    tooltips: {\r\n      mode: 'x',\r\n      intersect: false,\r\n      callbacks: tooltipsGraphic(graphicId),\r\n    },\r\n    hover: {\r\n      mode: 'x',\r\n      intersect: false,\r\n    },\r\n    legend: { display: false },\r\n    scales: {\r\n      xAxes: [\r\n        {\r\n          ticks: {\r\n            callback: value => {\r\n              const date = value.split(' | ')\r\n              return formatDateMoment(date[0], 'DD-MM-YYYY', 'DD-MM-YY')\r\n            },\r\n          },\r\n        },\r\n      ],\r\n    },\r\n  }\r\n  return optionGraphic\r\n}\r\n\r\nexport const graphicOptionsLine = graphicId => {\r\n  const optionGraphic = {\r\n    responsive: true,\r\n    tooltips: {\r\n      mode: 'x',\r\n      intersect: false,\r\n      callbacks: tooltipsGraphic(graphicId),\r\n    },\r\n    hover: {\r\n      mode: 'x',\r\n      intersect: false,\r\n    },\r\n  }\r\n  return optionGraphic\r\n}\r\n\r\nexport function optionsForGraphic(type, graphicId, currency) {\r\n  switch (type) {\r\n    case graphicRadar: {\r\n      return graphicRadarOptions(graphicId, currency)\r\n    }\r\n    case graphicLine: {\r\n      return graphicOptionsLine(graphicId, currency)\r\n    }\r\n    default: {\r\n      return {}\r\n    }\r\n  }\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nimport { optionsForGraphic, typesGraphic } from './constant'\r\n\r\nfunction Graphic({ type, data, width, height }) {\r\n  const Graphic = type && typesGraphic[type]\r\n  return (\r\n    <Graphic\r\n      data={data}\r\n      width={width}\r\n      height={height}\r\n      options={optionsForGraphic(type, data.id, data.currency)}\r\n    />\r\n  )\r\n}\r\n\r\nGraphic.propTypes = {\r\n  data: PropTypes.shape({\r\n    currency: PropTypes.string,\r\n    labels: PropTypes.arrayOf(PropTypes.string),\r\n    datasets: PropTypes.arrayOf(\r\n      PropTypes.shape({\r\n        id: PropTypes.number,\r\n        label: PropTypes.string,\r\n        data: PropTypes.arrayOf(PropTypes.number),\r\n      })\r\n    ),\r\n  }).isRequired,\r\n  width: PropTypes.number,\r\n  height: PropTypes.number,\r\n  type: PropTypes.string,\r\n  id: PropTypes.number,\r\n}\r\n\r\nexport default Graphic\r\n","export const GRAPHIC = {\r\n  labels: [\r\n    '07-11-2019',\r\n    '08-11-2019',\r\n    '09-11-2019',\r\n    '10-11-2019',\r\n    '11-11-2019',\r\n    '12-11-2019',\r\n    '13-11-2019',\r\n  ],\r\n  datasets: [\r\n    {\r\n      label: 'Periodo Actual',\r\n      data: [28742, 18342, 1223, 33510, 42540, 28760, 27490],\r\n      borderColor: '#108bc9',\r\n      backgroundColor: '#108bc9',\r\n      fill: false,\r\n      pointRadius: 3,\r\n      pointHoverRadius: 4,\r\n      borderWidth: 2,\r\n    },\r\n    {\r\n      label: 'Periodo Anterior',\r\n      data: [20650, 15251, 31190, 16030, 24800, 15910, 21934],\r\n      borderColor: '#9B9B9B',\r\n      backgroundColor: '#9B9B9B',\r\n      fill: false,\r\n      pointRadius: 3,\r\n      pointHoverRadius: 4,\r\n      borderWidth: 2,\r\n    },\r\n  ],\r\n}\r\n\r\nexport const GRAPHICS = [\r\n  {\r\n    type: 'radar',\r\n    width: 150,\r\n    height: 50,\r\n    data: { id: 1, ...GRAPHIC, currency: '$' },\r\n  },\r\n  {\r\n    type: 'line',\r\n    width: 300,\r\n    height: 100,\r\n    data: { id: 2, ...GRAPHIC, currency: '$' },\r\n  },\r\n  {\r\n    type: 'bar',\r\n    width: 300,\r\n    height: 100,\r\n    data: { id: 3, ...GRAPHIC, currency: '$' },\r\n  },\r\n  {\r\n    type: 'horizontalBar',\r\n    width: 300,\r\n    height: 100,\r\n    data: { id: 4, ...GRAPHIC, currency: '$' },\r\n  },\r\n]\r\n","import React, { Fragment } from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport Graphic from './Graphic'\r\nimport { GRAPHICS } from './constant'\r\nimport './Style/chartstyle.css'\r\n\r\nfunction Chart() {\r\n  return (\r\n    <>\r\n      <div className=\"App\">\r\n        {GRAPHICS.map(graphic => (\r\n          <React.Fragment key={graphic.id}>\r\n            <Graphic\r\n              type={graphic.type}\r\n              width={graphic.width}\r\n              height={graphic.height}\r\n              data={graphic.data}\r\n            />\r\n            <hr className=\"separator\" />\r\n          </React.Fragment>\r\n        ))}\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Chart\r\n","import React, { Component, useState } from 'react'\r\nimport Chart from './Chart'\r\nimport { Line } from 'react-chartjs-2'\r\n\r\nexport default class ChartRight extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      data: {\r\n        labels: ['3/25', '3/26', '3/27', '3/28', '3/29'],\r\n        datasets: [\r\n          {\r\n            label: 'Harry',\r\n            fill: false,\r\n            backgroundColor: 'rgba(19, 41 ,72, 0.25)',\r\n            data: [50, 55, 90, 120, 45, 0],\r\n            borderColor: 'rgb(255, 99, 132)',\r\n          },\r\n          {\r\n            label: 'Jamie',\r\n            fill: false,\r\n            backgroundColor: 'rgba(241, 90 ,36, 1)',\r\n            data: [90, 20, 40, 75, 82, 53],\r\n            borderColor: 'rgb(255, 204, 0)',\r\n          },\r\n          {\r\n            label: 'harrison',\r\n            fill: false,\r\n            backgroundColor: 'rgba(241, 90 ,36, 1)',\r\n            data: [41, 21, 42, 33, 22, 201],\r\n            borderColor: 'rgb(0, 99, 132)',\r\n          },\r\n        ],\r\n        maintainAspectRatio: false,\r\n      },\r\n      scales: {\r\n        xAxes: [\r\n          {\r\n            ticks: {\r\n              callback: function(label, index, labels) {\r\n                return label.toFixed(2) + '%'\r\n              },\r\n            },\r\n          },\r\n        ],\r\n        yAxes: [\r\n          {\r\n            ticks: {\r\n              callback: function(label, index, labels) {\r\n                return label\r\n              },\r\n              fontSize: 24,\r\n              fontColor: 'black',\r\n            },\r\n            display: true,\r\n          },\r\n        ],\r\n      },\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"col-sm-6\">\r\n        <h2 className=\"text-center\">到訪率前三名顧客</h2>\r\n        <Line\r\n          options={{\r\n            responsive: true,\r\n          }}\r\n          data={this.state.data}\r\n          height={300}\r\n          width={500}\r\n        />\r\n        <h2 className=\"text-center\">單位(到訪商品/次)</h2>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","//賣家資料相關\r\n//從後端用get方法在前端連接\r\n\r\nexport const sellerInfo = data => ({\r\n  type: 'SELLER_INFO',\r\n  value: data,\r\n})\r\n\r\nexport const sellerInfoAsync = (sellerInfoData, callback) => {\r\n  return async dispatch => {\r\n    const request = new Request('http://localhost:5000/seller/basic_info', {\r\n      method: 'GET',\r\n      headers: new Headers({\r\n        Accept: 'application/json',\r\n        'Content-Type': 'application/json',\r\n      }),\r\n    })\r\n\r\n    console.log(JSON.stringify(sellerInfoData))\r\n\r\n    const response = await fetch(request)\r\n    const data = await response.json()\r\n    console.log('res data', data)\r\n\r\n    dispatch(sellerInfo(data))\r\n  }\r\n}\r\n\r\n//從後端用get方法擷取seller的資料前端進行編輯\r\n\r\nexport const sellerEdit = data => ({\r\n  type: 'SELLER_EDIT',\r\n  value: data,\r\n})\r\n\r\nexport const sellerEditAsync = (sellerEDData, callback) => {\r\n  return async dispatch => {\r\n    const request = new Request(\r\n      // 'http://localhost:5000/seller/edit/:seller_id',\r\n      'http://localhost:5000/seller/edit/S20010001',\r\n\r\n      {\r\n        method: 'GET',\r\n        headers: new Headers({\r\n          Accept: 'application/json',\r\n          'Content-Type': 'application/json',\r\n        }),\r\n      }\r\n    )\r\n\r\n    console.log(JSON.stringify(sellerEDData))\r\n\r\n    const response = await fetch(request)\r\n    const data = await response.json()\r\n    console.log('res data', data)\r\n\r\n    dispatch(sellerEdit(sellerEDData))\r\n  }\r\n}\r\n\r\n// //使用者更新個人資料動作函數\r\nexport const sellerUpdate = sellerData => ({\r\n  type: 'SELLER_UPDATE',\r\n  data: sellerData,\r\n})\r\n\r\nexport const sellerUpdateAsync = (sellerData, callback) => {\r\n  return async dispatch => {\r\n    const request = new Request(\r\n      'http://localhost:5000/seller/edit/:seller_id',\r\n      {\r\n        method: 'POST',\r\n        headers: new Headers({\r\n          Accept: 'application/json',\r\n          'Content-Type': 'application/json',\r\n        }),\r\n      }\r\n    )\r\n\r\n    console.log(JSON.stringify(sellerData))\r\n\r\n    const response = await fetch(request)\r\n    const data = await response.json()\r\n    console.log('res data', data)\r\n\r\n    dispatch(sellerUpdate(sellerData))\r\n  }\r\n}\r\n\r\n//取得優惠券類型資料\r\nexport const getSellerNewCoupon = couponData => ({\r\n  type: 'COUPON_ALL_GET',\r\n  value: couponData,\r\n})\r\n//coup_cate_id=優惠券類型&coup_over=滿多少錢贈送贈品&givi_piece=贈送多少贈品&sort=排序類型(類型,方法)&page=頁碼\r\nexport const getSellerCouponAsync = coup_cate_id => {\r\n  return async dispatch => {\r\n    let query = []\r\n    if (coup_cate_id) query.push(`coup_cate_id=${coup_cate_id.trim()}`)\r\n    console.log(coup_cate_id)\r\n\r\n    const request = new Request(\r\n      `http://localhost:5000/seller/coupon/coupon_getdata?${query}`,\r\n      {\r\n        method: 'GET',\r\n        headers: new Headers({\r\n          Accept: 'application/json',\r\n          'Content-Type': 'application/json',\r\n        }),\r\n      }\r\n    )\r\n\r\n    console.log(JSON.stringify(coup_cate_id))\r\n\r\n    const response = await fetch(request)\r\n    const data = await response.json()\r\n    console.log('res data', data)\r\n\r\n    dispatch(getSellerNewCoupon(data))\r\n  }\r\n}\r\n\r\n// //取得新增頁面優惠券類型\r\n\r\nexport const getSellerNewInsertCoupon = couponGetDataInsert => ({\r\n  type: 'COUPON_GET_INSERT',\r\n  value: couponGetDataInsert,\r\n})\r\n\r\nexport const getSellerNewInsertCouponAsync = (\r\n  getcouponInsertData,\r\n  callback\r\n) => {\r\n  return async dispatch => {\r\n    const request = new Request(\r\n      'http://localhost:5000/seller/coupon/insert_coup',\r\n      {\r\n        method: 'GET',\r\n        headers: new Headers({\r\n          Accept: 'application/json',\r\n          'Content-Type': 'application/json',\r\n        }),\r\n      }\r\n    )\r\n\r\n    console.log(JSON.stringify(getcouponInsertData))\r\n\r\n    const response = await fetch(request)\r\n    const data = await response.json()\r\n    console.log('res data', data)\r\n\r\n    dispatch(getSellerNewInsertCoupon(data))\r\n  }\r\n}\r\n\r\n// //優惠券新增動作函數\r\nexport const insertSellerNewInsertCoupon = coupInsertData => ({\r\n  type: 'COUPON_INSERT',\r\n  value: coupInsertData,\r\n})\r\nexport const insertSellerNewInsertCouponAsync = (coupFormData, callback) => {\r\n  console.log(coupFormData)\r\n  return async dispatch => {\r\n    const request = new Request(\r\n      'http://localhost:5000/seller/coupon/insert_coup_data',\r\n      {\r\n        method: 'POST',\r\n        body: coupFormData,\r\n      }\r\n    )\r\n\r\n    const response = await fetch(request)\r\n    const data = await response.json()\r\n    console.log('res data', data)\r\n\r\n    dispatch(insertSellerNewInsertCoupon(data))\r\n\r\n    callback()\r\n  }\r\n}\r\n\r\n//贈品新增動作函數\r\n\r\nexport const addGiviData = data => ({\r\n  type: 'ADD_GIVIDATA',\r\n  value: data,\r\n})\r\nexport const addGiviDataAsync = GiviFormData => {\r\n  console.log(GiviFormData)\r\n  return async dispatch => {\r\n    const givi_fd = new FormData()\r\n    givi_fd.append('givi_cate_id', GiviFormData.givi_cate_id)\r\n    givi_fd.append('givi_name', GiviFormData.givi_name)\r\n    givi_fd.append('givi_img', GiviFormData.givi_img_upload)\r\n    givi_fd.append('givi_num', GiviFormData.givi_num)\r\n\r\n    const request = new Request(\r\n      `http://localhost:5000/seller/coupon/coupon_givi`,\r\n      {\r\n        method: 'POST',\r\n        body: givi_fd,\r\n      }\r\n    )\r\n\r\n    const response = await fetch(request)\r\n    const data = await response.json()\r\n    console.log(data)\r\n    dispatch(addGiviData(data))\r\n  }\r\n}\r\n//常客管理動作函數\r\n//get\r\nexport const customerGet = data => ({\r\n  type: 'CUSTOMER_GET',\r\n  value: data,\r\n})\r\n\r\nexport const customerGetAsync = (customerData, callback) => {\r\n  return async dispatch => {\r\n    let query = []\r\n    if (customerData) query.push(`searchType=${customerData.trim()}`)\r\n    console.log(query[0])\r\n\r\n    const request = new Request(\r\n      `http://localhost:5000/seller/customermanager/customer-search?${query[0]}`,\r\n\r\n      {\r\n        method: 'GET',\r\n        headers: new Headers({\r\n          Accept: 'application/json',\r\n          'Content-Type': 'application/json',\r\n        }),\r\n      }\r\n    )\r\n\r\n    const response = await fetch(request)\r\n    const data = await response.json()\r\n    console.log('res data', data)\r\n\r\n    dispatch(customerGet(data))\r\n  }\r\n}\r\n\r\nexport const customerUse = data => ({\r\n  type: 'CUSTOMER_USE',\r\n  value: data,\r\n})\r\nexport const customerUseAsync = (customerData, callback) => {\r\n  return async dispatch => {\r\n    const request = new Request(\r\n      `http://localhost:5000/seller/customermanager/customer-coupon-use`,\r\n\r\n      {\r\n        method: 'GET',\r\n        headers: new Headers({\r\n          Accept: 'application/json',\r\n          'Content-Type': 'application/json',\r\n        }),\r\n      }\r\n    )\r\n\r\n    const response = await fetch(request)\r\n    const data = await response.json()\r\n    console.log('res data', data)\r\n\r\n    dispatch(customerUse(data))\r\n  }\r\n}\r\n\r\n//mail動作\r\n\r\nexport const customerMailData = data => ({\r\n  type: 'MAIL_TRANSFER',\r\n  value: data,\r\n})\r\nexport const customerMailDataAsync = (mailData, callback) => {\r\n  return async dispatch => {\r\n    const json = JSON.stringify(mailData)\r\n    const request = new Request(\r\n      'http://localhost:5000/seller/customermanager/customer-coupon-insert',\r\n      {\r\n        method: 'POST',\r\n        body: json,\r\n        headers: new Headers({\r\n          Accept: 'application/json',\r\n          'Content-Type': 'application/json',\r\n        }),\r\n      }\r\n    )\r\n\r\n    const response = await fetch(request)\r\n    const data = await response.json()\r\n    console.log(data)\r\n    callback()\r\n\r\n    dispatch(customerMailData(data))\r\n  }\r\n}\r\n\r\n//對於前端輸入的優惠馬去後台抓取資料\r\n\r\nexport const getNowCoupData = data => ({\r\n  type: 'NOWCOUPDATA',\r\n  value: data,\r\n})\r\nexport const getNowCoupDataAsync = (getCoupData, callback) => {\r\n  return async dispatch => {\r\n    const request = new Request(\r\n      `http://localhost:5000/seller/getcoupon/usercouponget`,\r\n\r\n      {\r\n        method: 'GET',\r\n        headers: new Headers({\r\n          Accept: 'application/json',\r\n          'Content-Type': 'application/json',\r\n        }),\r\n      }\r\n    )\r\n\r\n    const response = await fetch(request)\r\n    const data = await response.json()\r\n    console.log('res data', data)\r\n\r\n    dispatch(getNowCoupData(data))\r\n  }\r\n}\r\n\r\n//抓點擊次數\r\nexport const getUserClickData = data => ({\r\n  type: 'GET_USER_CLICK',\r\n  value: data,\r\n})\r\nexport const getUserClickDataAsync = (getCoupData, callback) => {\r\n  return async dispatch => {\r\n    const request = new Request(\r\n      `http://localhost:5000/seller/customermanager/user-click-data`,\r\n\r\n      {\r\n        method: 'GET',\r\n        headers: new Headers({\r\n          Accept: 'application/json',\r\n          'Content-Type': 'application/json',\r\n        }),\r\n      }\r\n    )\r\n\r\n    const response = await fetch(request)\r\n    const data = await response.json()\r\n    console.log('res data', data)\r\n\r\n    dispatch(getUserClickData(data))\r\n  }\r\n}\r\n\r\n//抓總銷售額\r\nexport const getTotalData = data => ({\r\n  type: 'TOTAL_DATA',\r\n  value: data,\r\n})\r\n\r\nexport const getTotalDataAsync = () => {\r\n  return async dispatch => {\r\n    const request = new Request(\r\n      `http://localhost:5000/seller/customermanager/user-total-data`,\r\n\r\n      {\r\n        method: 'GET',\r\n        headers: new Headers({\r\n          Accept: 'application/json',\r\n          'Content-Type': 'application/json',\r\n        }),\r\n      }\r\n    )\r\n\r\n    const response = await fetch(request)\r\n    const data = await response.json()\r\n    console.log('res data', data)\r\n\r\n    dispatch(getTotalData(data))\r\n  }\r\n}\r\nexport const itemGetData = data => ({\r\n  type: 'ITEM_DATA',\r\n  value: data,\r\n})\r\n\r\nexport const itemGetDataAsync = data => {\r\n  return async dispatch => {\r\n    const request = new Request(\r\n      `http://localhost:5000/seller/itemmanager/item-total-data`,\r\n\r\n      {\r\n        method: 'GET',\r\n        headers: new Headers({\r\n          Accept: 'application/json',\r\n          'Content-Type': 'application/json',\r\n        }),\r\n      }\r\n    )\r\n\r\n    const response = await fetch(request)\r\n    const data = await response.json()\r\n    console.log('res data', data)\r\n\r\n    dispatch(itemGetData(data))\r\n  }\r\n}\r\n\r\n//----------------------賣家中心課程相關action----------------\r\n\r\n//取得賣家自己的課程資料\r\nexport const getSellerClassData = data => ({\r\n  type: 'GET_SELLER_CLASSDATA',\r\n  value: data,\r\n})\r\n\r\nexport const getSellerClassDataAsync = (sort, page, isEnable) => {\r\n  return async dispatch => {\r\n    let query = []\r\n\r\n    if (sort) query.push(`sort=${sort.trim()}`)\r\n    if (page) query.push(`page=${page.trim()}`)\r\n    if (isEnable) query.push(`expired=1`)\r\n    if (query.length > 0) {\r\n      query = query.join('&')\r\n    } else {\r\n      query = ''\r\n    }\r\n\r\n    const request = new Request(`http://localhost:5000/seller/class?${query}`, {\r\n      method: 'GET',\r\n      headers: new Headers({\r\n        Accept: 'application/json',\r\n        'Content-Type': 'application/json',\r\n      }),\r\n      credentials: 'include',\r\n    })\r\n\r\n    const response = await fetch(request)\r\n    const data = await response.json()\r\n\r\n    dispatch(getSellerClassData(data))\r\n  }\r\n}\r\n\r\n//取得全台縣市資料\r\nexport const getCityData = data => ({\r\n  type: 'GET_CITY_DATA',\r\n  value: data,\r\n})\r\n\r\nexport const getCityDataAsync = () => {\r\n  return async dispatch => {\r\n    const request = new Request(`http://localhost:5000/city`, {\r\n      method: 'GET',\r\n      headers: new Headers({\r\n        Accept: 'application/json',\r\n        'Content-Type': 'application/json',\r\n      }),\r\n    })\r\n\r\n    const response = await fetch(request)\r\n    const data = await response.json()\r\n\r\n    dispatch(getCityData(data))\r\n  }\r\n}\r\n\r\n//取得全台地區資料\r\nexport const getDistData = data => ({\r\n  type: 'GET_DIST_DATA',\r\n  value: data,\r\n})\r\n\r\nexport const getDistDataAsync = city => {\r\n  return async dispatch => {\r\n    const request = new Request(`http://localhost:5000/dist?city=${city}`, {\r\n      method: 'GET',\r\n      headers: new Headers({\r\n        Accept: 'application/json',\r\n        'Content-Type': 'application/json',\r\n      }),\r\n    })\r\n\r\n    const response = await fetch(request)\r\n    const data = await response.json()\r\n\r\n    dispatch(getDistData(data))\r\n  }\r\n}\r\n\r\n//取得類別資料\r\nexport const getClassTypeDataForSeller = data => ({\r\n  type: 'GET_CLASSTYPEDATA_FORSELLER',\r\n  value: data,\r\n})\r\n//取得等級資料\r\nexport const getClassLevelDataForSeller = data => ({\r\n  type: 'GET_CLASSLEVELDATA_FORSELLER',\r\n  value: data,\r\n})\r\n\r\n//取得類別或等級資料資料\r\n//type = true or false\r\n//level = classTypeId\r\nexport const getClassTypeLevelDataForSellerAsync = (type, level) => {\r\n  return async dispatch => {\r\n    let query = ''\r\n    if (type) query = `onlyType=${type}`\r\n    if (level) query = `getLevel=${level}`\r\n\r\n    const request = new Request(\r\n      `http://localhost:5000/classtype/level?${query}`,\r\n      {\r\n        method: 'GET',\r\n        headers: new Headers({\r\n          Accept: 'application/json',\r\n          'Content-Type': 'application/json',\r\n        }),\r\n      }\r\n    )\r\n\r\n    const response = await fetch(request)\r\n    const data = await response.json()\r\n\r\n    switch (true) {\r\n      case !type:\r\n        dispatch(getClassLevelDataForSeller(data))\r\n        break\r\n      case !level:\r\n        dispatch(getClassTypeDataForSeller(data))\r\n        break\r\n      default:\r\n        console.log('none')\r\n    }\r\n  }\r\n}\r\n\r\n//新增課程資料\r\nexport const addClassData = data => ({\r\n  type: 'ADD_CLASSDATA',\r\n  value: data,\r\n})\r\n\r\n//新增課程資料\r\n//formData = 傳送過來的表單值\r\nexport const addClassDataAsync = formData => {\r\n  return async dispatch => {\r\n    const fd = new FormData()\r\n    for (let key in formData) {\r\n      fd.append(`${key}`, formData[key])\r\n    }\r\n\r\n    const request = new Request(`http://127.0.0.1:5000/seller/class`, {\r\n      method: 'POST',\r\n      body: fd,\r\n      credentials: 'include',\r\n    })\r\n\r\n    const response = await fetch(request)\r\n    const data = await response.json()\r\n    dispatch(addClassData(data))\r\n  }\r\n}\r\n\r\n//刪除課程資料\r\nexport const delClassData = data => ({\r\n  type: 'DEL_CLASSDATA',\r\n  value: data,\r\n})\r\n\r\nexport const delClassDataAsync = classId => {\r\n  return async dispatch => {\r\n    const request = new Request(\r\n      `http://127.0.0.1:5000/seller/class/${classId}`,\r\n      {\r\n        method: 'DELETE',\r\n        credentials: 'include',\r\n      }\r\n    )\r\n\r\n    const response = await fetch(request)\r\n    const data = await response.json()\r\n    dispatch(delClassData(data))\r\n  }\r\n}\r\n\r\n//取得單一筆詳細資料\r\nexport const getSellerClassDetailData = data => ({\r\n  type: 'GET_CLASSDETAILDATA_FORSELLER',\r\n  value: data,\r\n})\r\n\r\nexport const getSellerClassDetailDataAsync = classId => {\r\n  return async dispatch => {\r\n    const request = new Request(\r\n      `http://127.0.0.1:5000/seller/class/${classId}`,\r\n      {\r\n        method: 'GET',\r\n        credentials: 'include',\r\n      }\r\n    )\r\n\r\n    const response = await fetch(request)\r\n    const data = await response.json()\r\n    dispatch(getSellerClassDetailData(data))\r\n  }\r\n}\r\n\r\n//編輯課程資料\r\nexport const editClassData = data => ({\r\n  type: 'EDIT_CLASSDATA',\r\n  value: data,\r\n})\r\n\r\n//formData = 傳送過來的表單值\r\nexport const editClassDataAsync = (formData, classId) => {\r\n  return async dispatch => {\r\n    const fd = new FormData()\r\n    for (let key in formData) {\r\n      fd.append(`${key}`, formData[key])\r\n    }\r\n\r\n    const request = new Request(\r\n      `http://127.0.0.1:5000/seller/class/${classId}`,\r\n      {\r\n        method: 'PUT',\r\n        body: fd,\r\n        credentials: 'include',\r\n      }\r\n    )\r\n\r\n    const response = await fetch(request)\r\n    const data = await response.json()\r\n    dispatch(editClassData(data))\r\n  }\r\n}\r\n\r\n//取得賣家的教練資訊\r\nexport const getCoachData = data => ({\r\n  type: 'GET_COACH_DATA',\r\n  value: data,\r\n})\r\n\r\nexport const getCoachDataAsync = () => {\r\n  return async dispatch => {\r\n    const request = new Request(`http://localhost:5000/seller/coach`, {\r\n      method: 'GET',\r\n      headers: new Headers({\r\n        Accept: 'application/json',\r\n      }),\r\n    })\r\n\r\n    const response = await fetch(request)\r\n    const data = await response.json()\r\n\r\n    dispatch(getCoachData(data))\r\n  }\r\n}\r\n\r\n//----------------------賣家中心課程相關action----------------\r\n","import React, { Component, useState, useEffect } from 'react'\r\n// import Chart from './Chart'\r\nimport { Line } from 'react-chartjs-2'\r\nimport ChartRight from './ChartRight'\r\nimport { Link, withRouter } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\n\r\nimport {\r\n  getUserClickDataAsync,\r\n  getTotalDataAsync,\r\n} from '../../../actions/seller/index'\r\n\r\nclass MainPage extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      data: {\r\n        labels: ['3/25', '3/26', '3/27', '3/28', '3/29'],\r\n        datasets: [\r\n          {\r\n            label: 'harrison',\r\n            fill: false,\r\n            backgroundColor: 'rgba(19, 41 ,72, 0.25)',\r\n            data: [50, 55, 90, 123, 45, 10],\r\n            borderColor: 'rgb(255, 99, 132)',\r\n          },\r\n          {\r\n            label: 'Garry',\r\n            fill: false,\r\n            backgroundColor: 'rgba(241, 90 ,36, 1)',\r\n            data: [78, 80, 85, 75, 82, 80],\r\n            borderColor: 'rgb(255, 204, 0)',\r\n          },\r\n          {\r\n            label: 'Ivy',\r\n            fill: false,\r\n            backgroundColor: 'rgba(255, 204 ,0, 1)',\r\n            data: [40, 59, 1, 33, 22, 45],\r\n            borderColor: 'rgb(0, 99, 132)',\r\n          },\r\n        ],\r\n        maintainAspectRatio: false,\r\n      },\r\n      scales: {\r\n        xAxes: [\r\n          {\r\n            ticks: {\r\n              callback: function(label, index, labels) {\r\n                return label.toFixed(2) + '%'\r\n              },\r\n            },\r\n          },\r\n        ],\r\n        yAxes: [\r\n          {\r\n            ticks: {\r\n              callback: function(label, index, labels) {\r\n                return label\r\n              },\r\n              fontSize: 24,\r\n              fontColor: 'black',\r\n            },\r\n            display: true,\r\n          },\r\n        ],\r\n      },\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    this.props.getUserClickDataAsync()\r\n    this.props.getTotalDataAsync()\r\n  }\r\n  // componentDidUpdate(props) {\r\n  //   getUserClickDataAsync()\r\n\r\n  //   console.log(props.getClickData)\r\n  // }\r\n  render() {\r\n    // console.log(this.props.getClickData)\r\n    console.log(this.props.totalPrice)\r\n\r\n    const clickdata = this.props.getClickData.userClick\r\n    const totalData = this.props.totalPrice.total\r\n    return (\r\n      <div className=\"conteiner\">\r\n        <div className=\"row\">\r\n          <div className=\"container-fluid\">\r\n            <div className=\"row d-flex justify-content-lg-around pt-md-5 mt-md-3 mb-5\">\r\n              <div className=\"col-xl-4 col-sm-6 p-2\">\r\n                <div className=\"card  text-center my-3\">\r\n                  <div className=\"d-flex justify-content-center\">\r\n                    <i\r\n                      width=\"150\"\r\n                      height=\"150\"\r\n                      className=\"fas card-img-top fa-shopping-cart fa-3x text-warning\"\r\n                    ></i>\r\n                  </div>\r\n\r\n                  <div className=\"card-body text-nowrap\">\r\n                    <h2>總銷售額</h2>\r\n                    <h2 className=\"card-text\">\r\n                      {/* $135,000 */}\r\n                      {totalData\r\n                        ? totalData.map((item, index) => {\r\n                            return item.sum_total\r\n                          }) + '元'\r\n                        : '$135,000'}\r\n                    </h2>\r\n                    <div className=\"card-footer mb-3\">\r\n                      <i className=\"fas fa-sync mr-3\"></i>\r\n                      <span>更新</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"col-xl-4 col-sm-6 p-2\">\r\n                <div className=\"card text-center my-3\">\r\n                  <div className=\"d-flex justify-content-center\">\r\n                    <i className=\"fas card-img-top fa-users fa-3x text-info\"></i>\r\n                  </div>\r\n\r\n                  <div className=\"card-body text-nowrap\">\r\n                    <h2>常客</h2>\r\n                    <h2 className=\"card-text\">5人</h2>\r\n                    <div className=\"card-footer mb-3\">\r\n                      <i className=\"fas fa-sync mr-3\"></i>\r\n                      <span>更新</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-xl-4 col-sm-6 p-2\">\r\n                <div className=\"card text-center my-3\">\r\n                  <div className=\"d-flex justify-content-center\">\r\n                    <i className=\"fas card-img-top fa-chart-line fa-3x text-danger\"></i>\r\n                  </div>\r\n\r\n                  <div className=\"card-body text-nowrap\">\r\n                    <h2>今日到訪者</h2>\r\n                    <h2 className=\"card-text\">\r\n                      {clickdata\r\n                        ? clickdata.map((item, index) => {\r\n                            return item.click_total\r\n                          })\r\n                        : '15人'}\r\n                      {/* 15人 */}\r\n                    </h2>\r\n                    <div className=\"card-footer mb-3\">\r\n                      <i className=\"fas fa-sync mr-3\"></i>\r\n                      <span>更新</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"row\">\r\n          <div className=\"col-sm-6\">\r\n            <h2 className=\"text-center\">購買率前三名顧客</h2>\r\n            <Line\r\n              options={{\r\n                responsive: true,\r\n              }}\r\n              data={this.state.data}\r\n              height={300}\r\n              width={500}\r\n            />\r\n            {/* <Chart /> */}\r\n            <h2 className=\"text-center\">單位(購買商品數/點擊商品數)</h2>\r\n          </div>\r\n\r\n          <ChartRight />\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = store => {\r\n  return {\r\n    getClickData: store.sellerReducer.getClickData,\r\n    totalPrice: store.sellerReducer.totalPrice,\r\n  }\r\n}\r\n\r\n// 指示dispatch要綁定哪些action creators\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    { getUserClickDataAsync, getTotalDataAsync },\r\n    dispatch\r\n  )\r\n}\r\n\r\nexport default withRouter(\r\n  connect(mapStateToProps, mapDispatchToProps)(MainPage)\r\n)\r\n// function MainPage(props) {\r\n\r\n//   const [chartDataSet,SetChartDat] = useState([{}])\r\n//       SetChartDat(\r\n//                 [{\r\n//                   labels:[\"hwer\",\"1adas\",\"qweeqw\",\"qwe\",\"ttert\"],\r\n//                   dataset: [{\r\n//                             labels:\"Member1\",\r\n//                             backgroundColor:\"rgba(255, 0 ,255, 0.88)\",\r\n//                             data: [12,15,747,123,2,3]\r\n//                           },{\r\n//                               labels:\"Member2\",\r\n//                               backgroundColor:\"rgba(255, 0 ,255, 0.75)\",\r\n//                               data: [12,15,77,13,2,3]\r\n//                             }]\r\n\r\n//                }])\r\n//     return (\r\n\r\n//         <div className=\"row\">\r\n//           <div  className=\"col-sm-12\">\r\n//             <Line\r\n//               options={{\r\n//                 responsive:true\r\n//               }}\r\n//               data = {chartDataSet}\r\n//             />\r\n//           </div>\r\n//         </div>\r\n//     )\r\n// }\r\n\r\n// export default MainPage\r\n","import React, { useState, useEffect } from 'react'\r\n\r\n//Router相關\r\nimport {\r\n  BrowserRouter as Router,\r\n  Route,\r\n  Switch,\r\n  withRouter,\r\n} from 'react-router-dom'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nimport Avajpg from '../../../image/20180615_201523.jpg'\r\nimport './Style/Info.scss'\r\n\r\n//redux相關\r\n\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport { sellerInfoAsync } from '../../../actions/seller/index'\r\n\r\nfunction Info(props) {\r\n  //傳過來的props.seller_Inof是一個物件\r\n  console.log(props)\r\n  const [hasloading, setHasLoading] = useState(false) //是否正在載入中\r\n\r\n  useEffect(() => {\r\n    props.sellerInfoAsync()\r\n  }, [])\r\n\r\n  //把從後端傳回的資料進行處理,他是一個物件\r\n  //使用Object.key進行拆解\r\n\r\n  const sellerInfoData_left = props.sellerInfo ? (\r\n    Object.keys(props.sellerInfo).map(key => {\r\n      if (key === 'basic_info') {\r\n        const basic_info = props.sellerInfo[key]\r\n        return basic_info.map((value, index) => {\r\n          console.log(JSON.parse(value.shop_img))\r\n          return (\r\n            <div className=\"col-lg-6 chin\" key={index}>\r\n              <div className=\"pb-3 flex-column text-center\">\r\n                <div className=\"mb-3\">\r\n                  <div>\r\n                    <figure>\r\n                      <img\r\n                        alt=\"\"\r\n                        src={\r\n                          'http://localhost:5000/images/sellerImg/' +\r\n                          value.seller_img\r\n                        }\r\n                        height=\"150\"\r\n                        width=\"150\"\r\n                        className=\"rounded-circle mr-3\"\r\n                      />\r\n                    </figure>\r\n                  </div>\r\n                  <div>\r\n                    <i className=\"fas fa-user-circle mt-3 font-middle-chin\"></i>\r\n                  </div>\r\n                </div>\r\n                <span className=\"text-dark mr-2 mt-3 font-middle-chin\">\r\n                  {value.seller_name}\r\n                </span>\r\n              </div>\r\n              <hr />\r\n\r\n              <div className=\"d-flex mx-3 my-4 font-middle-chin text-center\">\r\n                <p className=\"mx-4 mt-3\">\r\n                  <i className=\"fas fa-user-alt mx-3\"></i>賣家帳號:\r\n                </p>\r\n                <p className=\"card-text mt-3 mx-3\">{value.seller_account}</p>\r\n              </div>\r\n              <div className=\"d-flex mx-3 my-4 font-middle-chin\">\r\n                <p className=\"mx-4\">\r\n                  <i className=\"fas fa-unlock-alt mx-3\"></i>賣家密碼:\r\n                </p>\r\n                <p className=\"card-text mx-3\">{value.seller_password}</p>\r\n              </div>\r\n              <div className=\"d-flex mb-3 mx-3 my-4 font-middle-chin\">\r\n                <p className=\"mx-4\">\r\n                  <i className=\"fas fa-toggle-on mx-3\"></i>帳號狀態:\r\n                </p>\r\n                <p className=\"card-text mx-3\">{value.seller_status}</p>\r\n              </div>\r\n            </div>\r\n          )\r\n        })\r\n      }\r\n    })\r\n  ) : (\r\n    <h2>沒有相關資料</h2>\r\n  )\r\n  const sellerInfoData_right = props.sellerInfo ? (\r\n    Object.keys(props.sellerInfo).map(key => {\r\n      if (key === 'basic_info') {\r\n        const basic_info = props.sellerInfo[key]\r\n        return basic_info.map((value, index) => {\r\n          return (\r\n            <div className=\"col-lg-6\" key={index}>\r\n              <div className=\"d-flex mb-3 mx-3 my-4 font-middle-chin\">\r\n                <p className=\"mx-4\">\r\n                  {' '}\r\n                  <i className=\"fas fa-store mx-3\"></i>賣場名:\r\n                </p>\r\n                <p className=\"card-text mx-3\">{value.seller_shop}</p>\r\n              </div>\r\n              <div className=\"mb-3 mx-3 my-4 font-middle-chin\">\r\n                <p className=\"mx-4 my-4\">\r\n                  {' '}\r\n                  <i className=\"fas fa-store mx-3\"></i>賣場描述:\r\n                </p>\r\n                <p className=\"card-text mx-4\">{value.seller_decrip}</p>\r\n              </div>\r\n              <div className=\"mb-3 mx-3 my-4 font-middle-chin\">\r\n                <p className=\"mx-4 my-4\">\r\n                  {' '}\r\n                  <i className=\"fas fa-store mx-3\"></i>賣場圖片:\r\n                </p>\r\n                {(JSON.parse(value.shop_img) || []).map((url, index) => {\r\n                  return (\r\n                    <img\r\n                      key={index}\r\n                      width=\"100\"\r\n                      height=\"100\"\r\n                      src={\r\n                        url.originalname\r\n                          ? 'http://localhost:5000/images/shopimg/' +\r\n                            url.originalname\r\n                          : 'https://images.unsplash.com/photo-1474203383385-8a34c1a55ebc?ixlib=rb-1.2.1&auto=format&fit=crop&w=967&q=80'\r\n                      }\r\n                      alt=\"...\"\r\n                    />\r\n                  )\r\n                })}\r\n              </div>\r\n            </div>\r\n          )\r\n        })\r\n      }\r\n    })\r\n  ) : (\r\n    <h2>沒有相關資料</h2>\r\n  )\r\n\r\n  return (\r\n    <div className=\"container-fluid chin\">\r\n      <div className=\"py-4 d-flex justify-content-between\">\r\n        <h2 className=\"mb-3\">基本資料:</h2>\r\n\r\n        <NavLink exact className=\"nav-link\" to=\"/info/selleredit\">\r\n          <button className=\"btn bg-aqua-chin text-white\">編輯</button>\r\n        </NavLink>\r\n      </div>\r\n      <hr />\r\n\r\n      <div className=\"row mt-3\">\r\n        {sellerInfoData_left}\r\n        {sellerInfoData_right}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n// 取得Redux歸納函式中的值\r\nconst mapStateToProps = store => {\r\n  return { sellerInfo: store.sellerReducer.sellerInfo }\r\n}\r\n\r\n// 指示dispatch要綁定哪些action creators\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators({ sellerInfoAsync }, dispatch)\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Info))\r\n","import React from 'react'\r\n\r\nfunction Loading() {\r\n  return (\r\n    <div className=\"spinner-grow text-primary\" role=\"status\">\r\n      <span className=\"sr-only\">Loading...</span>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Loading\r\n","import ScrollReveal from 'scrollreveal'\r\nexport default ScrollReveal()","import React, { useEffect } from 'react'\r\nimport Loading from '../components/Loading'\r\nimport { NavLink } from 'react-router-dom'\r\nimport './Style/CouponDetail.scss'\r\nimport Sr from '../ScrollReveal'\r\n\r\nfunction CouponDetail(props) {\r\n  console.log(props)\r\n\r\n  useEffect(() => {\r\n    Sr.reveal('.card', {\r\n      //  origin: 'right',\r\n      duration: 1000,\r\n      delay: 150,\r\n      distance: '500px',\r\n      scale: 1,\r\n      easing: 'ease',\r\n    })\r\n  }, [props['status'].coupon['result']])\r\n  console.log(props['status'].coupon)\r\n  return (\r\n    <>\r\n      {props['status'].coupon['status'] === 200 ? (\r\n        props['status'].coupon['result'].map((value, index) => {\r\n          return (\r\n            <div className=\"col-sm-4\" key={value.coup_id}>\r\n              <div className=\"card my-3\">\r\n                <img\r\n                  height=\"250\"\r\n                  className=\"card-img-top\"\r\n                  src={'http://localhost:5000/images/coup/' + value.coup_img}\r\n                  alt=\"\"\r\n                />\r\n                <div className=\"card-body text-wrap\">\r\n                  <h4 className=\"card-title text-center\">{value.coup_name}</h4>\r\n                  <div className=\"d-flex\">\r\n                    <p>優惠碼:</p>\r\n                    <p className=\"card-text\">{value.coup_code}</p>\r\n                  </div>\r\n                  <div className=\"mb-3\">\r\n                    <p>優惠期間:</p>\r\n                    <p className=\"card-text\">起:{value.coup_start}</p>\r\n                    <p className=\"card-text\">迄:{value.coup_end}</p>\r\n                  </div>\r\n                  <div className=\"d-flex justify-content-lg-around\">\r\n                    <NavLink\r\n                      exact\r\n                      activeClassName=\"active\"\r\n                      className=\"nav-link\"\r\n                      to=\"/info/selleredit\"\r\n                    >\r\n                      <button className=\"btn bg-aqua-chin text-white\">\r\n                        編輯\r\n                      </button>\r\n                    </NavLink>\r\n                    <NavLink\r\n                      exact\r\n                      activeClassName=\"active\"\r\n                      className=\"nav-link\"\r\n                      to=\"/info/selleredit\"\r\n                    >\r\n                      <button className=\"btn bg-aqua-chin text-white\">\r\n                        刪除\r\n                      </button>\r\n                    </NavLink>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )\r\n        })\r\n      ) : (\r\n        <Loading />\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default CouponDetail\r\n","import React, { useState, useEffect } from 'react'\r\nimport './Style/Coupon.scss'\r\nimport { FormControl, Form } from 'react-bootstrap'\r\nimport { Link, withRouter } from 'react-router-dom'\r\n\r\nimport $ from 'jquery'\r\nimport Loading from '../components/Loading'\r\nimport CouponDetail from './CouponDetail'\r\nimport './Style/AllSeller.scss'\r\n\r\n//redux相關\r\n\r\nimport { getSellerCouponAsync } from '../../../actions/seller/index'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\n\r\nfunction Coupon(props) {\r\n  console.log(props.coupon)\r\n\r\n  const [showPanel, togglePanel] = useState(false)\r\n\r\n  const [couponCoup, setCoupon] = useState([])\r\n  const [hasloading, setHasLoading] = useState(false) //是否正在載入中\r\n\r\n  useEffect(() => {\r\n    props.getSellerCouponAsync()\r\n  }, [])\r\n\r\n  //將從資料庫取得的資料存放到本地的state\r\n  useEffect(() => {\r\n    setHasLoading(true)\r\n    const nowCouponData = props.couponCoup ? props.couponCoup : ''\r\n\r\n    //0.5秒後判斷是否有成功載入資料\r\n    setTimeout(() => {\r\n      // if (props.couponCoup.status) {\r\n      setHasLoading(false)\r\n      // }\r\n    }, 500)\r\n\r\n    setCoupon(nowCouponData) //將優惠券資料設定到本地state\r\n  }, [couponCoup])\r\n  //類別選單的點擊active事件\r\n  function typeMenuActive(event) {\r\n    //找到所有代表等級的li元素\r\n    let coupMenuLiList = document.querySelectorAll('ul.couponMenu li')\r\n    coupMenuLiList.forEach(value => {\r\n      value.classList.remove('active-chin') //移除active\r\n    })\r\n\r\n    //找到所有代表類型的span元素\r\n    let coupMenuLiListspan = document.querySelectorAll('ul.couponMenu li span')\r\n\r\n    coupMenuLiListspan.forEach(value => {\r\n      value.classList.remove('active-chin') //移除active\r\n    })\r\n    event.target.classList.add('active-chin') //為被點擊的目標新增active\r\n    // console.log(coupMenuLiList)\r\n    // console.log(coupMenuLiListspan)\r\n  }\r\n\r\n  //向伺服器取得優惠券資料\r\n  function getCouponData(event) {\r\n    const coup_cate_id = $('.couponMenu').find(\r\n      'li.nav-item span.nav-link.active-chin'\r\n    )\r\n      ? $('.couponMenu')\r\n          .find('li.nav-item span.nav-link.active-chin')\r\n          .attr('data-type')\r\n      : ''\r\n    console.log(coup_cate_id)\r\n\r\n    props.getSellerCouponAsync(coup_cate_id)\r\n  }\r\n\r\n  return (\r\n    <div className=\"container main-style-chin\">\r\n      <div className=\"row mt-5 ml-5\">\r\n        <div className=\"col-sm-12 bgSet text-white rounded\">\r\n          <div>\r\n            <div className=\"d-flex bgSet justify-content-between \">\r\n              <h2>ToolBox</h2>\r\n              <button onClick={() => togglePanel(!showPanel)}>\r\n                <i className=\"fas fa-sort-down\"></i>\r\n              </button>\r\n            </div>\r\n\r\n            {showPanel ? (\r\n              <div className=\"row text-center\">\r\n                <div className=\"col-sm-6 input-style-chin\">\r\n                  <Link className=\"text-white\" to=\"coupon/coupon_add\">\r\n                    <span className=\"btn bg-btn-chin text-white\">新增優惠</span>\r\n                  </Link>\r\n                </div>\r\n                <div className=\"col-sm-6 input-style-chin\">\r\n                  <Link className=\"text-white\" to=\"coupon/coupon_add_givi\">\r\n                    <span className=\"btn bg-btn-chin text-white\">贈品設定</span>\r\n                  </Link>\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <h2 hidden>non show</h2>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"row mt-3 ml-5\">\r\n        <div className=\"col-sm-12 col-lg-12\">\r\n          <ul className=\"nav nav-tabs justify-content-around bgSet couponMenu\">\r\n            <li\r\n              className=\"nav-item tabBar-chin\"\r\n              onClick={event => {\r\n                typeMenuActive(event)\r\n                getCouponData()\r\n              }}\r\n            >\r\n              <span data-type=\"coup001\" className=\"nav-link text-white\">\r\n                全單優惠\r\n              </span>\r\n            </li>\r\n            <li\r\n              className=\"nav-item tabBar-chin\"\r\n              onClick={event => {\r\n                typeMenuActive(event)\r\n                getCouponData()\r\n              }}\r\n            >\r\n              <span data-type=\"coup002\" className=\"nav-link  text-white\">\r\n                商品優惠\r\n              </span>\r\n            </li>\r\n            <li\r\n              className=\"nav-item tabBar-chin\"\r\n              onClick={event => {\r\n                typeMenuActive(event)\r\n                getCouponData()\r\n              }}\r\n            >\r\n              <span data-type=\"coup003\" className=\"nav-link  text-white\">\r\n                贈品優惠\r\n              </span>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n      <div className=\"row mt-5 ml-5\">\r\n        {hasloading ? <Loading /> : <CouponDetail status={props} />}\r\n      </div>\r\n      {/* <div className=\"row mt-5 ml-5\">\r\n        <nav aria-label=\"...\">\r\n          <ul className=\"pagination\">\r\n            <li className=\"page-item\">\r\n              <a className=\"page-link\" href=\"\" tabIndex=\"-1\">\r\n                Previous\r\n              </a>\r\n            </li>\r\n            <li className=\"page-item\">\r\n              <a className=\"page-link\" href=\"\">\r\n                1\r\n              </a>\r\n            </li>\r\n            <li className=\"page-item\">\r\n              <a className=\"page-link\" href=\"\">\r\n                2\r\n              </a>\r\n            </li>\r\n            <li className=\"page-item\">\r\n              <a className=\"page-link\" href=\"\">\r\n                3\r\n              </a>\r\n            </li>\r\n\r\n            <li className=\"page-item disabled\">\r\n              <a className=\"page-link\" href=\"/\">\r\n                Next\r\n              </a>\r\n            </li>\r\n          </ul>\r\n        </nav>\r\n      </div> */}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = store => {\r\n  return { coupon: store.sellerReducer.coupon }\r\n}\r\n\r\n// 指示dispatch要綁定哪些action creators\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators({ getSellerCouponAsync }, dispatch)\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Coupon))\r\n","import React from 'react'\r\nimport './Style/CustomerMan.scss'\r\n\r\n\r\n// function ProgressBarToMailBar(props){\r\n\r\n//   const [percentage,SetPercentage] = useState(0)\r\n\r\n\r\n//           const ProgressBar = (percentage) => {\r\n//             return (\r\n//                 <div className=\"progress-bar\">\r\n//                   <Filler percentagefill={percentage} />\r\n//                 </div>\r\n//               )\r\n//           }\r\n          \r\n//           const Filler = (percentage) => {\r\n//             return <div className=\"filler\" style={{ width: `${percentagefill}%` }} />\r\n//           }\r\n\r\n//         console.log(props.people)\r\n//        return(\r\n//          <>\r\n//          hellow\r\n//          </>\r\n//        )\r\n// }\r\n\r\nclass ProgressBarToMailBar extends React.Component {\r\n    constructor(props) {\r\n      super(props)\r\n      this.state = {\r\n        percentage: 0\r\n      }\r\n      \r\n      this.nextStep = this.nextStep.bind(this)\r\n    }\r\n    \r\n    nextStep() {\r\n      if(this.state.percentage === 100) return \r\n      this.setState(prevState => ({ percentage: prevState.percentage + 20 }))\r\n    }\r\n    \r\n    render() {\r\n      return (\r\n        <div className=\"dai\">\r\n          \r\n          <h2>寄送上限 </h2>\r\n          <ProgressBar percentage={this.state.percentage} />\r\n          \r\n          <div style={{ marginTop: '20px' }}>  \r\n            <button \r\n              onClick={this.nextStep}\r\n             >\r\n              Next Step\r\n            </button>  \r\n          </div>   \r\n          \r\n          <div style={{marginTop: '10px', color: 'blue', marginBottom: '15px'}} onClick={() => this.setState({ percentage: 0 })}>\r\n            Reset\r\n          </div>\r\n        </div>\r\n      )\r\n    }  \r\n  }\r\n  \r\n  const ProgressBar = (props) => {\r\n    return (\r\n        <div className=\"progress-bar\">\r\n          <Filler percentage={props.percentage} />\r\n        </div>\r\n      )\r\n  }\r\n  \r\n  const Filler = (props) => {\r\n    return <div className=\"filler\" style={{ width: `${props.percentage}%` }} />\r\n  }\r\n\r\n\r\n  export default ProgressBarToMailBar","import React, { useState, useEffect } from 'react'\r\nimport { Link, withRouter } from 'react-router-dom'\r\n\r\nimport { customerUseAsync } from '../../../actions/seller'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\n\r\nimport TagSvg from '../../../image/customer/tickMenu.svg'\r\n\r\nimport './Style/CustomerMan.scss'\r\n\r\nfunction CouponTableList(props) {\r\n  console.log(props.cutomeruse.table1)\r\n  const [couponObj, setCouponObj] = useState({})\r\n\r\n  // props.setChildCoupon\r\n  useEffect(() => {\r\n    props.customerUseAsync()\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    props.setChildCoupon(couponObj)\r\n  }, [couponObj])\r\n\r\n  function typeInputActive(event) {\r\n    //找到所有代表等級的li元素\r\n    let customerMenuList = document.querySelectorAll('tr.tr-chin td')\r\n    customerMenuList.forEach(value => {\r\n      value.classList.remove('active-chin-coupon') //移除active\r\n    })\r\n\r\n    event.target.classList.add('active-chin-coupon') //為被點擊的目標新增active\r\n    // console.log(coupMenuLiList)\r\n    // console.log(coupMenuLiListspan)\r\n  }\r\n\r\n  const tableData1 = props.cutomeruse.table1\r\n    ? props.cutomeruse.table1.map((element, index) => {\r\n        const {\r\n          coup_img,\r\n          coup_over,\r\n          coup_PriOrPer,\r\n          coup_name,\r\n          coup_code,\r\n          datecoup_time_start,\r\n          datecoup_time_end,\r\n        } = element\r\n        return (\r\n          <tr\r\n            className=\"tr-chin\"\r\n            onClick={event => {\r\n              typeInputActive(event)\r\n              setCouponObj({\r\n                ...couponObj,\r\n                coup_img,\r\n                coup_over,\r\n                coup_PriOrPer,\r\n                coup_name,\r\n                coup_code,\r\n                datecoup_time_start,\r\n                datecoup_time_end,\r\n              })\r\n            }}\r\n            key={index}\r\n          >\r\n            <td></td>\r\n            <td>{coup_name}</td>\r\n            <td>{datecoup_time_start}</td>\r\n            <td>{datecoup_time_end}</td>\r\n          </tr>\r\n        )\r\n      })\r\n    : ' '\r\n\r\n  const tableData2 = props.cutomeruse.table1\r\n    ? props.cutomeruse.table2.map((element, index) => {\r\n        const {\r\n          coup_over,\r\n          coup_PriOrPer,\r\n          coup_img,\r\n          coup_name,\r\n          coup_code,\r\n          datecoup_time_start,\r\n          datecoup_time_end,\r\n        } = element\r\n        return (\r\n          <tr\r\n            className=\"tr-chin\"\r\n            onClick={event => {\r\n              typeInputActive(event)\r\n              setCouponObj({\r\n                ...couponObj,\r\n                coup_over,\r\n                coup_PriOrPer,\r\n                coup_img,\r\n                coup_name,\r\n                coup_code,\r\n                datecoup_time_start,\r\n                datecoup_time_end,\r\n              })\r\n              // getCustomerData(event)\r\n            }}\r\n            key={index}\r\n          >\r\n            <td></td>\r\n            <td>{coup_name}</td>\r\n            <td>{datecoup_time_start}</td>\r\n            <td>{datecoup_time_end}</td>\r\n          </tr>\r\n        )\r\n      })\r\n    : ' '\r\n  const tableData3 = props.cutomeruse.table1\r\n    ? props.cutomeruse.table3.map((element, index) => {\r\n        const {\r\n          coup_img,\r\n          coup_name,\r\n          coup_code,\r\n          datecoup_time_start,\r\n          datecoup_time_end,\r\n        } = element\r\n        return (\r\n          <tr\r\n            className=\"tr-chin\"\r\n            onClick={event => {\r\n              typeInputActive(event)\r\n              setCouponObj({\r\n                ...couponObj,\r\n                coup_img,\r\n                coup_name,\r\n                coup_code,\r\n                datecoup_time_start,\r\n                datecoup_time_end,\r\n              })\r\n              // getCustomerData(event)\r\n            }}\r\n            key={index}\r\n          >\r\n            <td></td>\r\n            <td>{coup_name}</td>\r\n            <td>{datecoup_time_start}</td>\r\n            <td>{datecoup_time_end}</td>\r\n          </tr>\r\n        )\r\n      })\r\n    : ' '\r\n\r\n  return (\r\n    <div class=\"container\">\r\n      <h3 className=\"text-center my-5\">優惠總表</h3>\r\n      <div className=\"row\">\r\n        <div className=\"col-sm-4\">\r\n          <table className=\"table table-borderless\">\r\n            <thead className=\"table-bgcolor-chin thead-dark\">\r\n              <tr>\r\n                <th scope=\"col\">\r\n                  <img width=\"30\" height=\"30\" src={TagSvg} />\r\n                </th>\r\n                <th scope=\"col\">優惠名</th>\r\n                <th scope=\"col\">優惠開始</th>\r\n                <th scope=\"col\">優惠結束</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>{tableData1}</tbody>\r\n          </table>\r\n        </div>\r\n        <div className=\"col-sm-4\">\r\n          <table className=\"table table-borderless\">\r\n            <thead className=\"table-bgcolor-chin thead-dark\">\r\n              <tr>\r\n                <th scope=\"col\">\r\n                  <img width=\"30\" height=\"30\" src={TagSvg} />\r\n                </th>\r\n                <th scope=\"col\">優惠名</th>\r\n                <th scope=\"col\">優惠開始</th>\r\n                <th scope=\"col\">優惠結束</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>{tableData2}</tbody>\r\n          </table>\r\n        </div>\r\n        <div className=\"col-sm-4\">\r\n          <table className=\"table table-borderless\">\r\n            <thead className=\"table-bgcolor-chin thead-dark\">\r\n              <tr>\r\n                <th scope=\"col\">\r\n                  <img width=\"30\" height=\"30\" src={TagSvg} />\r\n                </th>\r\n                <th scope=\"col\">優惠名</th>\r\n                <th scope=\"col\">優惠開始</th>\r\n                <th scope=\"col\">優惠結束</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>{tableData3}</tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nconst mapStateToProps = store => {\r\n  return { cutomeruse: store.sellerReducer.cutomeruse }\r\n}\r\n\r\n// 指示dispatch要綁定哪些action creators\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators({ customerUseAsync }, dispatch)\r\n}\r\n\r\nexport default withRouter(\r\n  connect(mapStateToProps, mapDispatchToProps)(CouponTableList)\r\n)\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Link, withRouter } from 'react-router-dom'\r\nimport Swal from 'sweetalert2'\r\n\r\nimport {\r\n  customerGetAsync,\r\n  customerUseAsync,\r\n  customerMailDataAsync,\r\n} from '../../../actions/seller/index'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport $ from 'jquery'\r\nimport ProgressToMailBar from './ProgressToMailBar'\r\n\r\nimport TagSvg from '../../../image/customer/tickMenu.svg'\r\nimport CrossSvg from '../../../image/customer/cancel.svg'\r\nimport CouponTableList from './CouponTableList'\r\nimport './Style/CustomerMan.scss'\r\n\r\nfunction CustomerManager(props) {\r\n  //試用\r\n  const [customerdata, setCustomerData] = useState([])\r\n\r\n  //選取使用者的name資料成為一個陣列\r\n  const [customername, setCustomerName] = useState([])\r\n\r\n  //選取使用者的email資料成為一個陣列\r\n  const [customermail, setCustomerMail] = useState([])\r\n\r\n  const [childcoupon, setChildCoupon] = useState({})\r\n\r\n  // console.log(childcoupon)\r\n  useEffect(() => {\r\n    props.customerGetAsync()\r\n    props.customerUseAsync()\r\n  }, [])\r\n\r\n  //類別選單的點擊active事件\r\n  const handleChange = event => {\r\n    const selectType = event.target.value\r\n    props.customerGetAsync(selectType)\r\n  }\r\n\r\n  //類別選單的點擊掛上active\r\n  function typeInputActive(event) {\r\n    //找到所有代表等級的li元素\r\n    let customerMenuList = document.querySelectorAll('tr.tr-chin td')\r\n    customerMenuList.forEach(value => {\r\n      value.classList.remove('active-chin-user') //移除active\r\n    })\r\n\r\n    event.target.classList.add('active-chin-user') //為被點擊的目標新增active\r\n  }\r\n\r\n  function triggerDelete(index) {\r\n    Swal.fire({\r\n      // title: 'Error!',\r\n      text: `確定刪除傳送的顧客嗎?`,\r\n      icon: 'warning',\r\n      confirmButtonText: '確定',\r\n      showCancelButton: true,\r\n      cancelButtonText: '取消',\r\n    }).then(result => {\r\n      if (result.value) {\r\n        customerdata.splice(index, 1)\r\n        setCustomerMail([...customerdata])\r\n      }\r\n    })\r\n    // if (window.confirm('你確定要刪除這個顧客嗎?')) {\r\n    // customerdata.splice(index, 1)\r\n    // setCustomerMail([...customerdata])\r\n    // }\r\n  }\r\n  const handleTransferData = e => {\r\n    const mailData = {\r\n      customerData: customerdata,\r\n      couponData: childcoupon,\r\n    }\r\n\r\n    props.customerMailDataAsync(mailData, () =>\r\n      Swal.fire({\r\n        position: 'middle',\r\n        icon: 'success',\r\n        title: '新增成功呢！',\r\n        showConfirmButton: false,\r\n        timer: 1500,\r\n      })\r\n    )\r\n  }\r\n  console.log(customerdata)\r\n\r\n  const tableData = props.customer.result ? (\r\n    props.customer.result.map((element, index) => {\r\n      const {\r\n        comcus_id,\r\n        memberId,\r\n        seller_id,\r\n        comcus_name,\r\n        comcus_img,\r\n        comcus_gmail,\r\n        comcus_buy_perc,\r\n        comcus_visit_perc,\r\n      } = element\r\n      return (\r\n        <tr className=\"tr-chin\" key={index}>\r\n          <td\r\n            data-type={comcus_gmail}\r\n            onClick={event => {\r\n              typeInputActive(event)\r\n              setCustomerMail([...customermail, comcus_gmail])\r\n              setCustomerName([...customername, comcus_name])\r\n              setCustomerData([\r\n                ...customerdata,\r\n                {\r\n                  memberId: memberId,\r\n                  seller_id: seller_id,\r\n                  cutomerName: comcus_name,\r\n                  cutomerEmail: comcus_gmail,\r\n                },\r\n              ])\r\n            }}\r\n          ></td>\r\n          <td>{comcus_name}</td>\r\n          <td>\r\n            <img\r\n              width=\"50\"\r\n              height=\"50\"\r\n              src={'http://localhost:5000/images/customerImg/' + comcus_img}\r\n              className=\"img-fluid\"\r\n              alt=\"Responsive image\"\r\n            />\r\n          </td>\r\n          <td>{comcus_gmail}</td>\r\n          <td>{comcus_buy_perc}</td>\r\n          <td>{comcus_visit_perc}</td>\r\n        </tr>\r\n      )\r\n    })\r\n  ) : (\r\n    <tr>\r\n      <td></td>\r\n    </tr>\r\n  )\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"container\">\r\n        <h3 className=\"text-center my-5\">顧客管理</h3>\r\n        <div className=\"row\">\r\n          <div className=\"col-sm-12\">\r\n            <select\r\n              className=\"custom-select\"\r\n              onChange={event => handleChange(event)}\r\n            >\r\n              <option defaultValue>請選擇顧客族群:</option>\r\n              <option value=\"buyPercentHight\">購買率高的顧客</option>\r\n              <option value=\"visitPercentHight\">到訪率高的顧客</option>\r\n              <option value=\"commonPercentHight\">常客</option>\r\n              <option value=\"other\">其他顧客</option>\r\n              <option value=\"xxx\">全部顧客</option>\r\n            </select>\r\n            <table className=\"table table-borderless\">\r\n              <thead className=\"table-bgcolor-chin thead-dark\">\r\n                <tr>\r\n                  <th scope=\"col\">\r\n                    <img width=\"30\" height=\"30\" src={TagSvg} />\r\n                  </th>\r\n                  <th scope=\"col\">顧客名</th>\r\n                  <th scope=\"col\">照片</th>\r\n                  <th scope=\"col\">email</th>\r\n                  <th scope=\"col\">購買率</th>\r\n                  <th scope=\"col\">到訪點擊率</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>{tableData}</tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row\">\r\n          <div className=\"col-lg-4\">\r\n            <h1 className=\"display-4 mb-2\">寄送名單:</h1>\r\n            <div>\r\n              {customerdata.map((element, index) => {\r\n                return (\r\n                  <div key={index} className=\"active-chin-td my-2 rounded\">\r\n                    <div\r\n                      onClick={event => {\r\n                        event.stopPropagation()\r\n                        event.preventDefault()\r\n                        triggerDelete(index)\r\n                      }}\r\n                    >\r\n                      <img width=\"30\" height=\"30\" src={CrossSvg} />\r\n                    </div>\r\n\r\n                    <p className=\"pl-5\">{element.cutomerName}:</p>\r\n                    <p className=\"pl-5\">{element.cutomerEmail}</p>\r\n                  </div>\r\n                )\r\n              })}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"col-lg-4\">\r\n            {/* <ProgressToMailBar people={customermail}/> */}\r\n\r\n            <div className=\"row\">\r\n              <div className=\"col-sm-12 text-center \">\r\n                <button\r\n                  onClick={e => {\r\n                    e.preventDefault()\r\n                    // handleTransferEmail()\r\n                    handleTransferData()\r\n                  }}\r\n                  className=\"btn bg-btn-chin\"\r\n                >\r\n                  寄送優惠券\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-lg-4\">\r\n            <h1 className=\"display-4 mb-2\">優惠券選擇名單:</h1>\r\n            <div>\r\n              <span className=\"active-chin-td my-2 rounded\">\r\n                {childcoupon.coup_name}\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <CouponTableList setChildCoupon={setChildCoupon} />\r\n    </div>\r\n  )\r\n}\r\nconst mapStateToProps = store => {\r\n  return {\r\n    customer: store.sellerReducer.customer,\r\n    customermailtransfer: store.sellerReducer.customermailtransfer,\r\n  }\r\n}\r\n\r\n// 指示dispatch要綁定哪些action creators\r\nconst mapDispatchToProps = dispatch => {\r\n  // postToBack\r\n  // storeEmail(email)\r\n  return bindActionCreators(\r\n    { customerGetAsync, customerUseAsync, customerMailDataAsync },\r\n    dispatch\r\n  )\r\n}\r\n\r\nexport default withRouter(\r\n  connect(mapStateToProps, mapDispatchToProps)(CustomerManager)\r\n)\r\n","import React from 'react'\r\n\r\nfunction Banner(props) {\r\n    console.log(props)\r\n    return (\r\n      \r\n              <div className=\"jumbotron mt-5 ml-5\">\r\n                <div className=\"container\">\r\n                  <h1 className=\"display-4\">{props.pagename}</h1>\r\n                  <p className=\"lead\">這是 {props.pagename} 的說明</p>\r\n                </div>\r\n              </div>\r\n          )\r\n        }\r\n        \r\n    \r\n\r\nexport default Banner\r\n\r\n","// 會員購物車結帳\r\nexport const memberCheckOut = data => ({\r\n  type: 'NEW_ORDER',\r\n  value: data,\r\n})\r\n\r\nexport const memberCheckOutAsync = orderData => {\r\n  orderData = JSON.stringify(orderData)\r\n  return async dispatch => {\r\n    // const cartJson = new FormData()\r\n    // console.log(orderData)\r\n\r\n    const request = new Request(`http://127.0.0.1:5000/member/checkout`, {\r\n      method: 'POST',\r\n      body: orderData,\r\n      headers: new Headers({\r\n        Accept: 'application/json',\r\n        'Content-Type': 'application/json',\r\n      }),\r\n    })\r\n    const response = await fetch(request)\r\n    const data = await response.json()\r\n    dispatch(memberCheckOut(data))\r\n    // window.location.href = '/member/checkout'\r\n  }\r\n}\r\n\r\n// 會員購物填寫收件資訊\r\nexport const memberCheckOutStep2 = data => ({\r\n  type: 'ORDER_INFO',\r\n  value: data,\r\n})\r\n\r\nexport const memberCheckOutStep2Async = orderInfo => {\r\n  orderInfo = JSON.stringify(orderInfo)\r\n  return async dispatch => {\r\n    const request = new Request(`http://127.0.0.1:5000/member/orderInfo`, {\r\n      method: 'POST',\r\n      body: orderInfo,\r\n      headers: new Headers({\r\n        Accept: 'application/json',\r\n        'Content-Type': 'application/json',\r\n      }),\r\n    })\r\n    const response = await fetch(request)\r\n    const data = await response.json()\r\n    dispatch(memberCheckOutStep2(data))\r\n    // window.location.href = '/member/created'\r\n  }\r\n}\r\n\r\nexport const getOrderDetailData = data => ({\r\n  type: 'GET_ORDERDETAILDATA',\r\n  value: data,\r\n})\r\n\r\nexport const getOrderDetailDataAsync = id => {\r\n  let query = `id=${id}`\r\n  return async dispatch => {\r\n    const request = new Request(\r\n      `http://127.0.0.1:5000/member/checkout?${query}`,\r\n      {\r\n        method: 'GET',\r\n        headers: new Headers({\r\n          Accept: 'application/json',\r\n          'Content-Type': 'application/json',\r\n        }),\r\n      }\r\n    )\r\n\r\n    const response = await fetch(request)\r\n    const data = await response.json()\r\n    dispatch(getOrderDetailData(data))\r\n  }\r\n}\r\n\r\n\r\nexport const getSellerOrderListData = data => ({\r\n  type: 'GET_SELLERORDERDATA',\r\n  value: data,\r\n})\r\n\r\nexport const getSellerOrderListDataAsync = () => {\r\n  console.log('請求賣家訂單列表')\r\n  return async dispatch => {\r\n    const request = new Request(`http://127.0.0.1:5000/seller/orders`, {\r\n      method: 'GET',\r\n      headers: new Headers({\r\n        Accept: 'application/json',\r\n        'Content-Type': 'application/json',\r\n      }),\r\n    })\r\n\r\n    const response = await fetch(request)\r\n    const data = await response.json()\r\n    console.log(data)\r\n    dispatch(getSellerOrderListData(data))\r\n  }\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport Banner from '../components/Banner'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\n\r\nimport { getSellerOrderListDataAsync } from '../../../actions/order/order_Actions'\r\nimport '../../../style/CW_items.scss'\r\n\r\nfunction Order(props) {\r\n  console.log(props)\r\n  const [hasloading, setHasLoading] = useState(false)\r\n  const [orderData, setOrderData] = useState([])\r\n  // const orderData = props.orderData[0]\r\n  let data = props.sellerOrderData ? props.sellerOrderData : ''\r\n\r\n  useEffect(() => {\r\n    props.getSellerOrderListDataAsync()\r\n  }, [])\r\n  useEffect(() => {\r\n    setHasLoading(true)\r\n\r\n    setTimeout(() => {\r\n      if (data) {\r\n        setHasLoading(false)\r\n        setOrderData(data)\r\n      }\r\n    }, 500)\r\n  }, [data])\r\n\r\n  return (\r\n    <>\r\n      <div className=\"container CW\">\r\n        {orderData.length > 0 ? (\r\n          <>\r\n            <div className=\"col-12 CW-sellerOrder\">\r\n              <div className=\"card\">\r\n                <div className=\"card-header bg-light d-flex justify-content-between\">\r\n                  <h6>訂單編號：{orderData[0].orderId}</h6>\r\n                  <h6>訂單狀態：待出貨</h6>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                  <div className=\"col-12 d-flex justify-content-between\">\r\n                    <h6>賣家編號：{orderData[0].orderMemberId}</h6>\r\n                    <h6>訂購時間：{orderData[0].created_at}</h6>\r\n                  </div>\r\n                  <div className=\"col-12 d-flex justify-content-between\">\r\n                    <h6>付款方式：信用卡</h6>\r\n                    <h6>物流方式：宅配到家</h6>\r\n                  </div>\r\n                  <div className=\"col-12 d-flex justify-content-between\">\r\n                    <h6>收件人：{orderData[0].recipName}</h6>\r\n                    <h6>寄送地址：{orderData[0].address}</h6>\r\n                  </div>\r\n                  <div className=\"col-12 d-flex justify-content-between\">\r\n                    <h6>備註：{orderData[0].note}</h6>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-12 CW-sellerOrder\">\r\n              <div className=\"card\">\r\n                <div className=\"card-header bg-light\">\r\n                  <h6>訂單明細</h6>\r\n                </div>\r\n                <div className=\"order-detail card-body\">\r\n                  <div className=\"row d-none d-md-flex\">\r\n                    <div className=\"col\">名稱</div>\r\n                    <div className=\"col-2\">規格</div>\r\n                    <div className=\"col-2\">數量</div>\r\n                    <div className=\"col-2\">小計</div>\r\n                  </div>\r\n                  {orderData\r\n                    ? orderData.map((value, index) => {\r\n                        return (\r\n                          <div\r\n                            className=\"row py-3 border-bottom order-item\"\r\n                            key={index}\r\n                          >\r\n                            <div className=\"col\">\r\n                              <span className=\"d-md-none d-inline\">\r\n                                名稱：{' '}\r\n                              </span>\r\n                              {value.itemName}\r\n                            </div>\r\n                            <div className=\"col-md-2\">\r\n                              <span className=\"d-md-none d-inline\">\r\n                                規格：{' '}\r\n                              </span>\r\n                              {value.itemSize}\r\n                            </div>\r\n                            <div className=\"col-md-2\">\r\n                              <span className=\"d-md-none d-inline\">\r\n                                數量：{' '}\r\n                              </span>\r\n                              {value.checkQty}\r\n                            </div>\r\n                            <div className=\"col-md-2\">\r\n                              <span className=\"d-md-none d-inline\">\r\n                                小計：{' '}\r\n                              </span>\r\n                              NT${value.checkPrice}\r\n                            </div>\r\n                          </div>\r\n                        )\r\n                      })\r\n                    : ''}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </>\r\n        ) : (\r\n          ''\r\n        )}\r\n      </div>\r\n    </>\r\n  )\r\n}\r\nconst mapStateToProps = store => {\r\n  return {\r\n    sellerOrderData: store.orderReducer.sellerOrderData,\r\n  }\r\n}\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      getSellerOrderListDataAsync,\r\n    },\r\n    dispatch\r\n  )\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Order)\r\n","import Swal from 'sweetalert2'\r\nimport withReactContent from 'sweetalert2-react-content'\r\nconst MySwal = withReactContent(Swal)\r\n\r\nclass SweetAlert {\r\n  //送出前確認\r\n  /*\r\n    title = 提示窗的標題\r\n    setStateFunc = 要被改變的state\r\n    stateData = 要改變的值\r\n    callback = 按下確認之後要執行的function\r\n    callBackData = function參數1\r\n    callBackData2 = function參數2\r\n  */\r\n  static sendConfirm(\r\n    title,\r\n    setStateFunc,\r\n    stateData,\r\n    callback,\r\n    callBackData = '',\r\n    callBackData2 = ''\r\n  ) {\r\n    MySwal.fire({\r\n      title: title,\r\n      icon: 'question',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#3085d6',\r\n      cancelButtonColor: '#d33',\r\n      confirmButtonText: '送出',\r\n    }).then(async result => {\r\n      if (result.value) {\r\n        if (callback) await callback(callBackData, callBackData2)\r\n        if (setStateFunc && stateData) setStateFunc(stateData)\r\n      }\r\n    })\r\n  }\r\n  //成功執行\r\n  // title = 提示訊息\r\n  static success(title) {\r\n    MySwal.fire({\r\n      icon: 'success',\r\n      title: title,\r\n      showConfirmButton: false,\r\n      timer: 1500,\r\n    })\r\n  }\r\n\r\n  //錯誤訊息\r\n  /*\r\n    errorCode = 錯誤代碼\r\n    errorMsg = 錯誤訊息\r\n  */\r\n  static errorAlert(errorCode, errorMsg) {\r\n    MySwal.fire({\r\n      icon: 'error',\r\n      title: `錯誤代碼：${errorCode}`,\r\n      text: `錯誤訊息：${errorMsg}`,\r\n    })\r\n  }\r\n\r\n  //多步驟提示框\r\n  /*\r\n    Steps = 有幾個步驟\r\n    queueMsg = 每個步驟的設定(標題、內文或是是否要有輸入框等..)\r\n    setStateFunc = 要被改變的state\r\n    stateData = 要改變的值\r\n    callback = 按下確認之後要執行的function\r\n    callbackData = function的傳入參數\r\n  */\r\n  static questionAlert(\r\n    Steps,\r\n    queueMsg,\r\n    setStateFunc,\r\n    stateData,\r\n    callback = '',\r\n    callbackData = ''\r\n  ) {\r\n    MySwal.mixin({\r\n      confirmButtonText: '下一步 &rarr;',\r\n      showCancelButton: true,\r\n      progressSteps: Steps,\r\n    })\r\n      .queue(queueMsg)\r\n      .then(async result => {\r\n        if (result.value) {\r\n          const inputData = result.value[0]\r\n          if (callback) await callback(callbackData, inputData)\r\n          if (setStateFunc && stateData) setStateFunc(stateData)\r\n        }\r\n      })\r\n  }\r\n}\r\n\r\nexport default SweetAlert\r\n","import React from 'react'\r\n\r\nfunction Loading(props) {\r\n  return (\r\n    <>\r\n      <div className=\"loading\">\r\n        <img src=\"../../images/logo/Ripple-1s-200px.svg\" alt=\"\" />\r\n        <h2>加載中...</h2>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Loading\r\n","import React, { useEffect, useState } from 'react'\r\n\r\n//傳入參數 props.totalPages = 總共頁數\r\n//傳入方法 props.getDataFromServer() = 向伺服器請求新的資料\r\n//此元件class與event功能共用\r\n//2020-03-21\r\nfunction EventPageButtons(props) {\r\n  const [pageButtons, setPageButtons] = useState([]) //存放page按鈕的陣列\r\n\r\n  //依據totalPages製作頁數按鈕\r\n  //先製作出<li>列表後存入本地state，然後透過.map印出\r\n  useEffect(() => {\r\n    let nowPageButton = []\r\n    for (let i = 1; i <= props.totalPages; i++) {\r\n      nowPageButton.push(\r\n        <li\r\n          className=\"page-item JY-classPage\"\r\n          key={i}\r\n          data-page={i}\r\n          onClick={event => {\r\n            const page = event.target.textContent\r\n            props.getDataFromServer(page)\r\n          }}\r\n        >\r\n          <span className=\"page-link\">{i}</span>\r\n        </li>\r\n      )\r\n    }\r\n    setPageButtons(nowPageButton)\r\n  }, [props.totalPages])\r\n\r\n  return (\r\n    <>\r\n      <nav aria-label=\"Page navigation example\">\r\n        <ul className=\"pagination justify-content-end\">\r\n          <li className=\"page-item page-prev\">\r\n            <span className=\"page-link\">Previous</span>\r\n          </li>\r\n          {pageButtons.map(value => {\r\n            return value\r\n          })}\r\n          <li className=\"page-item page-next\">\r\n            <span className=\"page-link\">Next</span>\r\n          </li>\r\n        </ul>\r\n      </nav>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default EventPageButtons\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\n\r\n// Styled Components\r\nconst StyledSwitchButton = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  button {\r\n    width: 38px;\r\n    background-color: ${props => (props.active ? '#f15a24' : '#132948')};\r\n    border-radius: 11px;\r\n    border: 1px solid ${props => (props.active ? '#ECECEC' : '#ECECEC')};\r\n    box-sizing: border-box;\r\n    padding: 0;\r\n    transition: all 300ms ease-in-out;\r\n    cursor: pointer;\r\n    outline: none;\r\n    &::after {\r\n      content: '';\r\n      width: 20px;\r\n      height: 20px;\r\n      background-color: #ffffff;\r\n      border-radius: 50%;\r\n      box-shadow: 0px 1px 3px rgba(30, 30, 30, 0.3);\r\n      transition: all 300ms ease-in-out;\r\n      transform: ${props =>\r\n        props.active ? 'translate(16px)' : 'translate(0)'};\r\n      display: block;\r\n    }\r\n  }\r\n  span {\r\n    color: #00000;\r\n    font-size: 18px;\r\n    margin-left: 10px;\r\n  }\r\n`\r\n\r\n// Switch Button Component\r\n// 透過 props 接收外部傳進來三個屬性的值\r\n// 1. type: 設置 Switch Button 按鈕類型。\r\n// 2. active: Switch Button 狀態。\r\n// 3. clicked: toggleSwitchButton (Method) 切換 Switch Button。\r\nconst SwitchButton = props => (\r\n  <StyledSwitchButton active={props.active}>\r\n    <button type={props.type} onClick={props.clicked}></button>\r\n  </StyledSwitchButton>\r\n)\r\n\r\nexport default SwitchButton\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport SweetAlert from './Sweetalert2'\r\n\r\nimport Loading from '../Loading' //載入中圖示\r\nimport EventPageButtons from '../../event/EventPageButtons'\r\nimport SwitchButton from '../../event/MemberEventComponents/SwitchButton'\r\n\r\n/*\r\n  傳入參數\r\n  sellerClassData = 此賣家自己擁有的全部課程資料\r\n  delClassDataResponse = 刪除課程資料後，後端回傳的訊息\r\n  props.isEnable = 過期資料開關狀態\r\n\r\n  傳入方法\r\n  getSellerClassData = 取得賣家的全部課程資料\r\n  delClassDataAsunc = 刪除一筆課程資料\r\n  props.setIsEnable = 切換過期資料開關狀態\r\n\r\n  2020-03-25\r\n*/\r\n\r\nfunction ManageClassContent(props) {\r\n  const [hasLoading, setHasLoading] = useState(false)\r\n  const [response, setResponse] = useState(false) //確認是否有收到刪除動作的response資料\r\n\r\n  //每次資料有變動就將新資料存進本地state\r\n  useEffect(() => {\r\n    //設定載入中為true\r\n    setHasLoading(true)\r\n    setTimeout(() => {\r\n      if (props.sellerClassData.status) {\r\n        setHasLoading(false)\r\n      }\r\n    }, 500)\r\n  }, [props.sellerClassData])\r\n\r\n  //每當response改變時就秀出提示視窗\r\n  useEffect(() => {\r\n    if (response) {\r\n      if (props.delClassDataResponse.status === 201) {\r\n        SweetAlert.success('已成功刪除一筆資料!')\r\n        setResponse(false)\r\n        props.getSellerClassData()\r\n      } else {\r\n        SweetAlert.errorAlert(\r\n          props.delClassDataResponse.status,\r\n          props.delClassDataResponse.msg\r\n        )\r\n        setResponse(false)\r\n      }\r\n    }\r\n  }, [response])\r\n\r\n  //每次點擊SwitchButton就改變state\r\n  const toggleSwitchButton = () => {\r\n    props.setIsEnable(!props.isEnable)\r\n  }\r\n\r\n  //刪除資料的事件\r\n  const delClassData = classId => {\r\n    SweetAlert.sendConfirm(\r\n      '確定要刪除嗎?',\r\n      setResponse,\r\n      true,\r\n      props.delClassDataAsunc,\r\n      classId\r\n    )\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"row\">\r\n        <div className=\"col-xl-3\">\r\n          <div className=\"sortSelect\">\r\n            <div className=\"d-flex switchbutton-jy align-items-center\">\r\n              <p>包含已過期資料</p>\r\n              <SwitchButton\r\n                type=\"button\"\r\n                active={props.isEnable}\r\n                clicked={toggleSwitchButton}\r\n              />\r\n            </div>\r\n            <select\r\n              name=\"sort\"\r\n              className=\"form-control\"\r\n              onChange={() => {\r\n                props.getSellerClassData()\r\n              }}\r\n            >\r\n              <option value=\"\">排序方式</option>\r\n              <option value=\"classNOWpeople,desc\">報名人數多至少</option>\r\n              <option value=\"classNOWpeople,asc\">報名人數少至多</option>\r\n              <option value=\"classStartDate,asc\">開課日期近至遠</option>\r\n              <option value=\"classStartDate,desc\">開課日期遠至近</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {hasLoading ? (\r\n        <Loading />\r\n      ) : (\r\n        <>\r\n          <div className=\"row\">\r\n            {props.sellerClassData.status &&\r\n            props.sellerClassData.status !== 404 ? (\r\n              props.sellerClassData.result.map((value, index) => {\r\n                return (\r\n                  <>\r\n                    <div className=\"col-sm-4\">\r\n                      <div className=\"card\" key={index}>\r\n                        <div className=\"classSellerImgBox card-img-top\">\r\n                          <img\r\n                            src={\r\n                              'http://127.0.0.1:5000/images/classImg/' +\r\n                              value.classImg\r\n                            }\r\n                            alt=\"\"\r\n                          />\r\n                        </div>\r\n                        <div className=\"card-body\">\r\n                          <h2 className=\"card-title\">{value.className}</h2>\r\n                          <ul className=\"\">\r\n                            <li>\r\n                              <img\r\n                                src=\"../../images/classImg/icons/type.svg\"\r\n                                alt=\"\"\r\n                              />\r\n                              {value.classType}\r\n                            </li>\r\n                            <li>\r\n                              <img\r\n                                src=\"../../images/classImg/icons/level.svg\"\r\n                                alt=\"\"\r\n                              />\r\n                              {value.classLevel}\r\n                            </li>\r\n                          </ul>\r\n                          <ul className=\"d-flex\">\r\n                            <li>\r\n                              <img\r\n                                src=\"../../images/classImg/icons/date.svg\"\r\n                                alt=\"\"\r\n                              />\r\n                              {value.classStartDate}\r\n                            </li>\r\n                            <li>\r\n                              <img\r\n                                src=\"../../images/classImg/icons/local.svg\"\r\n                                alt=\"\"\r\n                              />\r\n                              {value.classLocation}\r\n                            </li>\r\n                          </ul>\r\n                          <ul className=\"d-flex\">\r\n                            <li>{'報名費用：' + value.classPrice + '元'}</li>\r\n                            <li>\r\n                              {'現在已報名 ' + value.classNowPeople + ' 人'}\r\n                            </li>\r\n                          </ul>\r\n                          <div className=\"buttons d-flex\">\r\n                            <Link\r\n                              className=\"btn btn-outline-primary\"\r\n                              data-id={value.classId}\r\n                              to={'/seller/class/' + value.classId}\r\n                            >\r\n                              <i\r\n                                className=\"fas fa-edit\"\r\n                                data-id={value.classId}\r\n                              ></i>\r\n                            </Link>\r\n                            <button\r\n                              className=\"btn btn-outline-primary\"\r\n                              data-id={value.classId}\r\n                              disabled={\r\n                                new Date(value.classStartDate).getTime() <\r\n                                new Date().getTime()\r\n                                  ? true\r\n                                  : false\r\n                              }\r\n                              onClick={event => {\r\n                                const classId = event.target.getAttribute(\r\n                                  'data-id'\r\n                                )\r\n                                delClassData(classId)\r\n                              }}\r\n                            >\r\n                              <i\r\n                                className=\"far fa-trash-alt\"\r\n                                data-id={value.classId}\r\n                              ></i>\r\n                            </button>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </>\r\n                )\r\n              })\r\n            ) : (\r\n              <h2>查無相關資料</h2>\r\n            )}\r\n          </div>\r\n          <EventPageButtons\r\n            totalPages={props.sellerClassData.totalPages}\r\n            getDataFromServer={props.getSellerClassData}\r\n          />\r\n        </>\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ManageClassContent\r\n","import React from 'react'\r\n\r\nfunction ManageCoachContent(props) {\r\n  return (\r\n    <>\r\n      <div className=\"row\">\r\n        {props.SellerCoachData\r\n          ? props.SellerCoachData.result.map((value, index) => {\r\n              return (\r\n                <div className=\"col-3 coachCard-JY\">\r\n                  <div className=\"card\">\r\n                    <div className=\"coachImgBox\">\r\n                      <img\r\n                        class=\"card-img-top\"\r\n                        src={\r\n                          'http://127.0.0.1:5000/images/coachImg/' +\r\n                          value.classCoachImg\r\n                        }\r\n                        alt=\"\"\r\n                      />\r\n                    </div>\r\n                    <div className=\"card-body\">\r\n                      <h5 className=\"card-title\">\r\n                        {value.classCoachName + '教練'}\r\n                      </h5>\r\n                      <p className=\"card-text\">\r\n                        <ul>\r\n                          <li>{value.classCoachLicense1}</li>\r\n                          <li>{value.classCoachLicense2}</li>\r\n                          <li>{value.classCoachLicense3}</li>\r\n                        </ul>\r\n                      </p>\r\n                      <buuton className=\"btn btn-primary\" data-id={value.id}>\r\n                        <i className=\"fas fa-edit\"></i>\r\n                      </buuton>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )\r\n            })\r\n          : ''}\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ManageCoachContent\r\n","import React, { useState, useEffect } from 'react'\r\nimport Select from 'react-select'\r\n\r\nimport SweetAlert from './Sweetalert2'\r\n\r\n/*\r\n    傳入參數\r\n    cityData = 全台城市資料\r\n    distData= 依據選擇的城市得到相對應地區資料\r\n    typeData= 全部課程類型資料\r\n    levelData= 依據選擇的類型得到相對應等級資料\r\n    addClassDataResponse= 新增資料後，後端回傳的資訊\r\n\r\n    傳入方法\r\n    addClassData= 新增資料用的action\r\n    handleGetDistData= 取得地區資料的action\r\n    handleGetLevelData= 取得等級資料的action\r\n\r\n    2020-03-22\r\n\r\n*/\r\n\r\nfunction AddClassContent(props) {\r\n  const [addressCity, setAddressCity] = useState('') //儲存使用者選擇的縣市\r\n  const [addressDist, setAddressDist] = useState('') //儲存使用者選擇的地區\r\n  const [response, setResponse] = useState(false) //確認是否有收到response資料\r\n\r\n  //儲存表單值的本地state\r\n  const [className, setClassName] = useState('')\r\n  const [classTypeId, setClassTypeId] = useState('')\r\n  const [classLevelId, setClassLevelId] = useState('')\r\n  const [classLocation, setClassLocation] = useState('')\r\n  const [classFullLocation, setClassFullLocation] = useState('')\r\n  const [classStartDate, setClassStartDate] = useState('')\r\n  const [classEndDate, setClassEndDate] = useState('')\r\n  const [classPrice, setClassPrice] = useState('')\r\n  const [classIntroduction, setClassIntroduction] = useState('')\r\n  const [classDesc, setClassDesc] = useState('')\r\n  const [classMAXpeople, setClassMAXpeople] = useState('')\r\n  const [classImg, setClassImg] = useState('')\r\n\r\n  //儲存表單值的本地state\r\n\r\n  //每當response改變時就秀出提示視窗\r\n  useEffect(() => {\r\n    if (response) {\r\n      if (props.addClassDataResponse.status === 201) {\r\n        SweetAlert.success('已成功新增一筆資料!')\r\n        setResponse(false)\r\n      } else {\r\n        SweetAlert.errorAlert(\r\n          props.addClassDataResponse.status,\r\n          props.addClassDataResponse.msg\r\n        )\r\n        setResponse(false)\r\n      }\r\n    }\r\n  }, [response])\r\n\r\n  //每當本地state[addressDist]改變時就setClassLocation\r\n  useEffect(() => {\r\n    setClassLocation(\r\n      document.querySelector('input[name=\"classLocation\"]').value\r\n    )\r\n  }, [addressDist])\r\n\r\n  //新增一筆課程資料用的函式\r\n  const addClassData = async () => {\r\n    const ClassFormData = {\r\n      className,\r\n      classTypeId,\r\n      classLevelId,\r\n      classLocation,\r\n      classFullLocation,\r\n      classStartDate,\r\n      classEndDate,\r\n      classPrice,\r\n      classIntroduction,\r\n      classDesc,\r\n      classMAXpeople,\r\n      classImg,\r\n    }\r\n\r\n    //跳出確認視窗\r\n    SweetAlert.sendConfirm(\r\n      '確定要送出嗎?',\r\n      setResponse,\r\n      true,\r\n      props.addClassData,\r\n      ClassFormData\r\n    )\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"row addClassForm\">\r\n        <div className=\"col-xl-6\">\r\n          <form name=\"addClassForm\">\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"\">課程名稱</label>\r\n              <input\r\n                type=\"text\"\r\n                name=\"className\"\r\n                className=\"form-control\"\r\n                placeholder=\"15字以內\"\r\n                onChange={event => {\r\n                  setClassName(event.target.value) //設定課程名稱到本地state\r\n                }}\r\n              />\r\n            </div>\r\n            <div className=\"form-row\">\r\n              <div className=\"form-group col-md-6\">\r\n                <label htmlFor=\"\">課程類型</label>\r\n                <select\r\n                  name=\"classTypeId\"\r\n                  id=\"\"\r\n                  className=\"form-control\"\r\n                  onChange={event => {\r\n                    const type = event.target.value\r\n                    props.handleGetLevelData(false, type)\r\n                    setClassTypeId(event.target.value) //設定課程類型到本地state\r\n                  }}\r\n                >\r\n                  <option value=\"\">請選擇類型</option>\r\n                  {props.typeData.length > 0\r\n                    ? props.typeData.map((value, index) => {\r\n                        return (\r\n                          <option value={value.classTypeId} key={index}>\r\n                            {value.classTypeName}\r\n                          </option>\r\n                        )\r\n                      })\r\n                    : ''}\r\n                </select>\r\n              </div>\r\n              <div className=\"form-group col-md-6\">\r\n                <label htmlFor=\"\">課程等級</label>\r\n                <select\r\n                  name=\"classLevelId\"\r\n                  id=\"\"\r\n                  className=\"form-control\"\r\n                  onChange={event => {\r\n                    setClassLevelId(event.target.value) //設定課程等級到本地state\r\n                  }}\r\n                >\r\n                  <option value=\"\">請選擇等級</option>\r\n                  {props.levelData.length > 0\r\n                    ? props.levelData.map((value, index) => {\r\n                        return (\r\n                          <option value={value.classLevelId} key={index}>\r\n                            {value.classLevel}\r\n                          </option>\r\n                        )\r\n                      })\r\n                    : ''}\r\n                </select>\r\n              </div>\r\n              <div className=\"form-group col-md-3\">\r\n                <label htmlFor=\"\">上課地點</label>\r\n                <select\r\n                  name=\"\"\r\n                  className=\"form-control\"\r\n                  onChange={event => {\r\n                    const city = event.target.value\r\n                    props.handleGetDistData(city) //取得相對應的地區資料\r\n                    setAddressCity(city) //設定課程地點(縣市)到本地state\r\n                    setAddressDist('')\r\n                    setClassFullLocation('')\r\n                    setClassLocation('')\r\n                    document.querySelector(\r\n                      'input[name=\"classFullLocation\"]'\r\n                    ).value = ''\r\n                  }}\r\n                >\r\n                  <option value=\"\">請選擇縣市</option>\r\n                  {props.cityData.length > 0\r\n                    ? props.cityData.map((value, index) => {\r\n                        return (\r\n                          <option value={value.name} key={index}>\r\n                            {value.name}\r\n                          </option>\r\n                        )\r\n                      })\r\n                    : ''}\r\n                </select>\r\n              </div>\r\n              <div className=\"form-group col-md-3\">\r\n                <label htmlFor=\"\"></label>\r\n                <select\r\n                  name=\"\"\r\n                  id=\"\"\r\n                  className=\"form-control\"\r\n                  onChange={event => {\r\n                    const dist = event.target.value\r\n                    setAddressDist(dist) //設定課程地區到本地state\r\n                    setClassFullLocation('')\r\n                    setClassLocation('')\r\n                    document.querySelector(\r\n                      'input[name=\"classFullLocation\"]'\r\n                    ).value = ''\r\n                  }}\r\n                >\r\n                  <option value=\"\">請選擇地區</option>\r\n                  {props.distData.length > 0\r\n                    ? props.distData.map((value, index) => {\r\n                        return (\r\n                          <option value={value} key={index}>\r\n                            {value}\r\n                          </option>\r\n                        )\r\n                      })\r\n                    : ''}\r\n                </select>\r\n              </div>\r\n            </div>\r\n            <div className=\"form-row\">\r\n              <div className=\"form-group col-md-3\">\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"classLocation\"\r\n                  className=\"form-control\"\r\n                  placeholder=\"\"\r\n                  value={addressCity + addressDist}\r\n                  readOnly\r\n                />\r\n              </div>\r\n              <div className=\"form-group col-md-6\">\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"classFullLocation\"\r\n                  className=\"form-control\"\r\n                  placeholder=\"\"\r\n                  onChange={event => {\r\n                    setClassFullLocation(\r\n                      addressCity + addressDist + event.target.value\r\n                    ) //設定課程地點(完整)到本地state\r\n                  }}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"form-row\">\r\n              <div className=\"form-group col-md-6\">\r\n                <label htmlFor=\"\">開課日期</label>\r\n                <input\r\n                  type=\"datetime-local\"\r\n                  name=\"classStartDate\"\r\n                  className=\"form-control\"\r\n                  onChange={event => {\r\n                    setClassStartDate(event.target.value) //設定開課日期到本地state\r\n                  }}\r\n                />\r\n              </div>\r\n              <div className=\"form-group col-md-6\">\r\n                <label htmlFor=\"\">結訓日期</label>\r\n                <input\r\n                  type=\"datetime-local\"\r\n                  name=\"classEndDate\"\r\n                  className=\"form-control\"\r\n                  onChange={event => {\r\n                    setClassEndDate(event.target.value) //設定結訓日期到本地state\r\n                  }}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"form-row\">\r\n              <div className=\"form-group col-md-6\">\r\n                <label htmlFor=\"\">課程售價</label>\r\n                <input\r\n                  type=\"number\"\r\n                  name=\"classPrice\"\r\n                  className=\"form-control\"\r\n                  onChange={event => {\r\n                    setClassPrice(event.target.value) //設定課程售價到本地state\r\n                  }}\r\n                />\r\n              </div>\r\n              <div className=\"form-group col-md-6\">\r\n                <label htmlFor=\"\">招生人數</label>\r\n                <input\r\n                  type=\"number\"\r\n                  name=\"classMAXpeople\"\r\n                  className=\"form-control\"\r\n                  onChange={event => {\r\n                    setClassMAXpeople(event.target.value) //設定最大人數到本地state\r\n                  }}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"\">上傳一張圖片</label>\r\n              <input\r\n                type=\"file\"\r\n                name=\"classImg\"\r\n                className=\"form-control-file\"\r\n                onChange={event => {\r\n                  setClassImg(event.target.files[0]) //設定課程圖片到本地state\r\n                }}\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"\">課程簡介(70字內)</label>\r\n              <textarea\r\n                className=\"form-control\"\r\n                name=\"classIntroduction\"\r\n                rows=\"3\"\r\n                onChange={event => {\r\n                  setClassIntroduction(event.target.value) //設定課程簡介到本地state\r\n                }}\r\n              ></textarea>\r\n            </div>\r\n          </form>\r\n        </div>\r\n        <div className=\"col-xl-6\">\r\n          <div className=\"form-group classDescBox\">\r\n            <label htmlFor=\"\">課程說明(3000字內)</label>\r\n            <textarea\r\n              className=\"form-control\"\r\n              name=\"classDesc\"\r\n              rows=\"5\"\r\n              onChange={event => {\r\n                setClassDesc(event.target.value) //設定課程說明到本地state\r\n              }}\r\n            ></textarea>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"col-12 btn-box d-flex\">\r\n        <button\r\n          type=\"button\"\r\n          className=\"btn btn-outline-warning\"\r\n          onClick={() => {\r\n            addClassData() //觸發新增課程資料的事件\r\n          }}\r\n        >\r\n          送出\r\n        </button>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default AddClassContent\r\n","import React, { useState, useEffect } from 'react'\r\n\r\n//引入redux元件\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\n\r\n//引入action\r\nimport {\r\n  getSellerClassDataAsync,\r\n  getCityDataAsync,\r\n  getDistDataAsync,\r\n  getClassTypeLevelDataForSellerAsync,\r\n  addClassDataAsync,\r\n  delClassDataAsync,\r\n  getCoachDataAsync,\r\n} from '../../actions/seller/index'\r\n\r\nimport ManageClassContent from '../../components/class/SellerClassComponents/ManageClassContent'\r\nimport ManageCoachContent from '../../components/class/SellerClassComponents/ManageCoachContent'\r\nimport AddClassContent from '../../components/class/SellerClassComponents/AddClassContent'\r\n\r\nfunction SellerClass(props) {\r\n  const [nowClickTag, setNowClickTag] = useState(1)\r\n  const [isEnable, setIsEnable] = useState(false) //是否按下 \"包含已過期資料的按鈕\"\r\n\r\n  useEffect(() => {\r\n    props.getSellerClassDataAsync()\r\n    props.getCityDataAsync()\r\n    props.getCoachDataAsync()\r\n    props.getClassTypeLevelDataForSellerAsync(true, false)\r\n  }, [])\r\n\r\n  //每次按鈕被點擊時，就取得新資料\r\n  useEffect(() => {\r\n    getSellerClassData()\r\n  }, [isEnable])\r\n\r\n  //向伺服器取得新資料\r\n  const getSellerClassData = page => {\r\n    //取得select的值，作為類型、等級的篩選參數\r\n    const sort = document.querySelector('select[name=\"sort\"]').value\r\n    props.getSellerClassDataAsync(sort, page, isEnable)\r\n  }\r\n\r\n  const handleNavActive = event => {\r\n    const navButtons = document.querySelectorAll('button.nav-item.nav-link')\r\n    navButtons.forEach((value, index) => {\r\n      value.classList.remove('active')\r\n    })\r\n    event.target.classList.add('active')\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"container JY-Seller-Class\">\r\n        <nav className=\"nav nav-pills nav-justified\">\r\n          <button\r\n            className=\"nav-item nav-link active\"\r\n            onClick={event => {\r\n              handleNavActive(event)\r\n              setNowClickTag(1)\r\n            }}\r\n          >\r\n            管理課程\r\n          </button>\r\n          <button\r\n            className=\"nav-item nav-link\"\r\n            onClick={event => {\r\n              handleNavActive(event)\r\n              setNowClickTag(2)\r\n            }}\r\n          >\r\n            新增課程\r\n          </button>\r\n          <button\r\n            className=\"nav-item nav-link \"\r\n            onClick={event => {\r\n              handleNavActive(event)\r\n              setNowClickTag(3)\r\n            }}\r\n          >\r\n            管理教練資訊\r\n          </button>\r\n        </nav>\r\n        <div className=\"col-12\">\r\n          {(() => {\r\n            switch (nowClickTag) {\r\n              case 2:\r\n                return (\r\n                  <AddClassContent\r\n                    cityData={props.cityData}\r\n                    handleGetDistData={props.getDistDataAsync}\r\n                    handleGetLevelData={\r\n                      props.getClassTypeLevelDataForSellerAsync\r\n                    }\r\n                    distData={props.distData}\r\n                    typeData={props.typeDataForSeller}\r\n                    levelData={props.levelDataForSeller}\r\n                    addClassData={props.addClassDataAsync}\r\n                    addClassDataResponse={props.addClassDataResponse}\r\n                    SellerCoachData={props.SellerCoachData}\r\n                  />\r\n                )\r\n              case 3:\r\n                return (\r\n                  <ManageCoachContent SellerCoachData={props.SellerCoachData} />\r\n                )\r\n              default:\r\n                return (\r\n                  <ManageClassContent\r\n                    sellerClassData={props.sellerClassData}\r\n                    getSellerClassData={getSellerClassData}\r\n                    delClassDataAsync={props.delClassDataAsync}\r\n                    delClassDataResponse={props.delClassDataResponse}\r\n                    setIsEnable={setIsEnable}\r\n                    isEnable={isEnable}\r\n                  />\r\n                )\r\n            }\r\n          })()}\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\n// 取得Redux中store的值\r\nconst mapStateToProps = store => {\r\n  return {\r\n    sellerClassData: store.sellerReducer.sellerClassData,\r\n    cityData: store.sellerReducer.cityData,\r\n    distData: store.sellerReducer.distData,\r\n    typeDataForSeller: store.sellerReducer.typeDataForSeller,\r\n    levelDataForSeller: store.sellerReducer.levelDataForSeller,\r\n    addClassDataResponse: store.sellerReducer.addClassDataResponse,\r\n    delClassDataResponse: store.sellerReducer.delClassDataResponse,\r\n    SellerCoachData: store.sellerReducer.SellerCoachData,\r\n  }\r\n}\r\n\r\n// 指示dispatch要綁定哪些action creators\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      getSellerClassDataAsync,\r\n      getCityDataAsync,\r\n      getDistDataAsync,\r\n      getClassTypeLevelDataForSellerAsync,\r\n      addClassDataAsync,\r\n      delClassDataAsync,\r\n      getCoachDataAsync,\r\n    },\r\n    dispatch\r\n  )\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SellerClass)\r\n","import React, { useState, useEffect } from 'react'\r\nimport SweetAlert from './Sweetalert2'\r\n\r\n/*\r\n    傳入參數\r\n    classId = 課程編號\r\n    SellerClassDetailData = 課程詳細資料(包含教練資訊及報名者資料)\r\n    cityData = 全台城市資料\r\n    distData = 依據選擇的城市得到相對應地區資料\r\n    typeData = 類型資料\r\n    levelData = 依據選擇的類型得到相對應等級資料\r\n    editClassDataResponse = 編輯資料之後，後端傳送過來的資料\r\n\r\n    //傳入方法\r\n    editClassDataAsunc = 編輯一筆資料的action\r\n    getDistDataAsunc = 取得地區資料的action\r\n    getClassTypeLevelDataForSellerAsunc = 取得類型及等級的action\r\n    2020-03-26\r\n*/\r\n\r\nfunction EditClassDataContent(props) {\r\n  const [addressCity, setAddressCity] = useState('') //儲存使用者選擇的縣市\r\n  const [addressDist, setAddressDist] = useState('') //儲存使用者選擇的地區\r\n  const [response, setResponse] = useState(false) //確認是否有收到response資料\r\n\r\n  //儲存表單值的本地state\r\n  const [className, setClassName] = useState('')\r\n  const [classType, setClassType] = useState('')\r\n  const [classLevel, setClassLevel] = useState('')\r\n  const [classTypeId, setClassTypeId] = useState('')\r\n  const [classLevelId, setClassLevelId] = useState('')\r\n  const [classLocation, setClassLocation] = useState('')\r\n  const [classFullLocation, setClassFullLocation] = useState('')\r\n  const [classStartDate, setClassStartDate] = useState('')\r\n  const [classEndDate, setClassEndDate] = useState('')\r\n  const [classPrice, setClassPrice] = useState('')\r\n  const [classIntroduction, setClassIntroduction] = useState('')\r\n  const [classDesc, setClassDesc] = useState('')\r\n  const [classMAXpeople, setClassMAXpeople] = useState('')\r\n  const [classImg, setClassImg] = useState('')\r\n  //儲存表單值的本地state\r\n\r\n  //每當本地state[addressDist]改變時就setClassLocation\r\n  useEffect(() => {\r\n    setClassLocation(\r\n      document.querySelector('input[name=\"classLocation\"]').value\r\n    )\r\n  }, [addressDist])\r\n\r\n  //每當response改變時就秀出提示視窗\r\n  useEffect(() => {\r\n    if (response) {\r\n      if (props.editClassDataResponse.status === 201) {\r\n        SweetAlert.success('已成功修改一筆資料!')\r\n        setResponse(false)\r\n      } else {\r\n        SweetAlert.errorAlert(\r\n          props.editClassDataResponse.status,\r\n          props.editClassDataResponse.msg\r\n        )\r\n        setResponse(false)\r\n      }\r\n    }\r\n  }, [response])\r\n\r\n  useEffect(() => {\r\n    if (props.SellerClassDetailData.classData) {\r\n      props.getDistDataAsunc(\r\n        props.SellerClassDetailData.classData[0].classLocation.substr(0, 3)\r\n      )\r\n      props.getClassTypeLevelDataForSellerAsunc(\r\n        false,\r\n        props.SellerClassDetailData.classData[0].classTypeId\r\n      )\r\n\r\n      setClassName(props.SellerClassDetailData.classData[0].className)\r\n      setClassType(props.SellerClassDetailData.classData[0].classType)\r\n      setClassLevel(props.SellerClassDetailData.classData[0].classLevel)\r\n      setClassTypeId(props.SellerClassDetailData.classData[0].classTypeId)\r\n      setClassLevelId(props.SellerClassDetailData.classData[0].classLevelId)\r\n      setClassLocation(props.SellerClassDetailData.classData[0].classLocation)\r\n      setClassFullLocation(\r\n        props.SellerClassDetailData.classData[0].classFullLocation\r\n      )\r\n      setClassStartDate(props.SellerClassDetailData.classData[0].classStartDate)\r\n      setClassEndDate(props.SellerClassDetailData.classData[0].classEndDate)\r\n      setClassPrice(props.SellerClassDetailData.classData[0].classPrice)\r\n      setClassIntroduction(\r\n        props.SellerClassDetailData.classData[0].classIntroduction\r\n      )\r\n      setClassDesc(props.SellerClassDetailData.classData[0].classDesc)\r\n      setClassMAXpeople(props.SellerClassDetailData.classData[0].classMAXpeople)\r\n      setClassImg(props.SellerClassDetailData.classData[0].classImg)\r\n      setAddressCity(\r\n        props.SellerClassDetailData.classData[0].classLocation.substr(0, 3)\r\n      )\r\n      setAddressDist(\r\n        props.SellerClassDetailData.classData[0].classLocation.substr(3)\r\n      )\r\n    }\r\n  }, [props.SellerClassDetailData.classData])\r\n\r\n  //修改一筆課程資料用的函式\r\n  const editClassData = async () => {\r\n    const ClassFormData = {\r\n      className,\r\n      classType,\r\n      classLevel,\r\n      classTypeId,\r\n      classLevelId,\r\n      classLocation,\r\n      classFullLocation,\r\n      classStartDate,\r\n      classEndDate,\r\n      classPrice,\r\n      classIntroduction,\r\n      classDesc,\r\n      classMAXpeople,\r\n      classImg,\r\n    }\r\n\r\n    //跳出確認視窗\r\n    SweetAlert.sendConfirm(\r\n      '確定要送出嗎?',\r\n      setResponse,\r\n      true,\r\n      props.editClassDataAsunc,\r\n      ClassFormData,\r\n      props.classId\r\n    )\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"row addClassForm\">\r\n        <div className=\"col-xl-6\">\r\n          <form name=\"addClassForm\">\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"\">課程名稱</label>\r\n              <input\r\n                type=\"text\"\r\n                name=\"className\"\r\n                className=\"form-control\"\r\n                placeholder=\"15字以內\"\r\n                defaultValue={className}\r\n                onChange={event => {\r\n                  setClassName(event.target.value) //設定課程名稱到本地state\r\n                }}\r\n              />\r\n            </div>\r\n            <div className=\"form-row\">\r\n              <div className=\"form-group col-md-6\">\r\n                <label htmlFor=\"\">課程類型</label>\r\n                <select\r\n                  name=\"classTypeId\"\r\n                  id=\"\"\r\n                  className=\"form-control\"\r\n                  defaultValue=\"\"\r\n                  onChange={event => {\r\n                    const type = event.target.value\r\n                    const index = event.target.selectedIndex\r\n                    props.getClassTypeLevelDataForSellerAsunc(false, type)\r\n                    setClassTypeId(type)\r\n                    setClassType(event.target.options[index].textContent) //設定課程類型到本地state\r\n                  }}\r\n                >\r\n                  <option value=\"\">請選擇類型</option>\r\n                  {props.typeData.length > 0\r\n                    ? props.typeData.map((value, index) => {\r\n                        return (\r\n                          <option\r\n                            value={value.classTypeId}\r\n                            key={index}\r\n                            selected={\r\n                              classTypeId === value.classTypeId\r\n                                ? 'selected'\r\n                                : ''\r\n                            }\r\n                          >\r\n                            {value.classTypeName}\r\n                          </option>\r\n                        )\r\n                      })\r\n                    : ''}\r\n                </select>\r\n              </div>\r\n              <div className=\"form-group col-md-6\">\r\n                <label htmlFor=\"\">課程等級</label>\r\n                <select\r\n                  name=\"classLevelId\"\r\n                  id=\"\"\r\n                  className=\"form-control\"\r\n                  defaultValue=\"\"\r\n                  onChange={event => {\r\n                    const index = event.target.selectedIndex\r\n                    setClassLevel(event.target.options[index].textContent) //設定課程等級到本地state\r\n                    setClassLevelId(event.target.value)\r\n                  }}\r\n                >\r\n                  <option value=\"\">請選擇等級</option>\r\n                  {props.levelData.length > 0\r\n                    ? props.levelData.map((value, index) => {\r\n                        return (\r\n                          <option\r\n                            value={value.classLevelId}\r\n                            key={index}\r\n                            selected={\r\n                              classLevelId === value.classLevelId\r\n                                ? 'selected'\r\n                                : ''\r\n                            }\r\n                          >\r\n                            {value.classLevel}\r\n                          </option>\r\n                        )\r\n                      })\r\n                    : ''}\r\n                </select>\r\n              </div>\r\n              <div className=\"form-group col-md-3\">\r\n                <label htmlFor=\"\">上課地點</label>\r\n                <select\r\n                  name=\"\"\r\n                  className=\"form-control\"\r\n                  defaultValue=\"\"\r\n                  onChange={event => {\r\n                    const city = event.target.value\r\n                    props.getDistDataAsunc(city) //取得相對應的地區資料\r\n                    setAddressCity(city) //設定課程地點(縣市)到本地state\r\n                    setAddressDist('')\r\n                    setClassFullLocation('')\r\n                    setClassLocation('')\r\n                    document.querySelector(\r\n                      'input[name=\"classFullLocation\"]'\r\n                    ).value = ''\r\n                  }}\r\n                >\r\n                  <option value=\"\">請選擇縣市</option>\r\n                  {props.cityData.length > 0\r\n                    ? props.cityData.map((value, index) => {\r\n                        return (\r\n                          <option\r\n                            value={value.name}\r\n                            key={index}\r\n                            selected={\r\n                              addressCity === value.name ? 'selected' : ''\r\n                            }\r\n                          >\r\n                            {value.name}\r\n                          </option>\r\n                        )\r\n                      })\r\n                    : ''}\r\n                </select>\r\n              </div>\r\n              <div className=\"form-group col-md-3\">\r\n                <label htmlFor=\"\"></label>\r\n                <select\r\n                  name=\"\"\r\n                  id=\"\"\r\n                  className=\"form-control\"\r\n                  defaultValue=\"\"\r\n                  onChange={event => {\r\n                    const dist = event.target.value\r\n                    setAddressDist(dist) //設定課程地區到本地state\r\n                    setClassFullLocation('')\r\n                    setClassLocation('')\r\n                    document.querySelector(\r\n                      'input[name=\"classFullLocation\"]'\r\n                    ).value = ''\r\n                  }}\r\n                >\r\n                  <option value=\"\">請選擇地區</option>\r\n                  {props.distData.length > 0\r\n                    ? props.distData.map((value, index) => {\r\n                        return (\r\n                          <option\r\n                            value={value}\r\n                            key={index}\r\n                            selected={\r\n                              addressDist === value.name ? 'selected' : ''\r\n                            }\r\n                          >\r\n                            {value}\r\n                          </option>\r\n                        )\r\n                      })\r\n                    : ''}\r\n                </select>\r\n              </div>\r\n            </div>\r\n            <div className=\"form-row\">\r\n              <div className=\"form-group col-md-3\">\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"classLocation\"\r\n                  className=\"form-control\"\r\n                  placeholder=\"\"\r\n                  value={addressCity + addressDist}\r\n                  readOnly\r\n                />\r\n              </div>\r\n              <div className=\"form-group col-md-6\">\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"classFullLocation\"\r\n                  className=\"form-control\"\r\n                  placeholder=\"\"\r\n                  defaultValue={classFullLocation}\r\n                  onChange={event => {\r\n                    setClassFullLocation(\r\n                      addressCity + addressDist + event.target.value\r\n                    ) //設定課程地點(完整)到本地state\r\n                  }}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"form-row\">\r\n              <div className=\"form-group col-md-6\">\r\n                <label htmlFor=\"\">開課日期</label>\r\n                <input\r\n                  type=\"datetime-local\"\r\n                  name=\"classStartDate\"\r\n                  className=\"form-control\"\r\n                  defaultValue={classStartDate}\r\n                  onChange={event => {\r\n                    setClassStartDate(event.target.value) //設定開課日期到本地state\r\n                  }}\r\n                />\r\n              </div>\r\n              <div className=\"form-group col-md-6\">\r\n                <label htmlFor=\"\">結訓日期</label>\r\n                <input\r\n                  type=\"datetime-local\"\r\n                  name=\"classEndDate\"\r\n                  className=\"form-control\"\r\n                  defaultValue={classEndDate}\r\n                  onChange={event => {\r\n                    setClassEndDate(event.target.value) //設定結訓日期到本地state\r\n                  }}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"form-row\">\r\n              <div className=\"form-group col-md-6\">\r\n                <label htmlFor=\"\">課程售價</label>\r\n                <input\r\n                  type=\"number\"\r\n                  name=\"classPrice\"\r\n                  className=\"form-control\"\r\n                  defaultValue={classPrice}\r\n                  onChange={event => {\r\n                    setClassPrice(event.target.value) //設定課程售價到本地state\r\n                  }}\r\n                />\r\n              </div>\r\n              <div className=\"form-group col-md-6\">\r\n                <label htmlFor=\"\">招生人數</label>\r\n                <input\r\n                  type=\"number\"\r\n                  name=\"classMAXpeople\"\r\n                  className=\"form-control\"\r\n                  defaultValue={classMAXpeople}\r\n                  onChange={event => {\r\n                    setClassMAXpeople(event.target.value) //設定最大人數到本地state\r\n                  }}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"\">上傳一張圖片</label>\r\n              <input\r\n                type=\"file\"\r\n                name=\"classImg\"\r\n                className=\"form-control-file\"\r\n                onChange={event => {\r\n                  setClassImg(event.target.files[0]) //設定課程圖片到本地state\r\n                }}\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"\">課程簡介(70字內)</label>\r\n              <textarea\r\n                className=\"form-control\"\r\n                name=\"classIntroduction\"\r\n                rows=\"3\"\r\n                defaultValue={classIntroduction}\r\n                onChange={event => {\r\n                  setClassIntroduction(event.target.value) //設定課程簡介到本地state\r\n                }}\r\n              ></textarea>\r\n            </div>\r\n          </form>\r\n        </div>\r\n        <div className=\"col-xl-6\">\r\n          <div className=\"form-group classDescBox\">\r\n            <label htmlFor=\"\">課程說明(3000字內)</label>\r\n            <textarea\r\n              className=\"form-control\"\r\n              name=\"classDesc\"\r\n              rows=\"5\"\r\n              defaultValue={classDesc}\r\n              onChange={event => {\r\n                setClassDesc(event.target.value) //設定課程說明到本地state\r\n              }}\r\n            ></textarea>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"col-12 btn-box d-flex\">\r\n        <button\r\n          type=\"button\"\r\n          className=\"btn btn-outline-warning\"\r\n          onClick={() => {\r\n            //觸發新增課程資料的事件\r\n            editClassData()\r\n          }}\r\n        >\r\n          送出\r\n        </button>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default EditClassDataContent\r\n","import React, { useState, useEffect } from 'react'\r\nimport { withRouter } from 'react-router'\r\n\r\n//引入redux元件\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\n\r\n//引入action\r\nimport {\r\n  getSellerClassDetailDataAsync,\r\n  getCityDataAsync,\r\n  getDistDataAsync,\r\n  getClassTypeLevelDataForSellerAsync,\r\n  editClassDataAsync,\r\n} from '../../actions/seller/index'\r\n\r\nimport EditClassDataContent from '../../components/class/SellerClassComponents/EditClassDataContent'\r\n\r\nfunction SellerEditClass(props) {\r\n  const [classId, setClassId] = useState(props.match.params.classId)\r\n\r\n  useEffect(() => {\r\n    props.getSellerClassDetailDataAsync(classId)\r\n    props.getCityDataAsync()\r\n    props.getClassTypeLevelDataForSellerAsync(true, false)\r\n  }, [])\r\n\r\n  return (\r\n    <>\r\n      <div className=\"container JY-container-seller-editclass\">\r\n        <EditClassDataContent\r\n          classId={classId}\r\n          cityData={props.cityData}\r\n          distData={props.distData}\r\n          typeData={props.typeData}\r\n          levelData={props.levelData}\r\n          SellerClassDetailData={props.SellerClassDetailData}\r\n          editClassDataResponse={props.editClassDataResponse}\r\n          editClassDataAsync={props.editClassDataAsync}\r\n          getDistDataAsync={props.getDistDataAsync}\r\n          getClassTypeLevelDataForSellerAsync={\r\n            props.getClassTypeLevelDataForSellerAsync\r\n          }\r\n        />\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\n// 取得Redux中store的值\r\nconst mapStateToProps = store => {\r\n  return {\r\n    SellerClassDetailData: store.sellerReducer.SellerClassDetailData,\r\n    cityData: store.sellerReducer.cityData,\r\n    distData: store.sellerReducer.distData,\r\n    typeData: store.sellerReducer.typeDataForSeller,\r\n    levelData: store.sellerReducer.levelDataForSeller,\r\n    editClassDataResponse: store.sellerReducer.editClassDataResponse,\r\n  }\r\n}\r\n\r\n// 指示dispatch要綁定哪些action creators\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      getSellerClassDetailDataAsync,\r\n      getCityDataAsync,\r\n      getDistDataAsync,\r\n      getClassTypeLevelDataForSellerAsync,\r\n      editClassDataAsync,\r\n    },\r\n    dispatch\r\n  )\r\n}\r\n\r\nexport default withRouter(\r\n  connect(mapStateToProps, mapDispatchToProps)(SellerEditClass)\r\n)\r\n","import React, { useState } from 'react'\r\nimport '../pages/Style/Info.scss'\r\n\r\n//redux相關\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\n//顯示資料的動作函數\r\nimport { sellerEditAsync } from '../../../actions/seller/index'\r\n\r\n//更新資料的動作函數\r\n\r\nimport { sellerUpdateAsync } from '../../../actions/seller/index'\r\n\r\nimport { withRouter } from 'react-router-dom'\r\nimport { Form } from 'react-bootstrap'\r\n\r\nfunction SellerEdit(props) {\r\n  console.log(props)\r\n  // console.log(props.isAuth)\r\n\r\n  const [name, setName] = useState('')\r\n  const [email, setEmail] = useState('')\r\n  const [username, setUsername] = useState('')\r\n  const [password1, setPassword1] = useState('')\r\n  const [password2, setPassword2] = useState('')\r\n  const [address, setAdress] = useState('')\r\n  const [sellerName, setSellerName] = useState('')\r\n  const [mobile, setMobile] = useState('')\r\n  const [phone, setPhone] = useState('')\r\n  const [description, setDescription] = useState('')\r\n\r\n  const [infofile, setInfoFile] = useState(null)\r\n  const [shopfile, setShopFile] = useState([])\r\n\r\n  const [error, setError] = useState(false)\r\n  const [errorMessages, setErrorMessages] = useState([])\r\n\r\n  const handleShopChange = event => {\r\n    let fileObj = []\r\n    let fileArray = []\r\n    fileObj.push(event.target.files)\r\n    for (let i = 0; i < fileObj[0].length; i++) {\r\n      fileArray.push(URL.createObjectURL(fileObj[0][i]))\r\n    }\r\n    // this.setState({ file: this.fileArray })\r\n    console.log(fileArray)\r\n    setShopFile(fileArray)\r\n  }\r\n  const handleInfoChange = event => {\r\n    setInfoFile(URL.createObjectURL(event.target.files[0]))\r\n  }\r\n\r\n  const handleSubmit = () => {\r\n    let error = false\r\n    let errorMessages = []\r\n    if (password1 !== password2) {\r\n      error = true\r\n      errorMessages.push('兩次密碼寫的不同')\r\n    }\r\n\r\n    if (!name) {\r\n      error = true\r\n      errorMessages.push('姓名沒填')\r\n    }\r\n\r\n    if (!sellerName) {\r\n      error = true\r\n      errorMessages.push('賣場名沒填')\r\n    }\r\n    if (!address) {\r\n      error = true\r\n      errorMessages.push('地址沒填')\r\n    }\r\n    if (name.length < 2) {\r\n      error = true\r\n      errorMessages.push('姓名至少要2個字')\r\n    }\r\n\r\n    if (!username) {\r\n      error = true\r\n      errorMessages.push('帳號沒填')\r\n    }\r\n\r\n    // if (error) {\r\n    //   setError(error)\r\n    //   setErrorMessages(errorMessages)\r\n    //   return\r\n    // }\r\n\r\n    const password = password1\r\n    const userData = {\r\n      name,\r\n      email,\r\n      username,\r\n      password,\r\n      sellerName,\r\n      mobile,\r\n      phone,\r\n      description,\r\n      infofile,\r\n      shopfile,\r\n    }\r\n    props.sellerUpdateAsync(userData, () => alert('成功更改'))\r\n  }\r\n  return (\r\n    <>\r\n      {/* {props.isAuth ? (\r\n           \r\n\r\n        ) :    \r\n        (<>\r\n            <div className=\"alert alert-danger\" role=\"alert\">\r\n              你沒有觀看權限呦\r\n            </div>\r\n          </>)} */}\r\n      <Form>\r\n        <div className=\"container\">\r\n          <div className=\"py-4\"></div>\r\n          <div className=\"row\">\r\n            <div className=\"col-lg-6\">\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"nameInput\">大頭照</label>\r\n                <input\r\n                  type=\"file\"\r\n                  name=\"seller_img\"\r\n                  className=\"form-control\"\r\n                  id=\"nameInput\"\r\n                  aria-describedby=\"nameHelp\"\r\n                  // value={props.data.value}\r\n                  onChange={event => handleInfoChange(event)}\r\n                />\r\n                <img width=\"100\" height=\"100\" src={infofile} />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"nameInput\">姓名</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"name\"\r\n                  className=\"form-control\"\r\n                  id=\"nameInput\"\r\n                  aria-describedby=\"nameHelp\"\r\n                  placeholder=\"請輸入姓名\"\r\n                  // value={props.data.value}\r\n                  onChange={e => setName(e.target.value)}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"usernameInput\">帳號</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"username\"\r\n                  className=\"form-control\"\r\n                  id=\"usernameInput\"\r\n                  aria-describedby=\"emailHelp\"\r\n                  placeholder=\"請輸入帳號\"\r\n                  onChange={e => setUsername(e.target.value)}\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"exampleInputPassword1\">密碼</label>\r\n                <input\r\n                  type=\"password\"\r\n                  name=\"password1\"\r\n                  className=\"form-control\"\r\n                  id=\"exampleInputPassword1\"\r\n                  placeholder=\"請輸入密碼\"\r\n                  onChange={e => setPassword1(e.target.value)}\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"exampleInputPassword2\">確認密碼</label>\r\n                <input\r\n                  type=\"password\"\r\n                  name=\"password2\"\r\n                  className=\"form-control\"\r\n                  id=\"exampleInputPassword2\"\r\n                  placeholder=\"請再次輸入密碼\"\r\n                  onChange={e => setPassword2(e.target.value)}\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"exampleInputEmail1\">Email</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"email\"\r\n                  className=\"form-control\"\r\n                  id=\"exampleInputEmail1\"\r\n                  aria-describedby=\"emailHelp\"\r\n                  placeholder=\"請輸入Email\"\r\n                  onChange={e => setEmail(e.target.value)}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"col-lg-6\">\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"nameInput\">賣場名:</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"name\"\r\n                  className=\"form-control\"\r\n                  id=\"nameInput\"\r\n                  aria-describedby=\"nameHelp\"\r\n                  placeholder=\"請輸入姓名\"\r\n                  // value={props.data.value}\r\n                  onChange={e => setSellerName(e.target.value)}\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"nameInput\">公司地址:</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"name\"\r\n                  className=\"form-control\"\r\n                  id=\"nameInput\"\r\n                  aria-describedby=\"nameHelp\"\r\n                  placeholder=\"請輸入姓名\"\r\n                  // value={props.data.value}\r\n                  onChange={e => setAdress(e.target.value)}\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"nameInput\">公司電話:</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"name\"\r\n                  className=\"form-control\"\r\n                  id=\"nameInput\"\r\n                  aria-describedby=\"nameHelp\"\r\n                  placeholder=\"請輸入電話\"\r\n                  // value={props.data.value}\r\n                  onChange={e => setPhone(e.target.value)}\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"nameInput\">手機:</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"name\"\r\n                  className=\"form-control\"\r\n                  id=\"nameInput\"\r\n                  aria-describedby=\"nameHelp\"\r\n                  placeholder=\"請輸入手機\"\r\n                  // value={props.data.value}\r\n                  onChange={e => setMobile(e.target.value)}\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <div>\r\n                  <label htmlFor=\"nameInput\">賣場描述:</label>\r\n                </div>\r\n                <div>\r\n                  <textarea\r\n                    id=\"w3mission\"\r\n                    rows=\"4\"\r\n                    cols=\"50\"\r\n                    onChange={e => setDescription(e.target.value)}\r\n                  ></textarea>\r\n                </div>\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"nameInput\">賣場圖片</label>\r\n                <input\r\n                  type=\"file\"\r\n                  multiple\r\n                  name=\"shop_img\"\r\n                  className=\"form-control\"\r\n                  id=\"nameInput\"\r\n                  aria-describedby=\"nameHelp\"\r\n                  // value={props.data.value}\r\n                  onChange={event => handleShopChange(event)}\r\n                />\r\n\r\n                {(shopfile || []).map((url, index) => (\r\n                  <img\r\n                    key={index}\r\n                    width=\"100\"\r\n                    height=\"100\"\r\n                    src={url}\r\n                    alt=\"...\"\r\n                  />\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"py-4 text-center\">\r\n            <button className=\"btn btn-primary\" onClick={() => handleSubmit()}>\r\n              送出\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </Form>\r\n    </>\r\n  )\r\n}\r\n// 取得Redux中isAuth的值\r\nconst mapStateToProps = store => {\r\n  return {\r\n    sellerEdit: store.sellerReducer.sellerEdit,\r\n    sellerUpdate: store.sellerReducer.sellerUpdate,\r\n  }\r\n}\r\n\r\n// 指示dispatch要綁定哪些action creators\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators({ sellerUpdateAsync, sellerEditAsync }, dispatch)\r\n}\r\n\r\nexport default withRouter(\r\n  connect(mapStateToProps, mapDispatchToProps)(SellerEdit)\r\n)\r\n","import React from 'react'\r\n\r\nfunction CouponEdit() {\r\n    return (\r\n        <div>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CouponEdit\r\n","import React, { useState } from 'react'\r\nimport { addGiviDataAsync } from '../../../actions/seller/index'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport { Link, withRouter } from 'react-router-dom'\r\nimport './Styles/CupOrder.scss'\r\nimport '../pages/Style/Coupon.scss'\r\nimport './Styles/CoupAddGivi.scss'\r\nfunction CouponAddGivi(props) {\r\n  const [givi_cate_id, setGivi_id] = useState(null)\r\n\r\n  const [givi_name, setGivi_name] = useState(null)\r\n\r\n  const [givi_num, setGivi_num] = useState(null)\r\n\r\n  const [givi_img, setGiviFile] = useState(null)\r\n\r\n  const [givi_img_upload, setGivi_Img] = useState(null)\r\n\r\n  const form = React.createRef()\r\n\r\n  const handleGiviChange = event => {\r\n    console.log(event.target.files)\r\n    setGiviFile(URL.createObjectURL(event.target.files[0]))\r\n    console.log(event.target.files[0])\r\n    setGivi_Img(event.target.files[0])\r\n  }\r\n  const addGiviData = async () => {\r\n    const GiviFormData = {\r\n      givi_cate_id,\r\n      givi_name,\r\n      givi_num,\r\n      givi_img_upload,\r\n    }\r\n    props.addGiviDataAsync(GiviFormData)\r\n  }\r\n  return (\r\n    <div className=\"container inpput-givi-chin bgSet bg-image-chin border-bottom border-left border-right\">\r\n      <div className=\"my-5\"></div>\r\n\r\n      <div className=\"row\">\r\n        <div className=\"col-sm-12 bgSet tab-main-add-content-chin text-color-chin input-style-chin\">\r\n          <h2 className=\"bgSet text-color-chin\">贈品優惠設定</h2>\r\n        </div>\r\n      </div>\r\n      <div className=\"row ml-5  input-style-chin text-center\">\r\n        <form name=\"addGiviForm\" ref={form}>\r\n          <div className=\"container\">\r\n            <div className=\"row mx-auto\">\r\n              <div className=\"col-lg-4 text-color-chin input-style-chin\">\r\n                <div className=\"form-group my-3 input-text-middle-chin\">\r\n                  <label htmlFor=\"nameInput\">贈品種類(可自行設定)</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"givi_cate_id\"\r\n                    className=\"form-control my-3\"\r\n                    id=\"nameInput\"\r\n                    aria-describedby=\"nameHelp\"\r\n                    onChange={event => setGivi_id(event.target.value)}\r\n                  />\r\n                </div>\r\n                <div className=\"form-group my-3 input-text-middle-chin\">\r\n                  <label htmlFor=\"nameInput\">贈品名稱</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"givi_name\"\r\n                    className=\"form-control my-3\"\r\n                    id=\"nameInput\"\r\n                    aria-describedby=\"nameHelp\"\r\n                    onChange={event => setGivi_name(event.target.value)}\r\n                  />\r\n                </div>\r\n                <div className=\"form-group my-3 input-text-middle-chin\">\r\n                  <label htmlFor=\"nameInput\">贈品庫存</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    name=\"givi_num\"\r\n                    className=\"form-control my-3\"\r\n                    id=\"nameInput\"\r\n                    aria-describedby=\"nameHelp\"\r\n                    placeholder=\"最大限制300個\"\r\n                    onChange={event => setGivi_num(event.target.value)}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"mx-3\"></div>\r\n              <div className=\"col-lg-4 text-color-chin my-3 input-style-chin\">\r\n                <div className=\"form-group input-text-middle-chin\">\r\n                  <label htmlFor=\"\">贈品圖片(請上傳)</label>\r\n                  <input\r\n                    type=\"file\"\r\n                    name=\"givi_img\"\r\n                    className=\"form-control-file my-3\"\r\n                    onChange={event => {\r\n                      handleGiviChange(event)\r\n                    }}\r\n                  />\r\n                  <img width=\"300\" height=\"300\" src={givi_img} />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"row text-center\">\r\n              <div className=\"col-lg-12 input-style-chin\">\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-primary inpput-givi-chin text-color-chin\"\r\n                  onClick={() => {\r\n                    addGiviData()\r\n                  }}\r\n                >\r\n                  送出\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nconst mapStateToProps = store => {\r\n  return { giviAdd: store.sellerReducer.giviAdd }\r\n}\r\n\r\n// 指示dispatch要綁定哪些action creators\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators({ addGiviDataAsync }, dispatch)\r\n}\r\n\r\nexport default withRouter(\r\n  connect(mapStateToProps, mapDispatchToProps)(CouponAddGivi)\r\n)\r\n","import React, { useState, useEffect } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\n\r\nimport { itemGetDataAsync } from '../../../actions/seller/index'\r\n\r\nfunction ItemManager(props) {\r\n  return <div>這裡是商品管理</div>\r\n}\r\nconst mapStateToProps = store => {\r\n  return {\r\n    ItemUpload: store.sellerReducer.ItemUpload,\r\n  }\r\n}\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      itemGetDataAsync,\r\n    },\r\n    dispatch\r\n  )\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ItemManager)\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\n\r\n// Styled Components\r\nconst StyledSwitchButton = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  button {\r\n    width: 38px;\r\n    background-color: ${props => (props.active ? '#f15a24' : '#132948')};\r\n    border-radius: 11px;\r\n    border: 1px solid ${props => (props.active ? '#22E222' : '#ECECEC')};\r\n    box-sizing: border-box;\r\n    padding: 0;\r\n    transition: all 300ms ease-in-out;\r\n    cursor: pointer;\r\n    outline: none;\r\n    &::after {\r\n      content: '';\r\n      width: 20px;\r\n      height: 20px;\r\n      background-color: #ffffff;\r\n      border-radius: 50%;\r\n      box-shadow: 0px 1px 3px rgba(30, 30, 30, 0.3);\r\n      transition: all 300ms ease-in-out;\r\n      transform: ${props =>\r\n        props.active ? 'translate(16px)' : 'translate(0)'};\r\n      display: block;\r\n    }\r\n  }\r\n  span {\r\n    color: #00000;\r\n    font-size: 18px;\r\n    margin-left: 10px;\r\n  }\r\n`\r\n\r\n// Switch Button Component\r\n// 透過 props 接收外部傳進來三個屬性的值\r\n// 1. type: 設置 Switch Button 按鈕類型。\r\n// 2. active: Switch Button 狀態。\r\n// 3. clicked: toggleSwitchButton (Method) 切換 Switch Button。\r\nconst SwitchButton = props => (\r\n  <StyledSwitchButton active={props.active}>\r\n    <button type={props.type} onClick={props.clicked}></button>\r\n    <span>{props.active ? '超過金額' : '超過商品件數'}</span>\r\n  </StyledSwitchButton>\r\n)\r\n\r\nexport default SwitchButton\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\n\r\n// Styled Components\r\nconst StyledSwitchButton = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  button {\r\n    width: 38px;\r\n    background-color: ${props => (props.active ? '#f15a24' : '#132948')};\r\n    border-radius: 11px;\r\n    border: 1px solid ${props => (props.active ? '#22E222' : '#ECECEC')};\r\n    box-sizing: border-box;\r\n    padding: 0;\r\n    transition: all 300ms ease-in-out;\r\n    cursor: pointer;\r\n    outline: none;\r\n    &::after {\r\n      content: '';\r\n      width: 20px;\r\n      height: 20px;\r\n      background-color: #ffffff;\r\n      border-radius: 50%;\r\n      box-shadow: 0px 1px 3px rgba(30, 30, 30, 0.3);\r\n      transition: all 300ms ease-in-out;\r\n      transform: ${props =>\r\n        props.active ? 'translate(16px)' : 'translate(0)'};\r\n      display: block;\r\n    }\r\n  }\r\n  span {\r\n    color: #00000;\r\n    font-size: 18px;\r\n    margin-left: 10px;\r\n  }\r\n`\r\n\r\n// Switch Button Component\r\n// 透過 props 接收外部傳進來三個屬性的值\r\n// 1. type: 設置 Switch Button 按鈕類型。\r\n// 2. active: Switch Button 狀態。\r\n// 3. clicked: toggleSwitchButton (Method) 切換 Switch Button。\r\nconst SwitchPercent = props => (\r\n  <StyledSwitchButton active={props.active}>\r\n    <button type={props.type} onClick={props.clicked}></button>\r\n    <span>{props.active ? '減價金額' : '打折%數'}</span>\r\n  </StyledSwitchButton>\r\n)\r\n\r\nexport default SwitchPercent\r\n","import React, { useState, useEffect } from 'react'\r\nimport './Styles/CupOrder.scss'\r\nimport SwitchButton from './SwitchButton'\r\nimport SwitchPercent from './SwitchPercent'\r\nimport { Link, withRouter } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport Swal from 'sweetalert2'\r\n\r\nimport { insertSellerNewInsertCouponAsync } from '../../../actions/seller/index'\r\n// import { getSellerNewInsertCouponAsync } from '../../../actions/index'\r\n\r\nfunction CupOrder(props) {\r\n  console.log(props)\r\n  const [coup_cate_id, setCoup_cate_id] = useState('coup001')\r\n\r\n  const [coup_name, setCoupName] = useState(null)\r\n\r\n  //圖片的state鉤子\r\n  const [coupfile, setCoupFile] = useState(null)\r\n\r\n  //放進資料庫的圖片檔名\r\n\r\n  const [coupDataFiles, setCoupDataFiles] = useState(null)\r\n  //優惠券超過模式\r\n  const [coupOver, setCoupOverMode] = useState(null)\r\n  //折扣模式\r\n  const [coupPercent, setCoupPercentMode] = useState(null)\r\n\r\n  //優惠起始時間\r\n\r\n  const [coupStart, setCoupStart] = useState(null)\r\n\r\n  //優惠結束時間\r\n\r\n  const [coupEnd, setCoupEnd] = useState(null)\r\n\r\n  //優惠使用次數\r\n  const [coupTimes, setCoupTimes] = useState(0)\r\n\r\n  //優惠碼\r\n  const code = props.order.coupon['code1']\r\n  const [coupCode, setCoupCode] = useState(code)\r\n\r\n  //優惠id\r\n  const [coupId, setcoupId] = useState(props.order.coupon['coup_id'])\r\n\r\n  const [price, setPrice] = useState({\r\n    isEnable: false,\r\n  })\r\n  const [minusorpercent, setMinusorpercent] = useState({\r\n    isEnable: false,\r\n  })\r\n  // const [error, setError] = useState(false)\r\n  // const [errorMessages, setErrorMessages] = useState([])\r\n  const inputstyle = {\r\n    textAlign: 'right',\r\n  }\r\n  useEffect(() => {\r\n    props.insertSellerNewInsertCouponAsync()\r\n  }, [])\r\n\r\n  // console.log(props.order.coupon[\"overprice\"])\r\n  const handleCoupChange = event => {\r\n    console.log(event.target.files)\r\n    setCoupFile(URL.createObjectURL(event.target.files[0]))\r\n    console.log(event.target.files[0])\r\n    setCoupDataFiles(event.target.files[0])\r\n  }\r\n  const toggleSwitchButton = () => {\r\n    // 修改 state\r\n    setPrice({ isEnable: !price.isEnable })\r\n  }\r\n  const toggleSwitchButtonMinus = () => {\r\n    // 修改 state\r\n    setMinusorpercent({ isEnable: !minusorpercent.isEnable })\r\n  }\r\n  useEffect(() => {\r\n    if (price.isEnable == true && minusorpercent.isEnable == true) {\r\n      setCoupCode('PM' + code)\r\n    } else if (price.isEnable == false && minusorpercent.isEnable == true) {\r\n      setCoupCode('IM' + code)\r\n    } else if (price.isEnable == true && minusorpercent.isEnable == false) {\r\n      setCoupCode('PI' + code)\r\n    } else {\r\n      setCoupCode('II' + code)\r\n    }\r\n  }, [price.isEnable, minusorpercent.isEnable])\r\n  // let input = ( <input\r\n  //             readOnly\r\n  //             type=\"text\"\r\n  //             name=\"coup_code\"\r\n  //             className=\"form-control my-3\"\r\n  //             id=\"exampleInputPassword1\"\r\n  //             defaultValue={\"PM\" + coupCode}\r\n  //             onChange={(event) => {setCoupCode(event.target.value)}}\r\n  //                />)\r\n\r\n  // if (price.isEnable == true && minusorpercent.isEnable == true) {\r\n  //   input = <input\r\n  //                     readOnly\r\n  //                     type=\"text\"\r\n  //                     name=\"coup_code\"\r\n  //                     className=\"form-control my-3\"\r\n  //                     id=\"exampleInputPassword1\"\r\n  //                     defaultValue={\"PM\" + coupCode}\r\n  //                     // onChange={(event) => {setCoupCode(event.target.value)}}\r\n  //                 />;\r\n  // } else if(price.isEnable == false && minusorpercent.isEnable == true){\r\n  //   input = <input\r\n  //           readOnly\r\n  //           type=\"text\"\r\n  //           name=\"coup_code\"\r\n  //           className=\"form-control my-3\"\r\n  //           id=\"exampleInputPassword1\"\r\n  //           defaultValue={\"IM\" + coupCode}\r\n\r\n  //       />;\r\n  // } else if(price.isEnable == true && minusorpercent.isEnable == false){\r\n  //   input = <input\r\n  //             readOnly\r\n  //             type=\"text\"\r\n  //             name=\"coup_code\"\r\n  //             className=\"form-control my-3\"\r\n  //             id=\"exampleInputPassword1\"\r\n  //             defaultValue={\"PP\" + coupCode}\r\n  //             // onChange={(event) => {setCoupCode(event.target.value)}}\r\n  //         />;\r\n  // }else {\r\n  //   input = <input\r\n  //           readOnly\r\n  //           type=\"text\"\r\n  //           name=\"coup_code\"\r\n  //           className=\"form-control my-3\"\r\n  //           id=\"exampleInputPassword1\"\r\n  //           defaultValue={\"IP\" + coupCode}\r\n  //           // onChange={(event) => {setCoupCode(event.target.value)}}\r\n  //       />;\r\n  // }\r\n  const handleSubmit = e => {\r\n    let error = false\r\n    let errorMessages = []\r\n\r\n    // const form = event.target;\r\n    // const coup_data = new FormData(form);\r\n\r\n    // console.log(coup_data)\r\n\r\n    if (!coup_name) {\r\n      error = true\r\n      errorMessages.push('優惠名稱沒填')\r\n    }\r\n    if (!coupfile) {\r\n      error = true\r\n      errorMessages.push('優惠圖片沒上傳')\r\n    }\r\n    if (!coupOver) {\r\n      error = true\r\n      errorMessages.push('超過模式沒填')\r\n    }\r\n    if (!coupPercent) {\r\n      error = true\r\n      errorMessages.push('折扣模式沒填')\r\n    }\r\n    if (!coupStart) {\r\n      error = true\r\n      errorMessages.push('折扣模式沒填')\r\n    }\r\n    if (!coupStart) {\r\n      error = true\r\n      errorMessages.push('開始時間沒填')\r\n    }\r\n    if (!coupEnd) {\r\n      error = true\r\n      errorMessages.push('結束時間沒填')\r\n    }\r\n    if (coup_name.length < 25) {\r\n      error = true\r\n      errorMessages.push('優惠名稱不超過25個字')\r\n    }\r\n    if (coup_name.length > 5) {\r\n      error = true\r\n      errorMessages.push('優惠名稱需要超過5個字')\r\n    }\r\n    if (!coupTimes) {\r\n      error = true\r\n      errorMessages.push('優惠券使用次數沒填')\r\n    }\r\n\r\n    console.log(\r\n      coup_cate_id,\r\n      coupId,\r\n      coup_name,\r\n      coupDataFiles,\r\n      coupCode,\r\n      coupOver,\r\n      coupPercent,\r\n      coupStart,\r\n      coupEnd,\r\n      coupTimes\r\n    )\r\n    const coupData = {\r\n      coup_cate_id,\r\n      coupId,\r\n      coup_name,\r\n      coupDataFiles,\r\n      coupCode,\r\n      coupOver,\r\n      coupPercent,\r\n      coupStart,\r\n      coupEnd,\r\n      coupTimes,\r\n    }\r\n\r\n    const coupon_fd = new FormData()\r\n    coupon_fd.append('coup_cate_id', coupData.coup_cate_id)\r\n    coupon_fd.append('coup_id', coupData.coupId)\r\n    coupon_fd.append('coup_code', coupData.coupCode)\r\n    coupon_fd.append('coup_name', coupData.coup_name)\r\n    coupon_fd.append('img', coupData.coupDataFiles)\r\n    coupon_fd.append('coup_over', coupData.coupOver)\r\n    coupon_fd.append('coup_percent', coupData.coupPercent)\r\n    coupon_fd.append('coup_start', coupData.coupStart)\r\n    coupon_fd.append('coup_end', coupData.coupEnd)\r\n    coupon_fd.append('coup_times', coupData.coupTimes)\r\n\r\n    props.insertSellerNewInsertCouponAsync(coupon_fd, () => {\r\n      if (\r\n        coupData.coup_cate_id !== null &&\r\n        coupData.coupId !== null &&\r\n        coupData.coupCode !== null &&\r\n        coupData.item !== null &&\r\n        coupData.coup_name !== null &&\r\n        coupData.coupDataFiles !== null &&\r\n        coupData.coupOver !== null &&\r\n        coupData.coupPercent !== null &&\r\n        coupData.coupStart !== null &&\r\n        coupData.coupEnd !== null &&\r\n        coupData.coupTimes !== null\r\n      ) {\r\n        Swal.fire({\r\n          position: 'middle',\r\n          icon: 'success',\r\n          title: '新增成功呢！',\r\n          showConfirmButton: false,\r\n          timer: 1500,\r\n        })\r\n      } else {\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: '難過的是...',\r\n          text: '有些錯誤發生,欄位是空的,請再檢查一次哦!',\r\n        })\r\n      }\r\n    })\r\n    // console.log(props.insertSellerNewInsertCouponAsync());\r\n  }\r\n\r\n  return (\r\n    <form name=\"form1 input-style-chin\">\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          <div className=\"col-lg-6 input-style-chin\">\r\n            <div className=\"form-group my-3 input-text-middle-chin\">\r\n              <label htmlFor=\"nameInput\">優惠券種類(無需自行輸入)</label>\r\n              <input\r\n                readOnly\r\n                type=\"text\"\r\n                name=\"coup_cate_id\"\r\n                className=\"form-control my-3\"\r\n                id=\"nameInput\"\r\n                aria-describedby=\"nameHelp\"\r\n                defaultValue={coup_cate_id}\r\n                onChange={event => setCoup_cate_id(event.target.value)}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"row mx-auto\">\r\n          <div className=\"col-sm-5 col-xl-5 input-style-chin\">\r\n            <div className=\"form-group my-3\">\r\n              <label htmlFor=\"nameInput\">優惠券id(無需自行輸入)</label>\r\n              <input\r\n                readOnly\r\n                type=\"text\"\r\n                name=\"coup_id\"\r\n                className=\"form-control my-3\"\r\n                id=\"nameInput\"\r\n                aria-describedby=\"nameHelp\"\r\n                defaultValue={coupId}\r\n                onChange={event => setcoupId(event.target.value)}\r\n              />\r\n            </div>\r\n            <div className=\"form-group my-3\">\r\n              <label htmlFor=\"nameInput\">優惠券名</label>\r\n              <input\r\n                type=\"text\"\r\n                name=\"coup_name\"\r\n                className=\"form-control my-3\"\r\n                id=\"nameInput\"\r\n                aria-describedby=\"nameHelp\"\r\n                placeholder=\"請輸入優惠券名\"\r\n                onChange={event => setCoupName(event.target.value)}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-group my-3\">\r\n              <label htmlFor=\"nameInput\">優惠圖設定</label>\r\n              <input\r\n                type=\"file\"\r\n                name=\"img\"\r\n                className=\"form-control my-3\"\r\n                id=\"nameInput\"\r\n                aria-describedby=\"nameHelp\"\r\n                // value={props.data.value}\r\n                onChange={event => handleCoupChange(event)}\r\n              />\r\n              <img width=\"200\" height=\"100\" src={coupfile} />\r\n            </div>\r\n            <div className=\"form-group my-3\">\r\n              <label htmlFor=\"exampleInputPassword1\">\r\n                優惠券密碼(無需自行輸入)\r\n              </label>\r\n\r\n              <input\r\n                readOnly\r\n                type=\"text\"\r\n                name=\"coup_code\"\r\n                className=\"form-control my-3\"\r\n                id=\"exampleInputPassword1\"\r\n                // defaultValue={\"PM\" + coupCode}\r\n                value={coupCode}\r\n                // onChange={(event) => {setCoupCode(event.target.value)}}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"mx-5\"></div>\r\n          <div className=\"col-sm-5 col-xl-5\">\r\n            <div className=\"form-group my-3\">\r\n              <div>\r\n                <SwitchButton\r\n                  type=\"button\"\r\n                  active={price.isEnable}\r\n                  clicked={toggleSwitchButton}\r\n                />\r\n              </div>\r\n\r\n              <label htmlFor=\"exampleInputPassword1\"></label>\r\n              {price.isEnable === true ? (\r\n                <div className=\"input-group\">\r\n                  <div className=\"input-group-prepend\">\r\n                    <span className=\"input-group-text\">超過</span>\r\n                  </div>\r\n                  <input\r\n                    name=\"coup_over\"\r\n                    style={inputstyle}\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    onChange={event => {\r\n                      setCoupOverMode(event.target.value)\r\n                    }}\r\n                  />\r\n                  <div className=\"input-group-append\">\r\n                    <span className=\"input-group-text\">元</span>\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                <div className=\"input-group\">\r\n                  <div className=\"input-group-prepend\">\r\n                    <span className=\"input-group-text\">超過</span>\r\n                  </div>\r\n                  <input\r\n                    name=\"coup_over\"\r\n                    style={inputstyle}\r\n                    type=\"text\"\r\n                    onChange={event => {\r\n                      setCoupOverMode(event.target.value)\r\n                    }}\r\n                    className=\"form-control\"\r\n                  />\r\n                  <div className=\"input-group-append\">\r\n                    <span className=\"input-group-text\">件</span>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n            <div className=\"form-group my-3\">\r\n              <div>\r\n                <SwitchPercent\r\n                  type=\"button\"\r\n                  active={minusorpercent.isEnable}\r\n                  clicked={toggleSwitchButtonMinus}\r\n                />\r\n              </div>\r\n\r\n              <label htmlFor=\"exampleInputPassword1\"></label>\r\n              {minusorpercent.isEnable === true ? (\r\n                <div className=\"input-group\">\r\n                  <div className=\"input-group-prepend\">\r\n                    <span className=\"input-group-text\">減</span>\r\n                  </div>\r\n                  <input\r\n                    name=\"coup_percent\"\r\n                    style={inputstyle}\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    onChange={event => {\r\n                      setCoupPercentMode(event.target.value)\r\n                    }}\r\n                  />\r\n                  <div className=\"input-group-append\">\r\n                    <span className=\"input-group-text\">元</span>\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                <div className=\"input-group\">\r\n                  <div className=\"input-group-prepend\">\r\n                    <span className=\"input-group-text\">打</span>\r\n                  </div>\r\n                  <input\r\n                    name=\"coup_percent\"\r\n                    style={inputstyle}\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    onChange={event => {\r\n                      setCoupPercentMode(event.target.value)\r\n                    }}\r\n                  />\r\n                  <div className=\"input-group-append\">\r\n                    <span className=\"input-group-text\">折</span>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n            <div className=\"form-group my-3\">\r\n              <label htmlFor=\"nameInput\">優惠起始時間:</label>\r\n              <input\r\n                type=\"datetime-local\"\r\n                name=\"coup_start\"\r\n                className=\"form-control my-3\"\r\n                id=\"nameInput\"\r\n                aria-describedby=\"nameHelp\"\r\n                placeholder=\"請輸入優惠起始\"\r\n                onChange={event => setCoupStart(event.target.value)}\r\n              />\r\n            </div>\r\n            <div className=\"form-group my-3\">\r\n              <label htmlFor=\"nameInput\">優惠結束時間:</label>\r\n              <input\r\n                type=\"datetime-local\"\r\n                name=\"coup_end\"\r\n                className=\"form-control my-3\"\r\n                id=\"nameInput\"\r\n                aria-describedby=\"nameHelp\"\r\n                placeholder=\"請輸入優惠結束\"\r\n                onChange={event => setCoupEnd(event.target.value)}\r\n              />\r\n            </div>\r\n            <div className=\"form-group my-3\">\r\n              <label htmlFor=\"nameInput\">優惠使用次數:</label>\r\n              <input\r\n                type=\"number\"\r\n                name=\"coup_times\"\r\n                className=\"form-control my-3\"\r\n                id=\"nameInput\"\r\n                aria-describedby=\"nameHelp\"\r\n                onChange={event => setCoupTimes(event.target.value)}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"row text-center\">\r\n          <div className=\"col-lg-12 input-style-chin\">\r\n            {/* <Link to=\"/coupon\"> */}\r\n            <button\r\n              onClick={e => {\r\n                e.preventDefault()\r\n                handleSubmit()\r\n              }}\r\n              className=\"btn bgcolor-chin-2 text-white\"\r\n            >\r\n              提交優惠券\r\n            </button>\r\n\r\n            {/* </Link> */}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\nconst mapStateToProps = store => {\r\n  return { couponInsert: store.sellerReducer.couponInsert }\r\n}\r\n\r\n// 指示dispatch要綁定哪些action creators\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators({ insertSellerNewInsertCouponAsync }, dispatch)\r\n}\r\n\r\nexport default withRouter(\r\n  connect(mapStateToProps, mapDispatchToProps)(CupOrder)\r\n)\r\n","const cateData = [\r\n  {\r\n    itemCategoryId: 'c001',\r\n    itemCategory: '自由潛水蛙鞋',\r\n    typeData: [\r\n      { itemTypeId: 't011', itemType: '碳纖維蛙鞋' },\r\n      { itemTypeId: 't012', itemType: '玻璃纖維蛙鞋' },\r\n      { itemTypeId: 't013', itemType: '塑膠蛙鞋' },\r\n      { itemTypeId: 't014', itemType: '蛙鞋板' },\r\n    ],\r\n  },\r\n  {\r\n    itemCategoryId: 'c002',\r\n    itemCategory: '自由潛水面鏡',\r\n    typeData: [\r\n      { itemTypeId: 't021', itemType: '玻璃面鏡' },\r\n      { itemTypeId: 't022', itemType: '塑膠面鏡' },\r\n      { itemTypeId: 't023', itemType: '液態面鏡' },\r\n    ],\r\n  },\r\n  {\r\n    itemCategoryId: 'c003',\r\n    itemCategory: '呼吸管',\r\n    typeData: [\r\n      { itemTypeId: 't031', itemType: '濕式呼吸管' },\r\n      { itemTypeId: 't032', itemType: '乾式呼吸管' },\r\n    ],\r\n  },\r\n  {\r\n    itemCategoryId: 'c004',\r\n    itemCategory: '防寒衣',\r\n    typeData: [\r\n      { itemTypeId: 't041', itemType: '一件式防寒衣' },\r\n      { itemTypeId: 't042', itemType: '二件式防寒衣' },\r\n    ],\r\n  },\r\n  {\r\n    itemCategoryId: 'c005',\r\n    itemCategory: '潛水配件',\r\n    typeData: [\r\n      { itemTypeId: 't051', itemType: '浮球' },\r\n      { itemTypeId: 't052', itemType: '配重' },\r\n      { itemTypeId: 't053', itemType: '安全繩' },\r\n      { itemTypeId: 't054', itemType: '防水袋' },\r\n    ],\r\n  },\r\n  {\r\n    itemCategoryId: 'c006',\r\n    itemCategory: '其他周邊',\r\n    typeData: [\r\n      { itemTypeId: 't061', itemType: '潛水錶' },\r\n      { itemTypeId: 't062', itemType: '潛水刀' },\r\n      { itemTypeId: 't063', itemType: '潛水相機' },\r\n    ],\r\n  },\r\n]\r\n\r\nexport { cateData }\r\n","import React, { useState, useEffect } from 'react'\r\nimport SwitchButton from './SwitchButton'\r\nimport SwitchPercent from './SwitchPercent'\r\nimport { Link, withRouter } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport Swal from 'sweetalert2'\r\n\r\nimport { insertSellerNewInsertCouponAsync } from '../../../actions/seller/index'\r\nimport { cateData } from './itemType'\r\n\r\nfunction CupItem(props) {\r\n  console.log(props)\r\n  console.log(cateData.typeData)\r\n  const [coup_cate_id, setCoup_cate_id] = useState('coup002')\r\n\r\n  const [item, setItem] = useState(null)\r\n\r\n  const [coup_name, setCoupName] = useState(null)\r\n\r\n  //圖片的state鉤子\r\n  const [coupfile, setCoupFile] = useState(null)\r\n\r\n  //放進資料庫的圖片檔名\r\n\r\n  const [coupDataFiles, setCoupDataFiles] = useState(null)\r\n  //優惠券超過模式\r\n  const [coupOver, setCoupOverMode] = useState(null)\r\n  //折扣模式\r\n  const [coupPercent, setCoupPercentMode] = useState(null)\r\n\r\n  //優惠起始時間\r\n\r\n  const [coupStart, setCoupStart] = useState(null)\r\n\r\n  //優惠結束時間\r\n\r\n  const [coupEnd, setCoupEnd] = useState(null)\r\n\r\n  //優惠使用次數\r\n  const [coupTimes, setCoupTimes] = useState(0)\r\n\r\n  //優惠碼\r\n  const codeItem = props.item.coupon['code2']\r\n  const [coupCode, setCoupCode] = useState(codeItem)\r\n\r\n  //優惠id\r\n  const [coupId, setcoupId] = useState(props.item.coupon['coup_id'])\r\n\r\n  const [price, setPrice] = useState({\r\n    isEnable: false,\r\n  })\r\n  const [minusorpercent, setMinusorpercent] = useState({\r\n    isEnable: false,\r\n  })\r\n  const [error, setError] = useState(false)\r\n  const [errorMessages, setErrorMessages] = useState([])\r\n  const inputstyle = {\r\n    textAlign: 'right',\r\n  }\r\n  useEffect(() => {\r\n    props.insertSellerNewInsertCouponAsync()\r\n  }, [])\r\n\r\n  const handleCoupChange = event => {\r\n    setCoupFile(URL.createObjectURL(event.target.files[0]))\r\n    setCoupDataFiles(event.target.files[0])\r\n  }\r\n  const toggleSwitchButton = () => {\r\n    // 修改 state\r\n    setPrice({ isEnable: !price.isEnable })\r\n  }\r\n  const toggleSwitchButtonMinus = () => {\r\n    // 修改 state\r\n    setMinusorpercent({ isEnable: !minusorpercent.isEnable })\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (price.isEnable == true && minusorpercent.isEnable == true) {\r\n      setCoupCode('PMI' + codeItem)\r\n    } else if (price.isEnable == false && minusorpercent.isEnable == true) {\r\n      setCoupCode('IMI' + codeItem)\r\n    } else if (price.isEnable == true && minusorpercent.isEnable == false) {\r\n      setCoupCode('PII' + codeItem)\r\n    } else {\r\n      setCoupCode('III' + codeItem)\r\n    }\r\n  }, [price.isEnable, minusorpercent.isEnable])\r\n\r\n  const handleSubmit = e => {\r\n    // let error = false\r\n    // let errorMessages = []\r\n\r\n    // const form = event.target;\r\n    // const coup_data = new FormData(form);\r\n\r\n    if (!coup_name) {\r\n      Swal.fire({\r\n        // title: 'Error!',\r\n        text: '優惠名欄位是空的喔！',\r\n        icon: 'warning',\r\n        confirmButtonText: '確定',\r\n        timer: 4000,\r\n      })\r\n    } else if (!coupfile) {\r\n      Swal.fire({\r\n        // title: 'Error!',\r\n        text: '優惠圖片沒上傳喔！',\r\n        icon: 'warning',\r\n        confirmButtonText: '確定',\r\n        timer: 4000,\r\n      })\r\n    } else if (!coupOver) {\r\n      Swal.fire({\r\n        // title: 'Error!',\r\n        text: '超過模式沒填喔！',\r\n        icon: 'warning',\r\n        confirmButtonText: '確定',\r\n        timer: 4000,\r\n      })\r\n    } else if (!coupPercent) {\r\n      Swal.fire({\r\n        // title: 'Error!',\r\n        text: '折扣模式沒填喔！',\r\n        icon: 'warning',\r\n        confirmButtonText: '確定',\r\n        timer: 4000,\r\n      })\r\n    } else if (!coupStart) {\r\n      Swal.fire({\r\n        // title: 'Error!',\r\n        text: '折扣開始時間沒填喔！',\r\n        icon: 'warning',\r\n        confirmButtonText: '確定',\r\n        timer: 4000,\r\n      })\r\n    } else if (!coupEnd) {\r\n      Swal.fire({\r\n        // title: 'Error!',\r\n        text: '折扣結束時間沒填沒填喔！',\r\n        icon: 'warning',\r\n        confirmButtonText: '確定',\r\n        timer: 4000,\r\n      })\r\n    } else if (!coupTimes) {\r\n      Swal.fire({\r\n        // title: 'Error!',\r\n        text: '優惠券使用次數沒填喔！',\r\n        icon: 'warning',\r\n        confirmButtonText: '確定',\r\n        timer: 4000,\r\n      })\r\n    }\r\n\r\n    const coupData = {\r\n      coup_cate_id,\r\n      item,\r\n      coupId,\r\n      coup_name,\r\n      coupDataFiles,\r\n      coupCode,\r\n      coupOver,\r\n      coupPercent,\r\n      coupStart,\r\n      coupEnd,\r\n      coupTimes,\r\n    }\r\n\r\n    const coupon_fd = new FormData()\r\n    coupon_fd.append('coup_cate_id', coupData.coup_cate_id)\r\n    coupon_fd.append('coup_id', coupData.coupId)\r\n    coupon_fd.append('coup_code', coupData.coupCode)\r\n    coupon_fd.append('itemType', coupData.item)\r\n    coupon_fd.append('coup_name', coupData.coup_name)\r\n    coupon_fd.append('img', coupData.coupDataFiles)\r\n    coupon_fd.append('coup_over', coupData.coupOver)\r\n    coupon_fd.append('coup_percent', coupData.coupPercent)\r\n    coupon_fd.append('coup_start', coupData.coupStart)\r\n    coupon_fd.append('coup_end', coupData.coupEnd)\r\n    coupon_fd.append('coup_times', coupData.coupTimes)\r\n\r\n    props.insertSellerNewInsertCouponAsync(coupon_fd, () => {\r\n      if (\r\n        coupData.coup_cate_id !== null &&\r\n        coupData.coupId !== null &&\r\n        coupData.coupCode !== null &&\r\n        coupData.item !== null &&\r\n        coupData.coup_name !== null &&\r\n        coupData.coupDataFiles !== null &&\r\n        coupData.coupOver !== null &&\r\n        coupData.coupPercent !== null &&\r\n        coupData.coupStart !== null &&\r\n        coupData.coupEnd !== null &&\r\n        coupData.coupTimes !== null\r\n      ) {\r\n        Swal.fire({\r\n          position: 'middle',\r\n          icon: 'success',\r\n          title: '新增成功呢！',\r\n          showConfirmButton: false,\r\n          timer: 1500,\r\n        })\r\n      } else {\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: '難過的是...',\r\n          text: '有些錯誤發生,欄位是空的,請再檢查一次哦!',\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  return (\r\n    <form name=\"form1\">\r\n      <div className=\"container-fluid border-dark\">\r\n        <div className=\"row text-center\">\r\n          <div className=\"col-lg-6 input-style-chin\">\r\n            <div className=\"form-group my-3 input-text-middle-chin\">\r\n              <label htmlFor=\"nameInput\">優惠券種類(無需自行輸入)</label>\r\n              <input\r\n                readOnly\r\n                type=\"text\"\r\n                name=\"coup_cate_id\"\r\n                className=\"form-control my-3\"\r\n                id=\"nameInput\"\r\n                aria-describedby=\"nameHelp\"\r\n                defaultValue={coup_cate_id}\r\n                onChange={event => setCoup_cate_id(event.target.value)}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"col-lg-6 input-style-chin\">\r\n            <div className=\"form-group my-3 input-text-middle-chin\">\r\n              <select\r\n                name=\"itemType\"\r\n                className=\"custom-select\"\r\n                onChange={event => setItem(event.target.value)}\r\n              >\r\n                <option defaultValue=\"套用商品種類\">套用商品種類</option>\r\n                {cateData ? (\r\n                  cateData.map((item, index) => {\r\n                    return (\r\n                      <option key={index} value={item.itemCategory}>\r\n                        {item.itemCategory}\r\n                      </option>\r\n                    )\r\n                  })\r\n                ) : (\r\n                  <h2>沒有從上層傳過來的資料</h2>\r\n                )}\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"row mx-auto\">\r\n          <div className=\"col-sm-5 col-xl-5 input-style-chin\">\r\n            <div className=\"form-group my-3\">\r\n              <label htmlFor=\"nameInput\">優惠券id(無需自行輸入)</label>\r\n              <input\r\n                readOnly\r\n                type=\"text\"\r\n                name=\"coup_id\"\r\n                className=\"form-control my-3\"\r\n                id=\"nameInput\"\r\n                aria-describedby=\"nameHelp\"\r\n                defaultValue={coupId}\r\n                onChange={event => setcoupId(event.target.value)}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-group my-3\">\r\n              <label htmlFor=\"nameInput\">優惠券名</label>\r\n              <input\r\n                type=\"text\"\r\n                name=\"coup_name\"\r\n                className=\"form-control my-3\"\r\n                id=\"nameInput\"\r\n                aria-describedby=\"nameHelp\"\r\n                placeholder=\"請輸入優惠券名\"\r\n                onChange={event => setCoupName(event.target.value)}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-group my-3\">\r\n              <label htmlFor=\"nameInput\">優惠圖設定</label>\r\n              <input\r\n                type=\"file\"\r\n                name=\"img\"\r\n                className=\"form-control my-3\"\r\n                id=\"nameInput\"\r\n                aria-describedby=\"nameHelp\"\r\n                // value={props.data.value}\r\n                onChange={event => handleCoupChange(event)}\r\n              />\r\n              <img width=\"200\" height=\"100\" src={coupfile} />\r\n            </div>\r\n            <div className=\"form-group my-3\">\r\n              <label htmlFor=\"exampleInputPassword1\">\r\n                優惠券密碼(無需自行輸入)\r\n              </label>\r\n              <input\r\n                readOnly\r\n                type=\"text\"\r\n                name=\"coup_code\"\r\n                className=\"form-control my-3\"\r\n                id=\"exampleInputPassword1\"\r\n                value={coupCode}\r\n                // defaultValue={coupCode}\r\n                // onChange={(event) => {setCoupCode(event.target.value)}}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"mx-5\"></div>\r\n          <div className=\"col-sm-5 col-xl-5\">\r\n            <div className=\"form-group my-3\">\r\n              <div>\r\n                <SwitchButton\r\n                  type=\"button\"\r\n                  active={price.isEnable}\r\n                  clicked={toggleSwitchButton}\r\n                />\r\n              </div>\r\n\r\n              <label htmlFor=\"exampleInputPassword1\"></label>\r\n              {price.isEnable === true ? (\r\n                <div className=\"input-group\">\r\n                  <div className=\"input-group-prepend\">\r\n                    <span className=\"input-group-text\">超過</span>\r\n                  </div>\r\n                  <input\r\n                    name=\"coup_over\"\r\n                    style={inputstyle}\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    onChange={event => {\r\n                      setCoupOverMode(event.target.value)\r\n                    }}\r\n                  />\r\n                  <div className=\"input-group-append\">\r\n                    <span className=\"input-group-text\">元</span>\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                <div className=\"input-group\">\r\n                  <div className=\"input-group-prepend\">\r\n                    <span className=\"input-group-text\">超過</span>\r\n                  </div>\r\n                  <input\r\n                    name=\"coup_over\"\r\n                    style={inputstyle}\r\n                    type=\"text\"\r\n                    onChange={event => {\r\n                      setCoupOverMode(event.target.value)\r\n                    }}\r\n                    className=\"form-control\"\r\n                  />\r\n                  <div className=\"input-group-append\">\r\n                    <span className=\"input-group-text\">件</span>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n            <div className=\"form-group my-3\">\r\n              <div>\r\n                <SwitchPercent\r\n                  type=\"button\"\r\n                  active={minusorpercent.isEnable}\r\n                  clicked={toggleSwitchButtonMinus}\r\n                />\r\n              </div>\r\n\r\n              <label htmlFor=\"exampleInputPassword1\"></label>\r\n              {minusorpercent.isEnable === true ? (\r\n                <div className=\"input-group\">\r\n                  <div className=\"input-group-prepend\">\r\n                    <span className=\"input-group-text\">減</span>\r\n                  </div>\r\n                  <input\r\n                    name=\"coup_over\"\r\n                    style={inputstyle}\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    onChange={event => {\r\n                      setCoupPercentMode(event.target.value)\r\n                    }}\r\n                  />\r\n                  <div className=\"input-group-append\">\r\n                    <span className=\"input-group-text\">元</span>\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                <div className=\"input-group\">\r\n                  <div className=\"input-group-prepend\">\r\n                    <span className=\"input-group-text\">打</span>\r\n                  </div>\r\n                  <input\r\n                    name=\"coup_over\"\r\n                    style={inputstyle}\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    onChange={event => {\r\n                      setCoupPercentMode(event.target.value)\r\n                    }}\r\n                  />\r\n                  <div className=\"input-group-append\">\r\n                    <span className=\"input-group-text\">折</span>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n            <div className=\"form-group my-3\">\r\n              <label htmlFor=\"nameInput\">優惠起始時間:</label>\r\n              <input\r\n                type=\"datetime-local\"\r\n                name=\"coup_start\"\r\n                className=\"form-control my-3\"\r\n                id=\"nameInput\"\r\n                aria-describedby=\"nameHelp\"\r\n                placeholder=\"請輸入優惠起始\"\r\n                onChange={event => setCoupStart(event.target.value)}\r\n              />\r\n            </div>\r\n            <div className=\"form-group my-3\">\r\n              <label htmlFor=\"nameInput\">優惠結束時間:</label>\r\n              <input\r\n                type=\"datetime-local\"\r\n                name=\"coup_end\"\r\n                className=\"form-control my-3\"\r\n                id=\"nameInput\"\r\n                aria-describedby=\"nameHelp\"\r\n                placeholder=\"請輸入優惠結束\"\r\n                onChange={event => setCoupEnd(event.target.value)}\r\n              />\r\n            </div>\r\n            <div className=\"form-group my-3\">\r\n              <label htmlFor=\"nameInput\">優惠使用次數:</label>\r\n              <input\r\n                type=\"number\"\r\n                name=\"coup_times\"\r\n                className=\"form-control my-3\"\r\n                id=\"nameInput\"\r\n                aria-describedby=\"nameHelp\"\r\n                onChange={event => setCoupTimes(event.target.value)}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"row text-center\">\r\n          <div className=\"col-lg-12 input-style-chin\">\r\n            {/* <Link to=\"/coupon\"> */}\r\n            <button\r\n              onClick={e => {\r\n                e.preventDefault()\r\n                handleSubmit()\r\n              }}\r\n              className=\"btn bgcolor-chin-2 text-white\"\r\n            >\r\n              提交優惠券\r\n            </button>\r\n\r\n            {/* </Link> */}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = store => {\r\n  return { couponInsert: store.sellerReducer.couponInsert }\r\n}\r\n\r\n// 指示dispatch要綁定哪些action creators\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators({ insertSellerNewInsertCouponAsync }, dispatch)\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(CupItem))\r\n","import React, { useState, useEffect } from 'react'\r\nimport SwitchButton from './SwitchButton'\r\nimport SwitchPercent from './SwitchPercent'\r\nimport { Link, withRouter } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport Swal from 'sweetalert2'\r\n\r\nimport { insertSellerNewInsertCouponAsync } from '../../../actions/seller/index'\r\nfunction CupGivi(props) {\r\n  const [coup_cate_id, setCoup_cate_id] = useState('coup003')\r\n\r\n  const [coup_name, setCoupName] = useState(null)\r\n  const [givi_name, setGivi] = useState(null)\r\n\r\n  //圖片的state鉤子\r\n  const [coupfile, setCoupFile] = useState(null)\r\n\r\n  //放進資料庫的圖片檔名\r\n\r\n  const [coupDataFiles, setCoupDataFiles] = useState(null)\r\n  //優惠券超過模式\r\n  const [givipiece, setGiviPieceMode] = useState(null)\r\n  //折扣模式\r\n  const [coupOver, setCoupOverMode] = useState(null)\r\n\r\n  //優惠起始時間\r\n\r\n  const [coupStart, setCoupStart] = useState(null)\r\n\r\n  //優惠結束時間\r\n\r\n  const [coupEnd, setCoupEnd] = useState(null)\r\n\r\n  //優惠使用次數\r\n  const [coupTimes, setCoupTimes] = useState(0)\r\n\r\n  //優惠碼\r\n  const [coupCode, setCoupCode] = useState(props.givi.coupon['code3'])\r\n\r\n  //優惠id\r\n  const [coupId, setcoupId] = useState(props.givi.coupon['coup_id'])\r\n\r\n  const [price, setPrice] = useState({\r\n    isEnable: false,\r\n  })\r\n  const [minusorpercent, setMinusorpercent] = useState({\r\n    isEnable: false,\r\n  })\r\n  // const [error, setError] = useState(false)\r\n  // const [errorMessages, setErrorMessages] = useState([])\r\n  const inputstyle = {\r\n    textAlign: 'right',\r\n  }\r\n  useEffect(() => {\r\n    props.insertSellerNewInsertCouponAsync()\r\n  }, [])\r\n\r\n  // console.log(props.order.coupon[\"overprice\"])\r\n  const handleCoupChange = event => {\r\n    console.log(event.target.files)\r\n    setCoupFile(URL.createObjectURL(event.target.files[0]))\r\n    console.log(event.target.files[0])\r\n    setCoupDataFiles(event.target.files[0])\r\n  }\r\n  const toggleSwitchButton = () => {\r\n    // 修改 state\r\n    setPrice({ isEnable: !price.isEnable })\r\n  }\r\n  const toggleSwitchButtonMinus = () => {\r\n    // 修改 state\r\n    setMinusorpercent({ isEnable: !minusorpercent.isEnable })\r\n  }\r\n\r\n  const handleSubmit = e => {\r\n    let error = false\r\n    let errorMessages = []\r\n\r\n    // const form = event.target;\r\n    // const coup_data = new FormData(form);\r\n\r\n    // console.log(coup_data)\r\n\r\n    if (!coup_name) {\r\n      error = true\r\n      errorMessages.push('優惠名稱沒填')\r\n    }\r\n    if (!coupfile) {\r\n      error = true\r\n      errorMessages.push('優惠圖片沒上傳')\r\n    }\r\n    if (!coupOver) {\r\n      error = true\r\n      errorMessages.push('超過模式沒填')\r\n    }\r\n    if (!givipiece) {\r\n      error = true\r\n      errorMessages.push('折扣模式沒填')\r\n    }\r\n    if (!coupStart) {\r\n      error = true\r\n      errorMessages.push('折扣模式沒填')\r\n    }\r\n    if (!coupStart) {\r\n      error = true\r\n      errorMessages.push('開始時間沒填')\r\n    }\r\n    if (!coupEnd) {\r\n      error = true\r\n      errorMessages.push('結束時間沒填')\r\n    }\r\n    if (coup_name.length < 25) {\r\n      error = true\r\n      errorMessages.push('優惠名稱不超過25個字')\r\n    }\r\n    if (coup_name.length > 5) {\r\n      error = true\r\n      errorMessages.push('優惠名稱需要超過5個字')\r\n    }\r\n    if (!coupTimes) {\r\n      error = true\r\n      errorMessages.push('優惠券使用次數沒填')\r\n    }\r\n\r\n    const coupData = {\r\n      coup_cate_id,\r\n      givi_name,\r\n      coupId,\r\n      coupCode,\r\n      coup_name,\r\n      coupDataFiles,\r\n      coupOver,\r\n      givipiece,\r\n      coupStart,\r\n      coupEnd,\r\n      coupTimes,\r\n    }\r\n\r\n    const coupon_fd = new FormData()\r\n    coupon_fd.append('coup_cate_id', coupData.coup_cate_id)\r\n    coupon_fd.append('givi_name', coupData.givi_name)\r\n    coupon_fd.append('coup_id', coupData.coupId)\r\n    coupon_fd.append('coup_code', coupData.coupCode)\r\n    coupon_fd.append('coup_name', coupData.coup_name)\r\n    coupon_fd.append('img', coupData.coupDataFiles)\r\n    coupon_fd.append('coup_over', coupData.coupOver)\r\n    coupon_fd.append('givi_piece', coupData.givipiece)\r\n    coupon_fd.append('coup_start', coupData.coupStart)\r\n    coupon_fd.append('coup_end', coupData.coupEnd)\r\n    coupon_fd.append('coup_times', coupData.coupTimes)\r\n\r\n    props.insertSellerNewInsertCouponAsync(coupon_fd, () => {\r\n      if (\r\n        coupData.coup_cate_id !== null &&\r\n        coupData.givi_name !== null &&\r\n        coupData.coupId !== null &&\r\n        coupData.coupCode !== null &&\r\n        coupData.coup_name !== null &&\r\n        coupData.coupDataFiles !== null &&\r\n        coupData.coupOver !== null &&\r\n        coupData.givipiece !== null &&\r\n        coupData.coupStart !== null &&\r\n        coupData.coupEnd !== null &&\r\n        coupData.coupTimes !== null\r\n      ) {\r\n        Swal.fire({\r\n          position: 'middle',\r\n          icon: 'success',\r\n          title: '新增成功呢！',\r\n          showConfirmButton: false,\r\n          timer: 1500,\r\n        })\r\n      } else {\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: '難過的是...',\r\n          text: '有些錯誤發生,欄位是空的,請再檢查一次哦!',\r\n        })\r\n      }\r\n    })\r\n    // console.log(props.insertSellerNewInsertCouponAsync());\r\n  }\r\n\r\n  return (\r\n    <form name=\"form1 input-style-chin\">\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          <div className=\"col-lg-6 input-style-chin\">\r\n            <div className=\"form-group my-3 input-text-middle-chin\">\r\n              <label htmlFor=\"nameInput\">優惠券種類(無需自行輸入)</label>\r\n              <input\r\n                readOnly\r\n                type=\"text\"\r\n                name=\"coup_cate_id\"\r\n                className=\"form-control my-3\"\r\n                id=\"nameInput\"\r\n                aria-describedby=\"nameHelp\"\r\n                defaultValue={coup_cate_id}\r\n                onChange={event => setCoup_cate_id(event.target.value)}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"col-lg-6 input-style-chin\">\r\n            <div className=\"form-group my-3 input-text-middle-chin\">\r\n              <select\r\n                name=\"givi_name\"\r\n                className=\"custom-select\"\r\n                onChange={event => setGivi(event.target.value)}\r\n              >\r\n                <option defaultValue=\"套用贈品種類\">套用贈品種類</option>\r\n                {props.givi.coupon['table6'] ? (\r\n                  props.givi.coupon['table6'].map((item, index) => {\r\n                    return (\r\n                      <option key={index} value={item.givi_name}>\r\n                        {item.givi_name}\r\n                      </option>\r\n                    )\r\n                  })\r\n                ) : (\r\n                  <h2>沒有從上層傳過來的資料</h2>\r\n                )}\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"row mx-auto\">\r\n          <div className=\"col-sm-5 col-xl-5 input-style-chin\">\r\n            <div className=\"form-group my-3\">\r\n              <label htmlFor=\"nameInput\">優惠券id(無需自行輸入)</label>\r\n              <input\r\n                readOnly\r\n                type=\"text\"\r\n                name=\"coup_id\"\r\n                className=\"form-control my-3\"\r\n                id=\"nameInput\"\r\n                aria-describedby=\"nameHelp\"\r\n                defaultValue={coupId}\r\n                onChange={event => setcoupId(event.target.value)}\r\n              />\r\n            </div>\r\n            <div className=\"form-group my-3\">\r\n              <label htmlFor=\"nameInput\">優惠券名</label>\r\n              <input\r\n                type=\"text\"\r\n                name=\"coup_name\"\r\n                className=\"form-control my-3\"\r\n                id=\"nameInput\"\r\n                aria-describedby=\"nameHelp\"\r\n                placeholder=\"請輸入優惠券名\"\r\n                onChange={event => setCoupName(event.target.value)}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-group my-3\">\r\n              <label htmlFor=\"nameInput\">優惠圖設定</label>\r\n              <input\r\n                type=\"file\"\r\n                name=\"img\"\r\n                className=\"form-control my-3\"\r\n                id=\"nameInput\"\r\n                aria-describedby=\"nameHelp\"\r\n                // value={props.data.value}\r\n                onChange={event => handleCoupChange(event)}\r\n              />\r\n              <img width=\"200\" height=\"100\" src={coupfile} />\r\n            </div>\r\n            <div className=\"form-group my-3\">\r\n              <label htmlFor=\"exampleInputPassword1\">\r\n                優惠券密碼(無需自行輸入)\r\n              </label>\r\n              <input\r\n                readOnly\r\n                type=\"text\"\r\n                name=\"coup_code\"\r\n                className=\"form-control my-3\"\r\n                id=\"exampleInputPassword1\"\r\n                defaultValue={coupCode}\r\n                onChange={event => {\r\n                  setCoupCode(event.target.value)\r\n                }}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"mx-5\"></div>\r\n          <div className=\"col-sm-5 col-xl-5\">\r\n            <div className=\"form-group my-3\">\r\n              <label htmlFor=\"exampleInputPassword1\">設定贈品滿額條件:</label>\r\n\r\n              <div className=\"input-group\">\r\n                <div className=\"input-group-prepend\">\r\n                  <span className=\"input-group-text\">超過</span>\r\n                </div>\r\n                <input\r\n                  name=\"coup_over\"\r\n                  style={inputstyle}\r\n                  type=\"text\"\r\n                  onChange={event => {\r\n                    setCoupOverMode(event.target.value)\r\n                  }}\r\n                  className=\"form-control\"\r\n                />\r\n                <div className=\"input-group-append\">\r\n                  <span className=\"input-group-text\">元</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"form-group my-3\">\r\n              <label htmlFor=\"exampleInputPassword1\">設定贈品贈送數目:</label>\r\n\r\n              <div className=\"input-group\">\r\n                <div className=\"input-group-prepend\">\r\n                  <span className=\"input-group-text\">送</span>\r\n                </div>\r\n                <input\r\n                  name=\"givi_piece\"\r\n                  style={inputstyle}\r\n                  type=\"text\"\r\n                  onChange={event => {\r\n                    setGiviPieceMode(event.target.value)\r\n                  }}\r\n                  className=\"form-control\"\r\n                />\r\n                <div className=\"input-group-append\">\r\n                  <span className=\"input-group-text\">件</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"form-group my-3\">\r\n              <label htmlFor=\"nameInput\">優惠起始時間:</label>\r\n              <input\r\n                type=\"datetime-local\"\r\n                name=\"coup_start\"\r\n                className=\"form-control my-3\"\r\n                id=\"nameInput\"\r\n                aria-describedby=\"nameHelp\"\r\n                placeholder=\"請輸入優惠起始\"\r\n                onChange={event => setCoupStart(event.target.value)}\r\n              />\r\n            </div>\r\n            <div className=\"form-group my-3\">\r\n              <label htmlFor=\"nameInput\">優惠結束時間:</label>\r\n              <input\r\n                type=\"datetime-local\"\r\n                name=\"coup_end\"\r\n                className=\"form-control my-3\"\r\n                id=\"nameInput\"\r\n                aria-describedby=\"nameHelp\"\r\n                placeholder=\"請輸入優惠結束\"\r\n                onChange={event => setCoupEnd(event.target.value)}\r\n              />\r\n            </div>\r\n            <div className=\"form-group my-3\">\r\n              <label htmlFor=\"nameInput\">優惠使用次數:</label>\r\n              <input\r\n                type=\"number\"\r\n                name=\"coup_times\"\r\n                className=\"form-control my-3\"\r\n                id=\"nameInput\"\r\n                aria-describedby=\"nameHelp\"\r\n                onChange={event => setCoupTimes(event.target.value)}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"row text-center\">\r\n          <div className=\"col-lg-12 input-style-chin\">\r\n            {/* <Link to=\"/coupon\"> */}\r\n            <button\r\n              onClick={e => {\r\n                e.preventDefault()\r\n                handleSubmit()\r\n              }}\r\n              className=\"btn bgcolor-chin-2 text-white\"\r\n            >\r\n              提交優惠券\r\n            </button>\r\n\r\n            {/* </Link> */}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\nconst mapStateToProps = store => {\r\n  return { couponInsert: store.sellerReducer.couponInsert }\r\n}\r\n\r\n// 指示dispatch要綁定哪些action creators\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators({ insertSellerNewInsertCouponAsync }, dispatch)\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(CupGivi))\r\n","import React, { useState, useEffect } from 'react'\r\n\r\nimport { withRouter } from 'react-router-dom'\r\nimport { FormControl, Form } from 'react-bootstrap'\r\n\r\nimport './Styles/CouponAdd.scss'\r\nimport Loading from './Loading'\r\n\r\nimport $ from 'jquery'\r\n\r\nimport CupOrder from './CupOrder'\r\nimport CupItem from './CupItem'\r\nimport CupGivi from './CupGivi'\r\n//redux相關\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\n//顯示資料的動作函數\r\n\r\nimport { getSellerNewInsertCouponAsync } from '../../../actions/seller/index'\r\n\r\nfunction CouponAdd(props) {\r\n  const [insertCoup, setInsertCoupon] = useState([])\r\n  const [hasloading, setHasLoading] = useState(false) //是否正在載入中\r\n\r\n  const [orderCup, setOrderCup] = useState('')\r\n\r\n  useEffect(() => {\r\n    props.getSellerNewInsertCouponAsync()\r\n  }, [])\r\n\r\n  console.log(props)\r\n  function typeMenuActive(event) {\r\n    //找到所有代表等級的li元素\r\n    let coupMenuLiList = document.querySelectorAll('ul.couponMenu li')\r\n    coupMenuLiList.forEach(value => {\r\n      value.classList.remove('active') //移除active\r\n    })\r\n\r\n    //找到所有代表類型的span元素\r\n    let coupMenuLiListspan = document.querySelectorAll('ul.couponMenu li span')\r\n\r\n    coupMenuLiListspan.forEach(value => {\r\n      value.classList.remove('active') //移除active\r\n    })\r\n    event.target.classList.add('active') //為被點擊的目標新增active\r\n    // console.log(coupMenuLiList)\r\n    // console.log(coupMenuLiListspan)\r\n  }\r\n\r\n  function getCouponFormData(event) {\r\n    const coup_cate_id = $('.couponMenu').find(\r\n      'li.nav-item span.nav-link.active'\r\n    )\r\n      ? $('.couponMenu')\r\n          .find('li.nav-item span.nav-link.active')\r\n          .attr('data-type')\r\n      : ''\r\n    return coup_cate_id\r\n  }\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"my-5\"></div>\r\n      <div className=\"row mt-3 ml-5\">\r\n        <div className=\"col-sm-12\">\r\n          <ul className=\"nav nav-tabs justify-content-around tab-main-add-chin border-main-chin couponMenu\">\r\n            <li\r\n              className=\"nav-item \"\r\n              onClick={event => {\r\n                typeMenuActive(event)\r\n                setOrderCup(getCouponFormData())\r\n              }}\r\n            >\r\n              <span data-type=\"coup001\" className=\"nav-link text-white\">\r\n                全單優惠\r\n              </span>\r\n            </li>\r\n            <li\r\n              className=\"nav-item \"\r\n              onClick={event => {\r\n                typeMenuActive(event)\r\n                setOrderCup(getCouponFormData())\r\n              }}\r\n            >\r\n              <span data-type=\"coup002\" className=\"nav-link text-white\">\r\n                設定商品優惠\r\n              </span>\r\n            </li>\r\n            <li\r\n              className=\"nav-item \"\r\n              onClick={event => {\r\n                typeMenuActive(event)\r\n                setOrderCup(getCouponFormData())\r\n              }}\r\n            >\r\n              <span data-type=\"coup003\" className=\"nav-link text-white\">\r\n                設定贈品優惠\r\n              </span>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n      <div className=\"row mt-3 ml-5 tab-main-add-content-chin input-style-chin text-center\">\r\n        {(() => {\r\n          switch (orderCup) {\r\n            case 'coup001':\r\n              return <CupOrder order={props} />\r\n            case 'coup002':\r\n              return <CupItem item={props} />\r\n            default:\r\n              return <CupGivi givi={props} />\r\n          }\r\n        })()}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nconst mapStateToProps = store => {\r\n  return { coupon: store.sellerReducer.coupon }\r\n}\r\n\r\n// 指示dispatch要綁定哪些action creators\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators({ getSellerNewInsertCouponAsync }, dispatch)\r\n}\r\n\r\nexport default withRouter(\r\n  connect(mapStateToProps, mapDispatchToProps)(CouponAdd)\r\n)\r\n","import React from 'react'\r\nimport Avajpg from '../../image/20180615_201523.jpg'\r\nimport Logo from '../../image/AQUA.svg'\r\n// import Menu from './SidebarBox/Menu'\r\n\r\nimport { Route, Switch } from 'react-router-dom'\r\nimport MenuUI from './SidebarBox/MenuUI'\r\n\r\nimport './pages/Style/AllSeller.scss'\r\n//引入個別內容頁的component\r\nimport MainPage from './pages/MainPage'\r\nimport Info from './pages/Info'\r\nimport Coupon from './pages/Coupon'\r\nimport CustomerManager from './pages/CustomerManager'\r\nimport Order from './pages/Order'\r\nimport SellerClass from '../../pages/class/SellerClass'\r\nimport SellerEditClass from '../../pages/class/SellerEditClass'\r\nimport SellerEdit from './components/SellerEdit'\r\nimport CouponEdit from './components/CouponEdit'\r\nimport CouponAddGivi from './components/CouponAddGivi'\r\nimport ItemManager from './pages/ItemManager'\r\nimport CouponAdd from './components/CouponAdd'\r\nfunction Container(props) {\r\n  console.log(props)\r\n  return (\r\n    <>\r\n      <div className=\"container-fluid\">\r\n        <div className=\"row\">\r\n          <div className=\"col-xl-2 col-lg-3 col-md-4 sidebar\">\r\n            <span className=\"navbar-brand text-white d-block mx-auto text-center py-3 mb-4 bottom-border\">\r\n              <img alt=\"\" height=\"50\" width=\"200\" src={Logo} />\r\n            </span>\r\n            <div className=\"bottom-border pb-3 flex-column text-center\">\r\n              <div className=\"mb-3\">\r\n                <img\r\n                  alt=\"\"\r\n                  src={Avajpg}\r\n                  height=\"64\"\r\n                  width=\"64\"\r\n                  className=\"rounded-circle mr-3\"\r\n                />\r\n              </div>\r\n              <span className=\"text-white mr-2 mt-3\">Chin Dai</span>\r\n            </div>\r\n            {/* <Menu/>    */}\r\n            <MenuUI />\r\n          </div>\r\n          <div className=\"col-xl-10 col-lg-9 col-md-8 main-style-chin\">\r\n            <Switch>\r\n              <Route path=\"/seller/coupon/couponedit\">\r\n                <CouponEdit />\r\n              </Route>\r\n              <Route path=\"/seller/info/selleredit\">\r\n                <SellerEdit />\r\n              </Route>\r\n              <Route path=\"/seller/coupon/coupon_add_givi\">\r\n                <CouponAddGivi />\r\n              </Route>\r\n              <Route path=\"/seller/coupon/coupon_add\">\r\n                <CouponAdd />\r\n              </Route>\r\n              <Route path=\"/seller/info\">\r\n                {/* <Info   loginStatus={login}\r\n                trigger={() => {\r\n                  setLogin(!login)\r\n                }}/> */}\r\n                <Info />\r\n              </Route>\r\n              <Route path=\"/seller/coupon\">\r\n                <Coupon />\r\n              </Route>\r\n              <Route path=\"/seller/itemmanager\">\r\n                <ItemManager />\r\n              </Route>\r\n              <Route path=\"/seller/managecustomer\">\r\n                <CustomerManager />\r\n              </Route>\r\n              <Route path=\"/seller/order\">\r\n                <Order />\r\n              </Route>\r\n              <Route path=\"/seller/class/:classId\">\r\n                <SellerEditClass />\r\n              </Route>\r\n              <Route path=\"/seller/class\">\r\n                <SellerClass />\r\n              </Route>\r\n              <Route path=\"/seller\">\r\n                <MainPage />\r\n              </Route>\r\n            </Switch>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Container\r\n","/* eslint-disable jsx-a11y/anchor-is-valid */\r\nimport React from 'react'\r\nimport '../../style/common.scss'\r\n\r\nfunction Footer() {\r\n  return (\r\n    <>\r\n      <div className=\"footbody d-flex bg-chin-footer justify-content-around\">\r\n        <div className=\"d-flex align-self-center footlink\">\r\n          <div className=\"aqualogo align-self-center\"></div>\r\n          <a href=\"\" className=\"mt-2 nav-link\">\r\n            購物說明\r\n          </a>\r\n          <a href=\"\" className=\"mt-2 nav-link\">\r\n            隱私權政策\r\n          </a>\r\n          <a href=\"\" className=\"mt-2 nav-link\">\r\n            關於AQUA\r\n          </a>\r\n        </div>\r\n        <p className=\"align-self-end\">\r\n          Copyright © 2020 AQUA. All rights reserved.\r\n        </p>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Footer\r\n","import React from 'react'\r\nimport Navgation from './Navgation'\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom'\r\n\r\nimport './Navbar.scss'\r\nimport '../../style/variable.scss'\r\nimport Container from './Container'\r\nimport Footer from './Footer'\r\nfunction SellerBack(props) {\r\n  console.log(props)\r\n  return (\r\n    <React.Fragment>\r\n      <Router>\r\n        <Navgation />\r\n        <Container />\r\n        <Footer />\r\n      </Router>\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default SellerBack\r\n","import Cookie from 'js-cookie'\r\n\r\n//取得課程類型與等級\r\nexport const getTypeLevelData = data => ({\r\n  type: 'GET_TYPEDATA',\r\n  value: data,\r\n})\r\nexport const getTypeLevelDataAsync = () => {\r\n  return async dispatch => {\r\n    const request = new Request('http://127.0.0.1:5000/classtype/level', {\r\n      method: 'GET',\r\n      headers: new Headers({\r\n        Accept: 'application/json',\r\n        'Content-Type': 'application/json',\r\n      }),\r\n    })\r\n\r\n    const response = await fetch(request)\r\n    const data = await response.json()\r\n    dispatch(getTypeLevelData(data))\r\n  }\r\n}\r\n\r\n//取得課程列表資料\r\nexport const getClassData = data => ({\r\n  type: 'GET_CLASSDATA',\r\n  value: data,\r\n})\r\n\r\nexport const getClassDataAsync = (type, level, sort, page, isEnable) => {\r\n  return async dispatch => {\r\n    let query = []\r\n\r\n    if (type) query.push(`type=${type.trim()}`)\r\n    if (level) query.push(`level=${level.trim()}`)\r\n    if (sort) query.push(`sort=${sort.trim()}`)\r\n    if (page) query.push(`page=${page.trim()}`)\r\n    if (isEnable) query.push(`expired=1`)\r\n    if (query.length > 0) {\r\n      query = query.join('&')\r\n    } else {\r\n      query = ''\r\n    }\r\n\r\n    const request = new Request(`http://127.0.0.1:5000/class?${query}`, {\r\n      method: 'GET',\r\n      headers: new Headers({\r\n        Accept: 'application/json',\r\n        'Content-Type': 'application/json',\r\n      }),\r\n      credentials: 'include',\r\n    })\r\n\r\n    const response = await fetch(request)\r\n    const data = await response.json()\r\n    dispatch(getClassData(data))\r\n  }\r\n}\r\n\r\n//取得課程的詳細資料\r\nexport const getclassDetailData = data => ({\r\n  type: 'GET_CLASSDETAIDATA',\r\n  value: data,\r\n})\r\n\r\nexport const getclassDetailDataAsync = classId => {\r\n  return async dispatch => {\r\n    const request = new Request(`http://127.0.0.1:5000/class/${classId}`, {\r\n      method: 'GET',\r\n      headers: new Headers({\r\n        Accept: 'application/json',\r\n        'Content-Type': 'application/json',\r\n      }),\r\n    })\r\n\r\n    const response = await fetch(request)\r\n    const data = await response.json()\r\n    dispatch(getclassDetailData(data))\r\n  }\r\n}\r\n\r\n//會員報名一筆課程\r\nexport const memberJoinClass = data => ({\r\n  type: 'APPLY_CLASS',\r\n  value: data,\r\n})\r\n\r\nexport const memberJoinClassAsync = (classId, memberMemo) => {\r\n  return async dispatch => {\r\n    const fd = new FormData()\r\n    fd.append('memberMemo', memberMemo)\r\n    const request = new Request(\r\n      `http://127.0.0.1:5000/member/class/${classId}`,\r\n      {\r\n        method: 'POST',\r\n        body: fd,\r\n        credentials: 'include',\r\n        headers: new Headers({\r\n          'access-token': Cookie.get('token'),\r\n        }),\r\n      }\r\n    )\r\n\r\n    const response = await fetch(request)\r\n    const data = await response.json()\r\n    dispatch(memberJoinClass(data))\r\n  }\r\n}\r\n\r\n//會員取得自己報名的課程資料\r\nexport const memberGetClassData = data => ({\r\n  type: 'MEMBER_GETCLASSDATA',\r\n  value: data,\r\n})\r\n\r\nexport const memberGetClassDataAsync = (sort, page, isEnable) => {\r\n  return async dispatch => {\r\n    let query = []\r\n\r\n    if (sort) query.push(`sort=${sort.trim()}`)\r\n    if (page) query.push(`page=${page.trim()}`)\r\n    if (isEnable) query.push(`expired=1`)\r\n    if (query.length > 0) {\r\n      query = query.join('&')\r\n    } else {\r\n      query = ''\r\n    }\r\n\r\n    const request = new Request(`http://127.0.0.1:5000/member/class?${query}`, {\r\n      method: 'GET',\r\n      credentials: 'include',\r\n      headers: new Headers({\r\n        Accept: 'application/json',\r\n        'Content-Type': 'application/json',\r\n        'access-token': Cookie.get('token'),\r\n      }),\r\n    })\r\n\r\n    const response = await fetch(request)\r\n    const data = await response.json()\r\n    dispatch(memberGetClassData(data))\r\n  }\r\n}\r\n\r\n//會員\"取消\"報名一筆課程\r\nexport const memberUnJoinClass = data => ({\r\n  type: 'UNJOIN_CLASS',\r\n  value: data,\r\n})\r\n\r\nexport const memberUnJoinClassAsync = classId => {\r\n  return async dispatch => {\r\n    const request = new Request(\r\n      `http://127.0.0.1:5000/member/class/${classId}`,\r\n      {\r\n        method: 'DELETE',\r\n        credentials: 'include',\r\n        headers: new Headers({\r\n          'access-token': Cookie.get('token'),\r\n        }),\r\n      }\r\n    )\r\n\r\n    const response = await fetch(request)\r\n    const data = await response.json()\r\n    dispatch(memberUnJoinClass(data))\r\n  }\r\n}\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport Fade from 'react-reveal/Fade'\r\n\r\n/*\r\n  傳入參數 props.classData = 課程資料列表\r\n  2020-03-21\r\n*/\r\nfunction ClassDataList(props) {\r\n  return (\r\n    <>\r\n      {!props.classData ? (\r\n        <h2>查無相關資料</h2>\r\n      ) : (\r\n        props.classData.map((value, index) => {\r\n          return (\r\n            <Fade bottom>\r\n              <div\r\n                className={index === 0 ? 'row classBox mt-0' : 'row classBox'}\r\n                key={index}\r\n              >\r\n                <div className=\"col-xl-7 col-12 classImgBox\">\r\n                  <img\r\n                    src={\r\n                      'http://127.0.0.1:5000/images/classImg/' + value.classImg\r\n                    }\r\n                    alt=\"\"\r\n                  />\r\n                </div>\r\n                <div className=\"col-xl-5 col-12 classInfoContent\">\r\n                  <h2>{value.className}</h2>\r\n                  <ul className=\"d-flex\">\r\n                    <li>\r\n                      <img src=\"./images/classImg/icons/type.svg\" alt=\"\" />\r\n                      {value.classType}\r\n                    </li>\r\n                    <li>\r\n                      <img src=\"./images/classImg/icons/level.svg\" alt=\"\" />\r\n                      {value.classLevel}\r\n                    </li>\r\n                  </ul>\r\n                  <ul className=\"d-flex\">\r\n                    <li>\r\n                      <img src=\"./images/classImg/icons/date.svg\" alt=\"\" />\r\n                      {value.classStartDate}\r\n                    </li>\r\n                    <li>\r\n                      <img src=\"./images/classImg/icons/local.svg\" alt=\"\" />\r\n                      {value.classLocation}\r\n                    </li>\r\n                  </ul>\r\n                  <p className=\"introduction\">{value.classIntroduction}</p>\r\n                  <h2 className=\"price\">{'$' + value.classPrice}</h2>\r\n                  <Link\r\n                    className=\"btn-more btn btn-raised btn-warning\"\r\n                    to={`/Class/${value.classId}`}\r\n                  >\r\n                    了解詳情\r\n                  </Link>\r\n                </div>\r\n              </div>\r\n            </Fade>\r\n          )\r\n        })\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ClassDataList\r\n","import React, { useState, useEffect } from 'react'\r\nimport SwitchButton from '../event/MemberEventComponents/SwitchButton'\r\n\r\n/*\r\n  傳入方法 props.getClassData() = 向伺服器取得新資料\r\n          props.setIsEnable() = 設定開關狀態\r\n\r\n  傳入參數 props.isEnable = 開關狀態\r\n  2020-03-26\r\n*/\r\nfunction ClassSortBar(props) {\r\n  const [rwdMenuShow, setRwdMenuShow] = useState(false)\r\n\r\n  useEffect(() => {\r\n    if (rwdMenuShow) {\r\n      document\r\n        .querySelector('div.classCategoryList div')\r\n        .classList.add('rwdMenuShow')\r\n    } else {\r\n      document\r\n        .querySelector('div.classCategoryList div')\r\n        .classList.remove('rwdMenuShow')\r\n    }\r\n  }, [rwdMenuShow])\r\n\r\n  const toggleSwitchButton = () => {\r\n    props.setIsEnable(!props.isEnable)\r\n  }\r\n\r\n  const handleRWDmenu = () => {}\r\n\r\n  return (\r\n    <>\r\n      <div className=\"row\">\r\n        <div className=\"col-2\">\r\n          <span\r\n            class=\"material-icons d-md-none\"\r\n            onClick={() => {\r\n              setRwdMenuShow(!rwdMenuShow)\r\n            }}\r\n          >\r\n            filter_list\r\n          </span>\r\n        </div>\r\n        <div className=\"col-10 col-xl-12 d-flex justify-content-end\">\r\n          <div className=\"d-flex switchbutton-jy align-items-center justify-content-end\">\r\n            <p>過期資料</p>\r\n            <SwitchButton\r\n              type=\"button\"\r\n              active={props.isEnable}\r\n              clicked={toggleSwitchButton}\r\n            />\r\n          </div>\r\n          <div className=\"sortSelect \">\r\n            <select\r\n              name=\"sort\"\r\n              className=\"form-control\"\r\n              onChange={() => {\r\n                props.getClassData()\r\n              }}\r\n            >\r\n              <option value=\"\">排序方式</option>\r\n              <option value=\"classPrice,desc\">價格高至低</option>\r\n              <option value=\"classPrice,asc\">價格低至高</option>\r\n              <option value=\"classNOWpeople,desc\">名額多至少</option>\r\n              <option value=\"classNOWpeople,asc\">名額少至多</option>\r\n              <option value=\"classStartDate,asc\">開課日期近至遠</option>\r\n              <option value=\"classStartDate,desc\">開課日期遠至近</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ClassSortBar\r\n","import React from 'react'\r\n\r\n/*\r\n  傳入參數 props.classTypeData = 課程類型列表\r\n  傳入方法 props.getClassData() = 向伺服器取得新資料\r\n  2020-03-21\r\n*/\r\nfunction ClassListCategory(props) {\r\n  //類別選單的點擊active事件\r\n  function typeMenuActive(event) {\r\n    document\r\n      .querySelector('div.classCategoryList div')\r\n      .classList.remove('rwdMenuShow')\r\n    //找到所有代表等級的li元素\r\n    let subMenuLiList = document.querySelectorAll('ul[class=\"subMenu\"] li')\r\n    subMenuLiList.forEach(value => {\r\n      value.classList.remove('active') //移除active\r\n    })\r\n    //找到所有代表類型的a元素\r\n    let levelTitleList = document.querySelectorAll(\r\n      'ul[class=\"typeMenu\"] li span'\r\n    )\r\n    levelTitleList.forEach(value => {\r\n      value.classList.remove('active') //移除active\r\n    })\r\n    event.target.classList.add('active') //為被點擊的目標新增active\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"col-xl-3 col-sm-12 classCategoryList\">\r\n        <div>\r\n          <h2>課程類型</h2>\r\n          <ul className=\"typeMenu\">\r\n            <li>\r\n              <span\r\n                data-type=\"\"\r\n                className=\"levelTitle\"\r\n                onClick={event => {\r\n                  typeMenuActive(event)\r\n                  props.getClassData()\r\n                }}\r\n              >\r\n                查看全部\r\n              </span>\r\n            </li>\r\n            <li>\r\n              <span\r\n                data-type=\"AIDA 國際自由潛水證照班\"\r\n                className=\"levelTitle\"\r\n                onClick={event => {\r\n                  typeMenuActive(event)\r\n                  props.getClassData()\r\n                }}\r\n              >\r\n                AIDA 國際自由潛水證照班\r\n              </span>\r\n              <ul className=\"subMenu\">\r\n                {props.classTypeData.map((value, index) => {\r\n                  if (value.classTypeId === 'classTypeAIDA') {\r\n                    return (\r\n                      <li\r\n                        key={index}\r\n                        data-type={value.classTypeName}\r\n                        data-level={value.classLevel}\r\n                        onClick={event => {\r\n                          typeMenuActive(event)\r\n                          props.getClassData()\r\n                        }}\r\n                      >\r\n                        {value.classLevel}\r\n                      </li>\r\n                    )\r\n                  }\r\n                })}\r\n              </ul>\r\n            </li>\r\n            <li>\r\n              <span\r\n                data-type=\"SSI 國際潛水執照班\"\r\n                className=\"levelTitle\"\r\n                onClick={event => {\r\n                  typeMenuActive(event)\r\n                  props.getClassData()\r\n                }}\r\n              >\r\n                SSI 國際潛水執照班\r\n              </span>\r\n              <ul className=\"subMenu\">\r\n                {props.classTypeData.map((value, index) => {\r\n                  if (value.classTypeId === 'classTypeSSI') {\r\n                    return (\r\n                      <li\r\n                        key={index}\r\n                        data-type={value.classTypeName}\r\n                        data-level={value.classLevel}\r\n                        onClick={event => {\r\n                          typeMenuActive(event)\r\n                          props.getClassData()\r\n                        }}\r\n                      >\r\n                        {value.classLevel}\r\n                      </li>\r\n                    )\r\n                  }\r\n                })}\r\n              </ul>\r\n            </li>\r\n            <li>\r\n              <span\r\n                data-type=\"PADI 潛水員證照班\"\r\n                className=\"levelTitle\"\r\n                onClick={event => {\r\n                  typeMenuActive(event)\r\n                  props.getClassData()\r\n                }}\r\n              >\r\n                PADI 潛水員證照班\r\n              </span>\r\n              <ul className=\"subMenu\">\r\n                {props.classTypeData.map((value, index) => {\r\n                  if (value.classTypeId === 'calssTypePADI') {\r\n                    return (\r\n                      <li\r\n                        key={index}\r\n                        data-type={value.classTypeName}\r\n                        data-level={value.classLevel}\r\n                        onClick={event => {\r\n                          typeMenuActive(event)\r\n                          props.getClassData()\r\n                        }}\r\n                      >\r\n                        {value.classLevel}\r\n                      </li>\r\n                    )\r\n                  }\r\n                })}\r\n              </ul>\r\n            </li>\r\n            <li>\r\n              <span\r\n                data-type=\"普通班\"\r\n                className=\"levelTitle\"\r\n                onClick={event => {\r\n                  typeMenuActive(event)\r\n                  props.getClassData()\r\n                }}\r\n              >\r\n                普通班\r\n              </span>\r\n              <ul className=\"subMenu\">\r\n                {props.classTypeData.map((value, index) => {\r\n                  if (value.classTypeId === 'classType01') {\r\n                    return (\r\n                      <li\r\n                        key={index}\r\n                        data-type={value.classTypeName}\r\n                        data-level={value.classLevel}\r\n                        onClick={event => {\r\n                          typeMenuActive(event)\r\n                          props.getClassData()\r\n                        }}\r\n                      >\r\n                        {value.classLevel}\r\n                      </li>\r\n                    )\r\n                  }\r\n                })}\r\n              </ul>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ClassListCategory\r\n","import React, { useEffect, useState } from 'react'\r\n\r\n//引入redux元件\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\n\r\n//引入action\r\nimport {\r\n  getTypeLevelDataAsync,\r\n  getClassDataAsync,\r\n} from '../../actions/class/class_Actions'\r\n\r\n//引入自訂元件\r\nimport Header from '../../components/Header' //導航列\r\nimport Banner from '../../components/Banner' //橫幅廣告\r\nimport Footer from '../../components/Footer' //頁腳\r\nimport Loading from '../../components/class/Loading' //載入中圖示\r\nimport ClassDataList from '../../components/class/ClassDataList' //課程資料列表\r\nimport ClassSortBar from '../../components/class/ClassSortBar' //課程排序框\r\nimport ClassListCategory from '../../components/class/ClassListCategory' //課程類別選單\r\nimport EventPageButtons from '../../components/event/EventPageButtons' //課程頁數按鈕\r\n\r\n/*\r\n  store參數 props.classTypeData = 課程類別資料\r\n  store參數 props.classData = 課程列表資料\r\n  store方法 props.getClassDataAsync() = 取得課程資料\r\n  store方法 props.getTypeLevelDataAsync() = 取得課程類型資料\r\n  2020-03-21\r\n*/\r\nfunction Class(props) {\r\n  const [classData, setClassData] = useState([]) //存放課程列表的陣列\r\n  const [hasloading, setHasLoading] = useState(false) //是否正在載入中\r\n  const [isEnable, setIsEnable] = useState(false) //是否按下 \"包含已過期資料的按鈕\"\r\n\r\n  //取得初始資料\r\n  useEffect(() => {\r\n    props.getTypeLevelDataAsync()\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    getClassData()\r\n  }, [isEnable])\r\n\r\n  //判斷資料是否已載入進來\r\n  useEffect(() => {\r\n    setHasLoading(true)\r\n\r\n    setTimeout(() => {\r\n      if (props.classData.status) {\r\n        setClassData(props.classData.result)\r\n        setHasLoading(false) //載入完成\r\n      }\r\n    }, 500)\r\n  }, [props.classData])\r\n\r\n  //向伺服器取得資料\r\n  function getClassData(page) {\r\n    //收集擁有active的按鈕，如果存在就取得該按鈕的data-type以及level屬性值作為參數\r\n    const type = document.querySelector('.typeMenu .active')\r\n      ? document.querySelector('.typeMenu .active').getAttribute('data-type')\r\n      : ''\r\n    const level = document.querySelector('.typeMenu .active')\r\n      ? document.querySelector('.typeMenu .active').getAttribute('data-level')\r\n      : ''\r\n    //取得sort的select的值\r\n    const sort = document.querySelector('select[name=\"sort\"]').value\r\n    props.getClassDataAsync(type, level, sort, page, isEnable)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <Banner BannerImgSrc=\"./images/classImg/calssbanner.jpg\" />\r\n      <div className=\"container JYcontainer\">\r\n        <div className=\"row\">\r\n          <ClassListCategory\r\n            getClassData={getClassData}\r\n            classTypeData={props.classTypeData}\r\n          />\r\n          <div className=\"col-xl-9 col-sm-12\">\r\n            <ClassSortBar\r\n              getClassData={getClassData}\r\n              setIsEnable={setIsEnable}\r\n              isEnable={isEnable}\r\n              searchType={props.classData ? props.classData.searchType : ''}\r\n            />\r\n            {hasloading ? <Loading /> : <ClassDataList classData={classData} />}\r\n            {hasloading ? (\r\n              ''\r\n            ) : (\r\n              <EventPageButtons\r\n                totalPages={props.classData.totalPages}\r\n                getDataFromServer={getClassData}\r\n              />\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <Footer />\r\n    </>\r\n  )\r\n}\r\n\r\n// 取得Redux中store的值\r\nconst mapStateToProps = store => {\r\n  return {\r\n    classTypeData: store.classReducer.classTypeData,\r\n    classData: store.classReducer.classData,\r\n  }\r\n}\r\n\r\n// 指示dispatch要綁定哪些action creators\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    { getTypeLevelDataAsync, getClassDataAsync },\r\n    dispatch\r\n  )\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Class)\r\n","import React, { useState, useEffect } from 'react'\r\nimport SweetAlert from './SellerClassComponents/Sweetalert2'\r\n//引入redux元件\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\n\r\n//引入action\r\nimport { memberJoinClassAsync } from '../../actions/class/class_Actions'\r\n\r\nfunction ClassDetailDataContent(props) {\r\n  const [response, setResponse] = useState(false) //確認是否有收到response資料\r\n\r\n  //每當response改變時就秀出提示視窗\r\n  useEffect(() => {\r\n    if (response) {\r\n      if (props.memberClassActionResponse.status === 201) {\r\n        SweetAlert.success('報名成功!')\r\n        setResponse(false)\r\n      } else {\r\n        SweetAlert.errorAlert(\r\n          props.memberClassActionResponse.status,\r\n          props.memberClassActionResponse.msg\r\n        )\r\n        setResponse(false)\r\n      }\r\n    }\r\n  }, [response])\r\n\r\n  return (\r\n    <>\r\n      {props.classData.length <= 0 ? (\r\n        <h1>查無此筆課程資料</h1>\r\n      ) : (\r\n        <>\r\n          <h1>{props.classData.className}</h1>\r\n          <div className=\"row d-flex classDataBox\">\r\n            <div className=\"col-xl-6 classImgBox\">\r\n              <img\r\n                src={`http://127.0.0.1:5000/images/classImg/${props.classData.classImg}`}\r\n                alt=\"\"\r\n              />\r\n            </div>\r\n            <div className=\"col-xl-4 classInfoBox\">\r\n              <ul className=\"d-flex\">\r\n                <li>\r\n                  <img src=\"/images/classImg/icons/detail/type.svg\" alt=\"\" />\r\n                  {props.classData.classType}\r\n                </li>\r\n                <li>\r\n                  <img src=\"/images/classImg/icons/detail/level.svg\" alt=\"\" />\r\n                  {props.classData.classLevel}\r\n                </li>\r\n              </ul>\r\n              <ul>\r\n                <li>\r\n                  <img src=\"/images/classImg/icons/detail/date.svg\" alt=\"\" />\r\n                  {'開訓日期：' + props.classData.classStartDate}\r\n                </li>\r\n                <li>\r\n                  <img src=\"/images/classImg/icons/detail/date.svg\" alt=\"\" />\r\n                  {'結訓日期：' + props.classData.classEndDate}\r\n                </li>\r\n              </ul>\r\n              <p>\r\n                <img src=\"/images/classImg/icons/detail/local.svg\" alt=\"\" />\r\n                {'開課地點：' + props.classData.classFullLocation}\r\n              </p>\r\n              <ul className=\"d-flex\">\r\n                <li>{'人數上限：' + props.classData.classMAXpeople}</li>\r\n                <li>{'目前人數：' + props.classData.classNOWpeople}</li>\r\n              </ul>\r\n              <h1 className=\"classPrice\">{'$' + props.classData.classPrice}</h1>\r\n              <button\r\n                className=\"btn-join btn btn-raised btn-warning\"\r\n                disabled={\r\n                  props.classData.classNOWpeople >=\r\n                    props.classData.classMAXpeople ||\r\n                  new Date(props.classData.classStartDate).getTime() <\r\n                    new Date().getTime()\r\n                    ? true\r\n                    : false\r\n                }\r\n                onClick={() => {\r\n                  let msgArr = [\r\n                    {\r\n                      title: '輸入備註訊息',\r\n                      text: '輸入你想給賣家的備註 ex: 只吃素食等',\r\n                      input: 'text',\r\n                    },\r\n                    {\r\n                      title: '確認課程資訊',\r\n                      html: `<h2>主題：${props.classData.className}</h2>\r\n                            <p>類型：${props.classData.classType}</p>\r\n                            <p>等級：${props.classData.classLevel}</p>\r\n                            <p>開訓日期：${props.classData.classStartDate}</p>\r\n                            <p>結訓日期：${props.classData.classEndDate}</p>\r\n                            `,\r\n                    },\r\n                  ]\r\n                  SweetAlert.questionAlert(\r\n                    ['1', '2'],\r\n                    msgArr,\r\n                    setResponse,\r\n                    true,\r\n                    props.memberJoinClassAsync,\r\n                    props.classData.classId\r\n                  )\r\n                }}\r\n              >\r\n                {(() => {\r\n                  switch (true) {\r\n                    case props.classData.classNOWpeople >=\r\n                      props.classData.classMAXpeople:\r\n                      return '已額滿'\r\n                    case new Date(props.classData.classStartDate).getTime() <\r\n                      new Date().getTime():\r\n                      return '已過期'\r\n                    default:\r\n                      return '馬上報名'\r\n                  }\r\n                })()}\r\n              </button>\r\n            </div>\r\n          </div>\r\n          <div className=\"row shopNameBox\">\r\n            <div className=\"col-xl-5\">\r\n              <p className=\"shopName\">\r\n                <img src=\"/images/classImg/icons/shop.svg\" alt=\"\" />\r\n                {'本課程由 ' + props.classData.seller_shop + ' 工作室提供'}\r\n              </p>\r\n            </div>\r\n          </div>\r\n          <h2 className=\"coachTitle\">師資陣容</h2>\r\n          <div className=\"row d-flex coachList\">\r\n            {props.classCoachData\r\n              ? props.classCoachData.map(value => {\r\n                  return (\r\n                    <div className=\" coachInfo\">\r\n                      <div className=\"avatarBox\">\r\n                        <img\r\n                          src={\r\n                            'http://127.0.0.1:5000/images/coachImg/' +\r\n                            value.classCoachImg\r\n                          }\r\n                          alt=\"\"\r\n                        />\r\n                      </div>\r\n                      <div className=\"coachName\">\r\n                        <p>{value.classCoachName}</p>\r\n                        <p>教練</p>\r\n                      </div>\r\n                      <div className=\"coachEducation\">\r\n                        <p>\r\n                          <img\r\n                            src=\"/images/classImg/icons/detail/coachEducation.svg\"\r\n                            alt=\"\"\r\n                          />\r\n                          {value.classCoachLicense1}\r\n                        </p>\r\n                        <p>\r\n                          <img\r\n                            src=\"/images/classImg/icons/detail/coachEducation.svg\"\r\n                            alt=\"\"\r\n                          />\r\n                          {value.classCoachLicense2}\r\n                        </p>\r\n                        <p>\r\n                          <img\r\n                            src=\"/images/classImg/icons/detail/coachEducation.svg\"\r\n                            alt=\"\"\r\n                          />\r\n                          {value.classCoachLicense3}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  )\r\n                })\r\n              : ''}\r\n          </div>\r\n          <h2 className=\"coachTitle\">課程說明</h2>\r\n          <div className=\"classDesc\">\r\n            <pre>{props.classData.classDesc}</pre>\r\n          </div>\r\n        </>\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\n// 取得Redux中store的值\r\nconst mapStateToProps = store => {\r\n  return {\r\n    memberClassActionResponse: store.classReducer.memberClassActionResponse,\r\n  }\r\n}\r\n\r\n// 指示dispatch要綁定哪些action creators\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators({ memberJoinClassAsync }, dispatch)\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(ClassDetailDataContent)\r\n","import React, { useEffect, useState } from 'react'\r\nimport { withRouter } from 'react-router'\r\n\r\n//引入redux元件\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\n\r\n//引入action\r\nimport { getclassDetailDataAsync } from '../../actions/class/class_Actions'\r\n\r\n//引入自訂元件\r\nimport Header from '../../components/Header' //導航列\r\nimport Banner from '../../components/Banner' //橫幅廣告\r\nimport Footer from '../../components/Footer' //頁腳\r\nimport Loading from '../../components/class/Loading' //載入中圖示\r\nimport ClassDetailDataContent from '../../components/class/ClassDetailDataContent' //課程詳細資料框\r\n\r\nfunction ClassDetail(props) {\r\n  const [hasloading, setHasLoading] = useState(false) //是否正在載入中\r\n\r\n  //取得資料\r\n  useEffect(() => {\r\n    const classId = props.match.params.classId\r\n    props.getclassDetailDataAsync(classId)\r\n  }, [])\r\n\r\n  //將從資料庫取得的資料存放到本地的state\r\n  useEffect(() => {\r\n    setHasLoading(true)\r\n    setTimeout(() => {\r\n      if (props.classDetailData.status) {\r\n        setHasLoading(false)\r\n      }\r\n    }, 500)\r\n  }, [props.classDetailData])\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <Banner BannerImgSrc=\"/images/ClassBanner.jpg\" />\r\n      <div className=\"container JY-container-detail\">\r\n        {hasloading ? (\r\n          <Loading />\r\n        ) : (\r\n          <ClassDetailDataContent\r\n            classData={\r\n              props.classDetailData.classData\r\n                ? props.classDetailData.classData[0]\r\n                : ''\r\n            }\r\n            classCoachData={\r\n              props.classDetailData.classCoachData\r\n                ? props.classDetailData.classCoachData\r\n                : ''\r\n            }\r\n          />\r\n        )}\r\n      </div>\r\n      <Footer />\r\n    </>\r\n  )\r\n}\r\n\r\n// 取得Redux中store的值\r\nconst mapStateToProps = store => {\r\n  return {\r\n    classDetailData: store.classReducer.classDetailData,\r\n  }\r\n}\r\n\r\n// 指示dispatch要綁定哪些action creators\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators({ getclassDetailDataAsync }, dispatch)\r\n}\r\n\r\nexport default withRouter(\r\n  connect(mapStateToProps, mapDispatchToProps)(ClassDetail)\r\n)\r\n","import Cookie from 'js-cookie'\r\n\r\n//取得活動列表資料\r\nexport const getEventData = data => ({\r\n  type: 'GET_EVENTDATA',\r\n  value: data,\r\n})\r\n\r\nexport const getEventDataAsync = (type, q, sort, page, isEnable) => {\r\n  return async dispatch => {\r\n    let query = []\r\n\r\n    if (type) query.push(`type=${type.trim()}`)\r\n    if (q) query.push(`q=${q.trim()}`)\r\n    if (sort) query.push(`sort=${sort.trim()}`)\r\n    if (page) query.push(`page=${page.trim()}`)\r\n    if (isEnable) query.push(`expired=1`)\r\n    if (query.length > 0) {\r\n      query = query.join('&')\r\n    } else {\r\n      query = ''\r\n    }\r\n\r\n    const request = new Request(`http://127.0.0.1:5000/event?${query}`, {\r\n      method: 'GET',\r\n      headers: new Headers({\r\n        Accept: 'application/json',\r\n        'Content-Type': 'application/json',\r\n      }),\r\n    })\r\n\r\n    const response = await fetch(request)\r\n    const data = await response.json()\r\n    dispatch(getEventData(data))\r\n  }\r\n}\r\n\r\n//取得活動列表資料(地圖用)\r\nexport const getEventDataForMap = data => ({\r\n  type: 'GET_EVENTDATA_MAP',\r\n  value: data,\r\n})\r\n\r\nexport const getEventDataForMapAsync = (type, q, sort, isEnable) => {\r\n  return async dispatch => {\r\n    let query = []\r\n\r\n    if (type) query.push(`type=${type.trim()}`)\r\n    if (q) query.push(`q=${q.trim()}`)\r\n    if (sort) query.push(`sort=${sort.trim()}`)\r\n    if (isEnable) query.push(`expired=1`)\r\n    if (query.length > 0) {\r\n      query = query.join('&')\r\n    } else {\r\n      query = ''\r\n    }\r\n\r\n    const request = new Request(`http://127.0.0.1:5000/event/map?${query}`, {\r\n      method: 'GET',\r\n      headers: new Headers({\r\n        Accept: 'application/json',\r\n        'Content-Type': 'application/json',\r\n      }),\r\n    })\r\n\r\n    const response = await fetch(request)\r\n    const data = await response.json()\r\n    dispatch(getEventDataForMap(data))\r\n  }\r\n}\r\n\r\n//取得活動類型資料\r\nexport const getEventTypeData = data => ({\r\n  type: 'GET_EVENT_TYPEDATA',\r\n  value: data,\r\n})\r\n\r\nexport const getEventTypeDataAsync = () => {\r\n  return async dispatch => {\r\n    const request = new Request(`http://127.0.0.1:5000/event/type`, {\r\n      method: 'GET',\r\n      headers: new Headers({\r\n        Accept: 'application/json',\r\n        'Content-Type': 'application/json',\r\n      }),\r\n    })\r\n\r\n    const response = await fetch(request)\r\n    const data = await response.json()\r\n    dispatch(getEventTypeData(data))\r\n  }\r\n}\r\n\r\n//取得活動詳細資料\r\nexport const getEventDetailData = data => ({\r\n  type: 'GET_EVENT_DETAIL_DATA',\r\n  value: data,\r\n})\r\n\r\nexport const getEventDetailDataAsync = eventId => {\r\n  return async dispatch => {\r\n    const request = new Request(`http://127.0.0.1:5000/event/${eventId}`, {\r\n      method: 'GET',\r\n      headers: new Headers({\r\n        Accept: 'application/json',\r\n        'Content-Type': 'application/json',\r\n      }),\r\n    })\r\n\r\n    const response = await fetch(request)\r\n    const data = await response.json()\r\n    dispatch(getEventDetailData(data))\r\n  }\r\n}\r\n\r\n//會員報名一筆活動\r\nexport const memberJoinEvent = data => ({\r\n  type: 'APPLY_EVENT',\r\n  value: data,\r\n})\r\n\r\nexport const memberJoinEventAsync = (eventId, memberMemo) => {\r\n  return async dispatch => {\r\n    const fd = new FormData()\r\n    fd.append('memberMemo', memberMemo)\r\n    const request = new Request(\r\n      `http://127.0.0.1:5000/member/event/join/${eventId}`,\r\n      {\r\n        method: 'POST',\r\n        body: fd,\r\n        credentials: 'include',\r\n        headers: new Headers({\r\n          'access-token': Cookie.get('token'),\r\n        }),\r\n      }\r\n    )\r\n\r\n    const response = await fetch(request)\r\n    const data = await response.json()\r\n    dispatch(memberJoinEvent(data))\r\n  }\r\n}\r\n\r\n//會員取得自己發起的活動資料\r\nexport const memberGetEventDataSelf = data => ({\r\n  type: 'GET_MEMBER_EVENT_SELF',\r\n  value: data,\r\n})\r\n\r\nexport const memberGetEventDataAsync = (sort, page, nowClickTag, isEnable) => {\r\n  return async dispatch => {\r\n    let url = null\r\n\r\n    let query = []\r\n\r\n    if (sort) query.push(`sort=${sort.trim()}`)\r\n    if (page) query.push(`page=${page.trim()}`)\r\n    if (isEnable) query.push(`expired=1`)\r\n    if (query.length > 0) {\r\n      query = query.join('&')\r\n    } else {\r\n      query = ''\r\n    }\r\n\r\n    //依據點擊的tag給予不同的路徑\r\n    // 1 = 取得會員自己發起的活動\r\n    // 2 = 取得會員報名的活動\r\n    switch (nowClickTag) {\r\n      case 1:\r\n        url = `http://127.0.0.1:5000/member/event/self?${query}`\r\n        break\r\n      case 2:\r\n        url = `http://127.0.0.1:5000/member/event/join?${query}`\r\n        break\r\n      default:\r\n    }\r\n\r\n    const request = new Request(url, {\r\n      method: 'GET',\r\n      credentials: 'include',\r\n      headers: new Headers({\r\n        'access-token': Cookie.get('token'),\r\n      }),\r\n    })\r\n\r\n    const response = await fetch(request)\r\n    const data = await response.json()\r\n    dispatch(memberGetEventDataSelf(data))\r\n  }\r\n}\r\n\r\n//會員刪除自己發起的活動資料\r\nexport const delEventData = data => ({\r\n  type: 'DEL_EVENTDATA',\r\n  value: data,\r\n})\r\n\r\nexport const delEventDataAsync = eventId => {\r\n  return async dispatch => {\r\n    const request = new Request(\r\n      `http://127.0.0.1:5000/member/event/${eventId}`,\r\n      {\r\n        method: 'DELETE',\r\n        credentials: 'include',\r\n        headers: new Headers({\r\n          'access-token': Cookie.get('token'),\r\n        }),\r\n      }\r\n    )\r\n\r\n    const response = await fetch(request)\r\n    const data = await response.json()\r\n    dispatch(delEventData(data))\r\n  }\r\n}\r\n\r\n//會員取消報名活動\r\nexport const memberUnJoinEvent = data => ({\r\n  type: 'UNJOIN_EVENT',\r\n  value: data,\r\n})\r\n\r\nexport const memberUnJoinEventAsync = eventId => {\r\n  return async dispatch => {\r\n    const request = new Request(\r\n      `http://127.0.0.1:5000/member/event/join/${eventId}`,\r\n      {\r\n        method: 'DELETE',\r\n        credentials: 'include',\r\n        headers: new Headers({\r\n          'access-token': Cookie.get('token'),\r\n        }),\r\n      }\r\n    )\r\n\r\n    const response = await fetch(request)\r\n    const data = await response.json()\r\n    console.log(data)\r\n    dispatch(memberUnJoinEvent(data))\r\n  }\r\n}\r\n\r\n//會員新增一筆活動資料\r\nexport const addEventData = data => ({\r\n  type: 'ADD_EVENTDATA',\r\n  value: data,\r\n})\r\n\r\n//formData = 傳送過來的表單值\r\nexport const addEventDataAsync = formData => {\r\n  return async dispatch => {\r\n    const fd = new FormData()\r\n    for (let key in formData) {\r\n      fd.append(`${key}`, formData[key])\r\n    }\r\n\r\n    const request = new Request(`http://127.0.0.1:5000/member/event`, {\r\n      method: 'POST',\r\n      body: fd,\r\n      credentials: 'include',\r\n      headers: new Headers({\r\n        'access-token': Cookie.get('token'),\r\n      }),\r\n    })\r\n\r\n    const response = await fetch(request)\r\n    const data = await response.json()\r\n    dispatch(addEventData(data))\r\n  }\r\n}\r\n\r\n//取得單一筆詳細資料\r\nexport const getMemberEventDetailData = data => ({\r\n  type: 'GET_EVENTDETAILDATA_FORMEMBER',\r\n  value: data,\r\n})\r\n\r\nexport const getMemberEventDetailDataAsync = eventId => {\r\n  return async dispatch => {\r\n    const request = new Request(\r\n      `http://127.0.0.1:5000/member/event/self/${eventId}`,\r\n      {\r\n        method: 'GET',\r\n        credentials: 'include',\r\n        headers: new Headers({\r\n          'access-token': Cookie.get('token'),\r\n        }),\r\n      }\r\n    )\r\n\r\n    const response = await fetch(request)\r\n    const data = await response.json()\r\n    dispatch(getMemberEventDetailData(data))\r\n  }\r\n}\r\n\r\n//編輯活動資料\r\nexport const editEventData = data => ({\r\n  type: 'EDIT_EVENTDATA',\r\n  value: data,\r\n})\r\n\r\n//formData = 傳送過來的表單值\r\nexport const editEventDataAsync = (formData, eventId) => {\r\n  return async dispatch => {\r\n    const fd = new FormData()\r\n    for (let key in formData) {\r\n      fd.append(`${key}`, formData[key])\r\n    }\r\n\r\n    const request = new Request(\r\n      `http://127.0.0.1:5000/member/event/${eventId}`,\r\n      {\r\n        method: 'PUT',\r\n        body: fd,\r\n        credentials: 'include',\r\n        headers: new Headers({\r\n          'access-token': Cookie.get('token'),\r\n        }),\r\n      }\r\n    )\r\n\r\n    const response = await fetch(request)\r\n    const data = await response.json()\r\n    dispatch(editEventData(data))\r\n  }\r\n}\r\n\r\n//會員取消其他人的報名\r\nexport const memberUnOtherJoinEvent = data => ({\r\n  type: 'UNJOIN_OTHER_EVENT',\r\n  value: data,\r\n})\r\n\r\nexport const memberUnOtherJoinEventAsync = (eventId, memberId) => {\r\n  return async dispatch => {\r\n    const fd = new FormData()\r\n    fd.append('memberId', memberId)\r\n    const request = new Request(\r\n      `http://127.0.0.1:5000/member/event/unjoin/${eventId}`,\r\n      {\r\n        method: 'DELETE',\r\n        body: fd,\r\n        credentials: 'include',\r\n        headers: new Headers({\r\n          'access-token': Cookie.get('token'),\r\n        }),\r\n      }\r\n    )\r\n\r\n    const response = await fetch(request)\r\n    const data = await response.json()\r\n    dispatch(memberUnOtherJoinEvent(data))\r\n  }\r\n}\r\n\r\n//取得聊天室列表\r\nexport const memberGetChatList = data => ({\r\n  type: 'MEMBER_GET_CHATLIST',\r\n  value: data,\r\n})\r\n\r\nexport const memberGetChatListAsync = mylist => {\r\n  return async dispatch => {\r\n    const request = new Request(\r\n      `http://127.0.0.1:5000/member/event/chatList?mylist=${mylist}`,\r\n      {\r\n        method: 'GET',\r\n        headers: new Headers({\r\n          'access-token': Cookie.get('token'),\r\n        }),\r\n      }\r\n    )\r\n\r\n    const response = await fetch(request)\r\n    const data = await response.json()\r\n    console.log(data)\r\n    dispatch(memberGetChatList(data))\r\n  }\r\n}\r\n\r\n//是否按下已過期按鈕\r\nexport const switchButtonisEnable = isEnable => ({\r\n  type: 'SWITCHBUTTON_ENABLE',\r\n  value: !isEnable,\r\n})\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport Fade from 'react-reveal/Fade'\r\n\r\n//傳入參數 props.eventData = 存放活動資料的陣列\r\n//2020-03-21\r\nfunction EventDataList(props) {\r\n  return (\r\n    <>\r\n      <div className=\"row\">\r\n        {props.eventData.result && props.eventData.result.length > 0 ? (\r\n          props.eventData.result.map((value, index) => {\r\n            // 變數 status = 判斷目前人數或時間決定顯示什麼\r\n            let status = '火熱揪團中'\r\n            let newEventName = value.eventName\r\n            let progress = (value.eventNowPeople / value.eventNeedPeople) * 100\r\n\r\n            if (value.eventNeedPeople === value.eventNowPeople)\r\n              status = '已額滿'\r\n\r\n            if (new Date(value.eventEndDate).getTime() < new Date().getTime())\r\n              status = '已過期'\r\n\r\n            if (props.eventData.searchKeyword) {\r\n              console.log(newEventName.indexOf(props.eventData.searchKeyword))\r\n            }\r\n\r\n            return (\r\n              <Fade bottom key={index}>\r\n                <div className=\"col-xl-3 col-10 eventInfoBox\" key={index}>\r\n                  <div className=\"eventContentBox\">\r\n                    <div className=\"eventImgBox\">\r\n                      <img\r\n                        src={\r\n                          'http://127.0.0.1:5000/images/eventImg/' +\r\n                          value.eventImg\r\n                        }\r\n                        alt=\"\"\r\n                      />\r\n                    </div>\r\n                    <div className=\"eventDetailBox\">\r\n                      <h2 className=\"eventTitle\">{newEventName}</h2>\r\n                      <ul className=\"d-flex\">\r\n                        <li>\r\n                          <img src=\"/images/eventImg/icons/type.svg\" alt=\"\" />\r\n                          {value.eventType}\r\n                        </li>\r\n                        <li>\r\n                          <img src=\"/images/eventImg/icons/local.svg\" alt=\"\" />\r\n                          {value.eventLocation}\r\n                        </li>\r\n                      </ul>\r\n                      <ul>\r\n                        <li>\r\n                          <img src=\"/images/eventImg/icons/member.svg\" alt=\"\" />\r\n                          {value.loginId}\r\n                        </li>\r\n                        <li>\r\n                          <img src=\"/images/eventImg/icons/date.svg\" alt=\"\" />\r\n                          報名期限：{value.eventEndDate} 止\r\n                        </li>\r\n                        <li>\r\n                          <img src=\"/images/eventImg/icons/date.svg\" alt=\"\" />\r\n                          活動日期：{value.eventStartDate}\r\n                        </li>\r\n                      </ul>\r\n                      <p className=\"status\">{status}</p>\r\n                      <p className=\"quota\">\r\n                        徵求 <span>{value.eventNeedPeople}</span> 人 還剩{' '}\r\n                        <span>\r\n                          {value.eventNeedPeople - value.eventNowPeople}\r\n                        </span>{' '}\r\n                        名額\r\n                      </p>\r\n                      <div\r\n                        className=\"progress_container\"\r\n                        data-progress={parseInt(progress) + '%'}\r\n                      >\r\n                        <div className=\"progress progress-danger progress-striped active\">\r\n                          <div\r\n                            className=\"bar\"\r\n                            style={{ width: progress + '%' }}\r\n                          ></div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"d-flex justify-content-center\">\r\n                      <Link\r\n                        className=\"btn-more btn btn-raised btn-warning\"\r\n                        to={'/event/' + value.eventId}\r\n                      >\r\n                        了解詳情\r\n                      </Link>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </Fade>\r\n            )\r\n          })\r\n        ) : (\r\n          <div className=\"col-12\">\r\n            <h2 className=\"text-white text-center\">查無相關資料</h2>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default EventDataList\r\n","import React, { useState, useEffect } from 'react'\r\nimport SwitchButton from './MemberEventComponents/SwitchButton'\r\n\r\n//傳入方法 props.getEventData() = 向伺服器請求新的資料\r\n//傳入方法 props.setIsEnable() = 設定開關狀態\r\n//傳入參數 props.isEnable() = 開關狀態\r\n//2020-03-25\r\nfunction EventSearchBar(props) {\r\n  //每次點擊SwitchButton就改變state\r\n  const toggleSwitchButton = () => {\r\n    props.setIsEnable(!!props.isEnable)\r\n  }\r\n  return (\r\n    <>\r\n      <div className=\"row d-flex searchBox\">\r\n        <div className=\"col-xl-3 col-12\">\r\n          <div className=\"d-flex switchbutton-jy align-items-center justify-content-end\">\r\n            <p>包含已過期資料</p>\r\n            <SwitchButton\r\n              type=\"button\"\r\n              active={props.isEnable}\r\n              clicked={toggleSwitchButton}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"col-xl-2 col-12 d-flex\">\r\n          <select\r\n            name=\"type\"\r\n            className=\"form-control mx-2\"\r\n            onChange={() => {\r\n              props.getEventData()\r\n            }}\r\n          >\r\n            <option value=\"\">選擇活動類別</option>\r\n            {props.eventTypeData.length > 0\r\n              ? props.eventTypeData.map((value, index) => {\r\n                  return (\r\n                    <option value={value.eventTypeName} key={index}>\r\n                      {value.eventTypeName}\r\n                    </option>\r\n                  )\r\n                })\r\n              : ''}\r\n          </select>\r\n        </div>\r\n        <div className=\"col-xl-2 col-12 d-flex\">\r\n          <select\r\n            name=\"sort\"\r\n            className=\"form-control mx-2\"\r\n            onChange={() => {\r\n              props.getEventData()\r\n            }}\r\n          >\r\n            <option value=\"\">選擇排序方式</option>\r\n            <option value=\"eventStartDate,asc\">日期由近到遠</option>\r\n            <option value=\"eventStartDate,desc\">日期由遠到近</option>\r\n            <option value=\"eventNeedPeople,asc\">名額由少至多</option>\r\n            <option value=\"eventNeedPeople,desc\">名額由多至少</option>\r\n          </select>\r\n        </div>\r\n        <div className=\"col-xl col-12 d-flex\">\r\n          <div className=\"mx-2\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control searchInput\"\r\n              placeholder=\"搜索主題\"\r\n            ></input>\r\n          </div>\r\n          <div>\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn-search btn btn-outline-secondary\"\r\n              onClick={() => {\r\n                props.getEventData()\r\n              }}\r\n            >\r\n              搜索\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default EventSearchBar\r\n","import React, { useEffect, useState } from 'react'\r\n\r\n//引入redux元件\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\n\r\n//引入action\r\nimport {\r\n  getEventDataAsync,\r\n  getEventTypeDataAsync,\r\n  switchButtonisEnable,\r\n} from '../../actions/event/event_Actions'\r\n\r\n//引入自訂元件\r\nimport Header from '../../components/Header' //導航列\r\nimport Banner from '../../components/Banner' //橫幅廣告\r\nimport Footer from '../../components/Footer' //頁腳\r\nimport Loading from '../../components/class/Loading' //載入中圖示\r\nimport EventDataList from '../../components/event/EventDataList' //活動資料列表\r\nimport EventSearchBar from '../../components/event/EventSearchBar' //活動搜索框\r\nimport EventPageButtons from '../../components/event/EventPageButtons' //活動頁數按鈕\r\nimport { Link } from 'react-router-dom'\r\n\r\n/*\r\n  store參數 props.eventTypeData = 活動類別資料\r\n  store參數 props.eventData = 活動列表資料\r\n  store方法 props.getEventDataAsync() = 取得活動資料\r\n  store方法 props.getEventTypeDataAsync() = 取得活動類型資料\r\n  2020-03-21\r\n*/\r\nfunction EventList(props) {\r\n  const [hasloading, setHasLoading] = useState(true) //是否正在載入中\r\n\r\n  useEffect(() => {\r\n    props.getEventTypeDataAsync()\r\n  }, [])\r\n\r\n  //每次資料有變動就將新資料存進本地state\r\n  useEffect(() => {\r\n    //設定載入中為true\r\n    // setHasLoading(true)\r\n    setTimeout(() => {\r\n      if (props.eventData.status) {\r\n        //確認有收到資料之後設定載入中為false\r\n        setHasLoading(false)\r\n      }\r\n    }, 500)\r\n  }, [props.eventData])\r\n\r\n  //每次按鈕被點擊時，就取得新資料\r\n  useEffect(() => {\r\n    getEventData()\r\n  }, [props.isEnable])\r\n\r\n  //向伺服器取得新資料\r\n  const getEventData = page => {\r\n    //取得select的值，作為類型、等級的篩選參數\r\n    const type = document.querySelector('select[name=\"type\"]').value\r\n    const sort = document.querySelector('select[name=\"sort\"]').value\r\n    const q = document.querySelector('input.searchInput').value\r\n    props.getEventDataAsync(type, q, sort, page, props.isEnable)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <Banner BannerImgSrc=\"./images/eventImg/eventBanner1.png\" />\r\n      <div className=\"d-flex justify-content-center\">\r\n        <Link\r\n          to=\"/eventmaplist\"\r\n          type=\"button\"\r\n          className=\"btn btn-outline-primary\"\r\n        >\r\n          用地圖查找\r\n        </Link>\r\n      </div>\r\n      <div className=\"container JY-event-container\">\r\n        <EventSearchBar\r\n          eventTypeData={props.eventTypeData}\r\n          getEventData={getEventData}\r\n          setIsEnable={props.switchButtonisEnable}\r\n          isEnable={props.isEnable}\r\n        />\r\n        {hasloading ? (\r\n          <Loading />\r\n        ) : (\r\n          <>\r\n            <EventDataList eventData={props.eventData} />\r\n            <EventPageButtons\r\n              totalPages={props.eventData.totalPages}\r\n              getDataFromServer={getEventData}\r\n            />\r\n          </>\r\n        )}\r\n      </div>\r\n      <Footer />\r\n    </>\r\n  )\r\n}\r\n\r\n// 取得Redux中store的值\r\nconst mapStateToProps = store => {\r\n  return {\r\n    eventData: store.eventReducer.eventData,\r\n    eventTypeData: store.eventReducer.eventTypeData,\r\n    isEnable: store.eventReducer.isEnable,\r\n  }\r\n}\r\n\r\n// 指示dispatch要綁定哪些action creators\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    { getEventDataAsync, getEventTypeDataAsync, switchButtonisEnable },\r\n    dispatch\r\n  )\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(EventList)\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport Fade from 'react-reveal/Fade'\r\n\r\n//傳入參數 props.eventData = 存放活動資料的陣列\r\n//2020-03-21\r\nfunction EventDataList(props) {\r\n  return (\r\n    <>\r\n      <div className=\"row\">\r\n        {props.eventData && props.eventData.length > 0 ? (\r\n          props.eventData.map((value, index) => {\r\n            let progress = (value.eventNowPeople / value.eventNeedPeople) * 100\r\n\r\n            return (\r\n              <Fade right key={index}>\r\n                <div\r\n                  className={\r\n                    index === 0\r\n                      ? 'col-xl-12 col-10 eventInfoBox eventMapList-JY mt-0'\r\n                      : 'col-xl-12 col-10 eventInfoBox eventMapList-JY boxHide'\r\n                  }\r\n                  key={index}\r\n                  data-eventId={value.eventId}\r\n                >\r\n                  <div className=\"eventContentBox d-flex\">\r\n                    <div className=\"eventImgBox col-7\">\r\n                      <img\r\n                        src={\r\n                          'http://127.0.0.1:5000/images/eventImg/' +\r\n                          value.eventImg\r\n                        }\r\n                        alt=\"\"\r\n                      />\r\n                    </div>\r\n                    <div className=\"eventDetailBox col-5\">\r\n                      <h2 className=\"eventTitle\">{value.eventName}</h2>\r\n                      <ul className=\"d-flex\">\r\n                        <li>\r\n                          <img src=\"/images/eventImg/icons/type.svg\" alt=\"\" />\r\n                          {value.eventType}\r\n                        </li>\r\n                        <li>\r\n                          <img src=\"/images/eventImg/icons/local.svg\" alt=\"\" />\r\n                          {value.eventLocation}\r\n                        </li>\r\n                      </ul>\r\n                      <ul>\r\n                        <li>\r\n                          <img src=\"/images/eventImg/icons/member.svg\" alt=\"\" />\r\n                          {value.loginId}\r\n                        </li>\r\n                        <li>\r\n                          <img src=\"/images/eventImg/icons/date.svg\" alt=\"\" />\r\n                          報名期限：{value.eventEndDate} 止\r\n                        </li>\r\n                        <li>\r\n                          <img src=\"/images/eventImg/icons/date.svg\" alt=\"\" />\r\n                          活動日期：{value.eventStartDate}\r\n                        </li>\r\n                      </ul>\r\n                      <p className=\"quota\">\r\n                        徵求 <span>{value.eventNeedPeople}</span> 人 還剩{' '}\r\n                        <span>\r\n                          {value.eventNeedPeople - value.eventNowPeople}\r\n                        </span>{' '}\r\n                        名額\r\n                      </p>\r\n                      <div\r\n                        className=\"progress_container\"\r\n                        data-progress={parseInt(progress) + '%'}\r\n                      >\r\n                        <div className=\"progress progress-danger progress-striped active\">\r\n                          <div\r\n                            className=\"bar\"\r\n                            style={{ width: progress + '%' }}\r\n                          ></div>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"d-flex justify-content-center\">\r\n                        <Link\r\n                          className=\"btn-more btn btn-raised btn-warning mt-3\"\r\n                          to={'/event/' + value.eventId}\r\n                        >\r\n                          了解詳情\r\n                        </Link>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </Fade>\r\n            )\r\n          })\r\n        ) : (\r\n          <div className=\"col-12\">\r\n            <h2 className=\"text-white text-center\">查無相關資料</h2>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default EventDataList\r\n","import React, { useEffect, useState } from 'react'\r\n\r\n//引入Google Map組件\r\nimport {\r\n  withScriptjs,\r\n  withGoogleMap,\r\n  GoogleMap,\r\n  Marker,\r\n} from 'react-google-maps'\r\nimport { MarkerClusterer } from 'react-google-maps/lib/components/addons/MarkerClusterer'\r\n\r\n//引入redux元件\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\n\r\n//引入action\r\nimport {\r\n  getEventDataForMapAsync,\r\n  getEventTypeDataAsync,\r\n  switchButtonisEnable,\r\n} from '../../actions/event/event_Actions'\r\n\r\n//引入自訂元件\r\nimport Header from '../../components/Header'\r\nimport Banner from '../../components/Banner'\r\nimport Footer from '../../components/Footer'\r\nimport Loading from '../../components/class/Loading'\r\nimport EventMapDataList from '../../components/event/EventMapDataList'\r\nimport EventSearchBar from '../../components/event/EventSearchBar'\r\n\r\nfunction EventMapList(props) {\r\n  const [eventDataForMap, setEventDataForMap] = useState([]) //存放地圖專用資料\r\n  const [hasloading, setHasLoading] = useState(false) //是否正在載入中\r\n  const [isEnable, setIsEnable] = useState() //是否按下 \"包含已過期資料的按鈕\"\r\n\r\n  useEffect(() => {\r\n    props.getEventDataForMapAsync()\r\n    props.getEventTypeDataAsync()\r\n  }, [])\r\n\r\n  //每當eventDataForMap改變時就提示載入中\r\n  useEffect(() => {\r\n    setHasLoading(true)\r\n    setTimeout(() => {\r\n      if (props.eventDataForMap.status) {\r\n        setHasLoading(false)\r\n        setEventDataForMap(props.eventDataForMap.result)\r\n      }\r\n    }, 500)\r\n  }, [props.eventDataForMap])\r\n\r\n  //每次按鈕被點擊時，就取得新資料\r\n  useEffect(() => {\r\n    getEventData()\r\n  }, [props.isEnable])\r\n\r\n  const getEventData = () => {\r\n    const type = document.querySelector('select[name=\"type\"]').value\r\n    const sort = document.querySelector('select[name=\"sort\"]').value\r\n    const q = document.querySelector('input.searchInput').value\r\n    props.getEventDataForMapAsync(type, q, sort, props.isEnable)\r\n  }\r\n\r\n  let ref //建立一個ref，用來接收地圖參照\r\n\r\n  //處理地圖邊界改變時的事件\r\n  const onBoundsChanged = () => {\r\n    //boxList = 找到所有列表上的資料\r\n    const boxList = document.querySelectorAll(\r\n      'div.col-xl-12.col-10.eventInfoBox.eventMapList-JY'\r\n    )\r\n    //透過forEach將所有資料隱藏起來\r\n    boxList.forEach(value => {\r\n      value.style.display = 'none'\r\n    })\r\n\r\n    if (eventDataForMap && eventDataForMap.length > 0) {\r\n      eventDataForMap.map(value => {\r\n        //運用Google Map Api\r\n        //.getBounds() = 可以取得目前窗口的邊界值\r\n        //.contains() = 可以確認傳入的經緯度是不是有在剛剛取得的範圍內，有就回傳true\r\n        if (\r\n          ref.getBounds().contains({\r\n            lat: parseFloat(value.eventLocation_lat),\r\n            lng: parseFloat(value.eventLocation_lng),\r\n          })\r\n        ) {\r\n          //如果有符合的對象，就顯示他們\r\n          document.querySelector(\r\n            `div.col-xl-12.col-10.eventInfoBox.eventMapList-JY[data-eventId=\"${value.eventId}\"]`\r\n          ).style.display = 'block'\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  const MyMapComponent = withScriptjs(\r\n    withGoogleMap(props => (\r\n      <GoogleMap\r\n        defaultZoom={8}\r\n        ref={mapRef => (ref = mapRef)} //綁定ref到我們定義的ref裡，這樣才能參照到地圖物件，然後取得方法\r\n        defaultCenter={{ lat: 23.5, lng: 120.8 }}\r\n        onBoundsChanged={onBoundsChanged}\r\n        options={{ gestureHandling: 'greedy' }}\r\n      >\r\n        <MarkerClusterer gridSize={20}>\r\n          {eventDataForMap\r\n            ? eventDataForMap.map((value, index) => {\r\n                return (\r\n                  <Marker\r\n                    key={index}\r\n                    position={{\r\n                      lat: parseFloat(value.eventLocation_lat),\r\n                      lng: parseFloat(value.eventLocation_lng),\r\n                    }}\r\n                  />\r\n                )\r\n              })\r\n            : ''}\r\n        </MarkerClusterer>\r\n      </GoogleMap>\r\n    ))\r\n  )\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <Banner BannerImgSrc=\"./images/eventImg/eventBanner1.png\" />\r\n      <div className=\"container-fluid JY-event-container-maplist\">\r\n        <EventSearchBar\r\n          getEventData={getEventData}\r\n          eventTypeData={props.eventTypeData}\r\n          setIsEnable={props.switchButtonisEnable}\r\n          isEnable={props.isEnable}\r\n        />\r\n        {hasloading ? (\r\n          <Loading />\r\n        ) : (\r\n          <>\r\n            <div className=\"row\">\r\n              <div className=\"col-8\">\r\n                <MyMapComponent\r\n                  isMarkerShown\r\n                  googleMapURL={`https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=AIzaSyC3kp9ZM2JgqNLY4_xNhQQNUNAF-UmogvA`}\r\n                  loadingElement={<div style={{ height: `100%` }} />}\r\n                  containerElement={\r\n                    <div style={{ width: `100%`, height: `800px` }} />\r\n                  }\r\n                  mapElement={<div style={{ height: `100%` }} />}\r\n                />\r\n              </div>\r\n              <div className=\"col-4 eventListBox\">\r\n                <EventMapDataList eventData={eventDataForMap} />\r\n              </div>\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n      <Footer />\r\n    </>\r\n  )\r\n}\r\n\r\n// 取得Redux中store的值\r\nconst mapStateToProps = store => {\r\n  return {\r\n    eventDataForMap: store.eventReducer.eventDataForMap,\r\n    eventTypeData: store.eventReducer.eventTypeData,\r\n    isEnable: store.eventReducer.isEnable,\r\n  }\r\n}\r\n\r\n// 指示dispatch要綁定哪些action creators\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    { getEventDataForMapAsync, getEventTypeDataAsync, switchButtonisEnable },\r\n    dispatch\r\n  )\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(EventMapList)\r\n","import React, { useEffect, useState } from 'react'\r\n\r\n//傳入參數 props.weatherData = 當地天氣資料\r\n//2020-03-21\r\nfunction EventWeatherContent(props) {\r\n  const [weatherData, setWeatherData] = useState([]) //存放天氣資料的陣列\r\n  let sliderIndex = 0\r\n\r\n  //取出天氣資料存放到本地state\r\n  useEffect(() => {\r\n    const nowWeatherDataArr = []\r\n    //如果天氣資料存在\r\n    if (props.weatherData[0]) {\r\n      //push到新陣列\r\n      nowWeatherDataArr.push(props.weatherData[0]['1day'])\r\n      nowWeatherDataArr.push(props.weatherData[0]['2day'])\r\n      nowWeatherDataArr.push(props.weatherData[0]['3day'])\r\n      nowWeatherDataArr.push(props.weatherData[0]['4day'])\r\n      nowWeatherDataArr.push(props.weatherData[0]['5day'])\r\n      nowWeatherDataArr.push(props.weatherData[0]['6day'])\r\n      setWeatherData(nowWeatherDataArr)\r\n    }\r\n  }, [props.weatherData])\r\n\r\n  const handleWeatherSlider = () => {\r\n    const silderBox = document.querySelector('div.silderBox')\r\n    silderBox.style.transform = `translateX(-${sliderIndex * 345}px)`\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"weatherBox\">\r\n        <div\r\n          className=\"arrow-left\"\r\n          onClick={() => {\r\n            if (sliderIndex <= 0) {\r\n              sliderIndex = 0\r\n            } else {\r\n              sliderIndex = sliderIndex - 1\r\n            }\r\n            handleWeatherSlider()\r\n          }}\r\n        >\r\n          <i class=\"fas fa-arrow-left\"></i>\r\n        </div>\r\n        <div\r\n          className=\"arrow-right\"\r\n          onClick={() => {\r\n            if (sliderIndex >= 2) {\r\n              sliderIndex = 2\r\n            } else {\r\n              sliderIndex = sliderIndex + 1\r\n            }\r\n            handleWeatherSlider()\r\n          }}\r\n        >\r\n          <i class=\"fas fa-arrow-right\"></i>\r\n        </div>\r\n        <div className=\"d-flex silderBox\">\r\n          {weatherData.length > 0 && weatherData[0]\r\n            ? weatherData.map((value, index) => {\r\n                return (\r\n                  <>\r\n                    <div className=\"col-xl-2 col-6 weatherInfo\" key={index}>\r\n                      <p>{value.date}</p>\r\n                      <figure className=\"WxImg\">\r\n                        <img src={value.WxImg} alt=\"\" />\r\n                      </figure>\r\n                      <ul className=\"d-flex\">\r\n                        <li>\r\n                          <img\r\n                            src=\"/images/eventImg/icons/detail/MaxT.svg\"\r\n                            alt=\"\"\r\n                          />\r\n                          {value.MaxT + '度'}\r\n                        </li>\r\n                        <li>\r\n                          <img\r\n                            src=\"/images/eventImg/icons/detail/MinT.svg\"\r\n                            alt=\"\"\r\n                          />\r\n                          {value.MinT + '度'}\r\n                        </li>\r\n                      </ul>\r\n                      <p>{'降雨 ' + value.rain}</p>\r\n                      <p>\r\n                        <img\r\n                          src=\"/images/eventImg/icons/detail/waveH.svg\"\r\n                          alt=\"\"\r\n                        />\r\n                        {value.waveH + '(m)'}\r\n                      </p>\r\n                      <p>\r\n                        <i\r\n                          class=\"fas fa-angle-double-down\"\r\n                          style={{\r\n                            transform: 'rotate(' + value.waveDirNum + 'deg)',\r\n                          }}\r\n                        ></i>\r\n                        {'  ' + value.waveDir}\r\n                      </p>\r\n                    </div>\r\n                  </>\r\n                )\r\n              })\r\n            : ''}\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default EventWeatherContent\r\n","import React, { useEffect, useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport SweetAlert from '../class/SellerClassComponents/Sweetalert2'\r\n\r\n//引入自訂元件\r\nimport EventWeatherContent from './EventWeatherContent' //天氣資料的框框\r\n\r\n//傳入參數 props.eventData = 活動詳細資料\r\n//傳入參數 props.weatherData = 當地天氣資料\r\n//2020-03-21\r\nfunction EventDetailDataContent(props) {\r\n  const [progress, setProgress] = useState(0) //計算進度條用的state\r\n\r\n  const [response, setResponse] = useState(false) //確認是否有收到response資料\r\n\r\n  //每當response改變時就秀出提示視窗\r\n  useEffect(() => {\r\n    if (response) {\r\n      if (props.memberJoinEventResponse.status === 201) {\r\n        SweetAlert.success('報名成功!')\r\n        setResponse(false)\r\n      } else {\r\n        SweetAlert.errorAlert(\r\n          props.memberJoinEventResponse.status,\r\n          props.memberJoinEventResponse.msg\r\n        )\r\n        setResponse(false)\r\n      }\r\n    }\r\n  }, [response])\r\n\r\n  useEffect(() => {\r\n    const progressNum =\r\n      (props.eventData.eventNowPeople / props.eventData.eventNeedPeople) * 100\r\n    setProgress(progressNum)\r\n  }, [props.eventData])\r\n\r\n  return (\r\n    <>\r\n      {props.eventData ? (\r\n        <>\r\n          <div className=\"row eventDataBox\">\r\n            <div className=\"col-xl-6\">\r\n              <div className=\"eventImgBox\">\r\n                <img\r\n                  src={\r\n                    'http://127.0.0.1:5000/images/eventImg/' +\r\n                    props.eventData.eventImg\r\n                  }\r\n                  alt=\"\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"col-xl-5 eventInfoBox\">\r\n              <h1>{props.eventData.eventName}</h1>\r\n              <p>\r\n                <img src=\"/images/eventImg/icons/detail/member.svg\" alt=\"\" />\r\n                {props.eventData.loginId + ' 發起的揪團'}\r\n              </p>\r\n              <p>\r\n                <img src=\"/images/eventImg/icons/detail/date.svg\" alt=\"\" />\r\n                {'報名期限：' + props.eventData.eventEndDate}\r\n              </p>\r\n              <p>\r\n                <img src=\"/images/eventImg/icons/detail/date.svg\" alt=\"\" />\r\n                {'活動日期：' + props.eventData.eventStartDate}\r\n              </p>\r\n              <p>\r\n                <img src=\"/images/eventImg/icons/detail/local.svg\" alt=\"\" />\r\n                {'活動地點：' + props.eventData.eventFullLocation}\r\n              </p>\r\n              <p className=\"quota\">\r\n                徵求 <span>{props.eventData.eventNeedPeople}</span> 人 還剩{' '}\r\n                <span>\r\n                  {props.eventData.eventNeedPeople -\r\n                    props.eventData.eventNowPeople}\r\n                </span>{' '}\r\n                名額\r\n              </p>\r\n\r\n              <div\r\n                className=\"progress_container\"\r\n                data-progress={parseInt(progress) + '%'}\r\n              >\r\n                <div className=\"progress progress-danger progress-striped active\">\r\n                  <div className=\"bar\" style={{ width: progress + '%' }}></div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"row\">\r\n            <div className=\"col-12 weatherTitle d-flex justify-content-center\">\r\n              <h2>{props.eventData.eventFullLocation + ' 附近的天氣'}</h2>\r\n              <a\r\n                href={`https://www.windy.com/${props.eventData.eventLocation_lat}/${props.eventData.eventLocation_lng}waves?waves,24.112,121.841,8,m:el8ajyf`}\r\n                target=\"_blank\"\r\n              >\r\n                查看更詳細的天氣\r\n              </a>\r\n            </div>\r\n          </div>\r\n          <EventWeatherContent weatherData={props.weatherData} />\r\n          <div className=\"row\">\r\n            <div className=\"col-12 weatherTitle\">\r\n              <h2>活動說明</h2>\r\n            </div>\r\n          </div>\r\n          <div className=\"eventDesc\">\r\n            <pre>{props.eventData.eventDesc}</pre>\r\n          </div>\r\n          <div className=\"d-flex justify-content-center btn-box\">\r\n            <button\r\n              className=\"btn-join btn btn-raised btn-warning\"\r\n              disabled={\r\n                props.eventData.eventNowPeople >=\r\n                  props.eventData.eventNeedPeople ||\r\n                new Date(props.eventData.eventStartDate).getTime() <\r\n                  new Date().getTime()\r\n                  ? true\r\n                  : false\r\n              }\r\n              onClick={() => {\r\n                let msgArr = [\r\n                  {\r\n                    title: '輸入備註訊息',\r\n                    text: '輸入你想給主辦者的備註 ex: 只吃素食等',\r\n                    input: 'text',\r\n                  },\r\n                  {\r\n                    title: '確認報名資訊',\r\n                    html: `<h2>主題：${props.eventData.eventName}</h2>\r\n                            <p>類型：${props.eventData.eventType}</p>\r\n                            <p>活動地點：${props.eventData.eventFullLocation}</p>\r\n                            <p>開始日期：${props.eventData.eventStartDate}</p>\r\n                            `,\r\n                  },\r\n                ]\r\n                SweetAlert.questionAlert(\r\n                  ['1', '2'],\r\n                  msgArr,\r\n                  setResponse,\r\n                  true,\r\n                  props.memberJoinEventAsync,\r\n                  props.eventData.eventId\r\n                )\r\n              }}\r\n            >\r\n              {props.eventData.eventNowPeople >= props.eventData.eventNeedPeople\r\n                ? '已額滿'\r\n                : '參加揪團'}\r\n            </button>\r\n          </div>\r\n        </>\r\n      ) : (\r\n        ''\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default EventDetailDataContent\r\n","import React, { useEffect, useState } from 'react'\r\nimport { withRouter } from 'react-router'\r\n\r\n//引入redux元件\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\n\r\n//引入action\r\nimport {\r\n  getEventDetailDataAsync,\r\n  memberJoinEventAsync,\r\n} from '../../actions/event/event_Actions'\r\n\r\n//引入自訂元件\r\nimport Header from '../../components/Header' //導航列\r\nimport Banner from '../../components/Banner' //橫幅廣告\r\nimport Footer from '../../components/Footer' //頁腳\r\nimport Loading from '../../components/class/Loading' //載入中圖示\r\nimport EventDetailDataContent from '../../components/event/EventDetailDataContent' //活動詳細資料框\r\n\r\n//store參數 props.eventDetailData = 活動詳細資料\r\n//2020-03-21\r\nfunction EventDetail(props) {\r\n  const [eventData, setEventData] = useState([]) //存放活動詳細資料的state\r\n  const [weatherData, setWeatherData] = useState([]) //存放天氣資料的state\r\n  const [hasloading, setHasLoading] = useState(false) //是否正在載入中\r\n\r\n  //取得資料\r\n  useEffect(() => {\r\n    const eventId = props.match.params.eventId\r\n    props.getEventDetailDataAsync(eventId)\r\n  }, [])\r\n\r\n  //將從資料庫取得的資料存放到本地的state\r\n  useEffect(() => {\r\n    setHasLoading(true)\r\n\r\n    //0.5秒後判斷是否有成功載入資料\r\n    setTimeout(() => {\r\n      if (props.eventDetailData.status) {\r\n        const nowEventData = props.eventDetailData.eventData\r\n          ? props.eventDetailData.eventData[0]\r\n          : ''\r\n\r\n        const nowWeatherData = props.eventDetailData.weather_data\r\n          ? props.eventDetailData.weather_data\r\n          : ''\r\n        setHasLoading(false)\r\n        setEventData(nowEventData) //將活動資料設定到本地state\r\n        setWeatherData(nowWeatherData) //將天氣資料設定到本地state\r\n      }\r\n    }, 500)\r\n  }, [props.eventDetailData])\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <Banner BannerImgSrc=\"/images/eventImg/eventBanner1.png\" />\r\n      <div className=\"container JY-event-container-detail\">\r\n        {hasloading ? (\r\n          <Loading />\r\n        ) : (\r\n          <EventDetailDataContent\r\n            eventData={eventData}\r\n            weatherData={weatherData}\r\n            memberJoinEventAsync={props.memberJoinEventAsync}\r\n            memberJoinEventResponse={props.memberJoinEventResponse}\r\n          />\r\n        )}\r\n        <Footer />\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\n// 取得Redux中store的值\r\nconst mapStateToProps = store => {\r\n  return {\r\n    eventDetailData: store.eventReducer.eventDetailData,\r\n    memberJoinEventResponse: store.eventReducer.memberJoinEventResponse,\r\n  }\r\n}\r\n\r\n// 指示dispatch要綁定哪些action creators\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    { getEventDetailDataAsync, memberJoinEventAsync },\r\n    dispatch\r\n  )\r\n}\r\n\r\nexport default withRouter(\r\n  connect(mapStateToProps, mapDispatchToProps)(EventDetail)\r\n)\r\n","//取得商品列表資料\r\nexport const getItemData = data => ({\r\n  type: 'GET_ITEMDATA',\r\n  value: data,\r\n})\r\n\r\nexport const getItemDataAsync = (type, brand, price, sort, page) => {\r\n  console.log('fetch itemlist c,b,pri,pag', type, brand, price, sort, page)\r\n  return async dispatch => {\r\n    let query = []\r\n\r\n    if (type) query.push(`type=${type.trim()}`)\r\n    if (brand) query.push(`brand=${brand.trim()}`)\r\n    if (price) query.push(`price=${price.trim()}`)\r\n    if (page) query.push(`page=${page.trim()}`)\r\n    if (sort) query.push(`sort=${sort.trim()}`)\r\n    if (query.length > 0) {\r\n      query = query.join('&')\r\n    } else {\r\n      query = ''\r\n    }\r\n    console.log('query', query)\r\n\r\n    const request = new Request(`http://127.0.0.1:5000/items?${query}`, {\r\n      method: 'GET',\r\n      headers: new Headers({\r\n        Accept: 'application/json',\r\n        'Content-Type': 'application/json',\r\n      }),\r\n    })\r\n\r\n    const response = await fetch(request)\r\n    const data = await response.json()\r\n    // console.log(data)\r\n    dispatch(getItemData(data))\r\n  }\r\n}\r\n\r\nexport const getAsideData = data => ({\r\n  type: 'GET_ASIDEDATA',\r\n  value: data,\r\n})\r\n\r\nexport const getAsideDataAsync = () => {\r\n  // console.log('fetch aside')\r\n  return async dispatch => {\r\n    const request = new Request('http://127.0.0.1:5000/itemaside', {\r\n      method: 'GET',\r\n      headers: new Headers({\r\n        Accept: 'application/json',\r\n        'Content-Type': 'application/json',\r\n      }),\r\n    })\r\n\r\n    const response = await fetch(request)\r\n    const data = await response.json()\r\n    // console.log(data)\r\n    dispatch(getAsideData(data))\r\n  }\r\n}\r\n\r\nexport const getItemDetailData = data => ({\r\n  type: 'GET_ITEMDETAILDATA',\r\n  value: data,\r\n})\r\n\r\nexport const getItemDetailDataAsync = itemId => {\r\n  console.log('fetch itemdetail', itemId)\r\n  return async dispatch => {\r\n    const request = new Request(`http://127.0.0.1:5000/items/${itemId}`, {\r\n      method: 'GET',\r\n      headers: new Headers({\r\n        Accept: 'application/json',\r\n        'Content-Type': 'application/json',\r\n      }),\r\n    })\r\n\r\n    const response = await fetch(request)\r\n    const data = await response.json()\r\n    dispatch(getItemDetailData(data))\r\n  }\r\n}\r\n\r\n//點擊時更新資料庫的使用者點擊資料\r\nexport const onClickUpdate = data => ({\r\n  type: 'CLICK_UPDATE',\r\n  value: data,\r\n})\r\n\r\nexport const onClickUpdateAsync = updatedata => {\r\n  console.log(updatedata)\r\n  return async dispatch => {\r\n    const json = JSON.stringify(updatedata)\r\n    const request = new Request(\r\n      'http://127.0.0.1:5000/seller/customermanager/user-click-update',\r\n      {\r\n        method: 'POST',\r\n        body: json,\r\n        headers: new Headers({\r\n          Accept: 'application/json',\r\n          'Content-Type': 'application/json',\r\n        }),\r\n      }\r\n    )\r\n\r\n    const response = await fetch(request)\r\n    const data = await response.json()\r\n    // console.log(data)\r\n    dispatch(onClickUpdate(data))\r\n  }\r\n}\r\n///user-click-update\r\n","const cateData = [\r\n  {\r\n    itemCategoryId: 'c001',\r\n    itemCategory: '自由潛水蛙鞋',\r\n    typeData: [\r\n      { itemTypeId: 't011', itemType: '碳纖維蛙鞋' },\r\n      { itemTypeId: 't012', itemType: '玻璃纖維蛙鞋' },\r\n      { itemTypeId: 't013', itemType: '塑膠蛙鞋' },\r\n      { itemTypeId: 't014', itemType: '蛙鞋板' },\r\n    ],\r\n  },\r\n  {\r\n    itemCategoryId: 'c002',\r\n    itemCategory: '自由潛水面鏡',\r\n    typeData: [\r\n      { itemTypeId: 't021', itemType: '玻璃面鏡' },\r\n      { itemTypeId: 't022', itemType: '塑膠面鏡' },\r\n      { itemTypeId: 't023', itemType: '液態面鏡' },\r\n    ],\r\n  },\r\n  {\r\n    itemCategoryId: 'c003',\r\n    itemCategory: '呼吸管',\r\n    typeData: [\r\n      { itemTypeId: 't031', itemType: '濕式呼吸管' },\r\n      { itemTypeId: 't032', itemType: '乾式呼吸管' },\r\n    ],\r\n  },\r\n  {\r\n    itemCategoryId: 'c004',\r\n    itemCategory: '防寒衣',\r\n    typeData: [\r\n      { itemTypeId: 't041', itemType: '一件式防寒衣' },\r\n      { itemTypeId: 't042', itemType: '二件式防寒衣' },\r\n    ],\r\n  },\r\n  {\r\n    itemCategoryId: 'c005',\r\n    itemCategory: '潛水配件',\r\n    typeData: [\r\n      { itemTypeId: 't051', itemType: '浮球' },\r\n      { itemTypeId: 't052', itemType: '配重' },\r\n      { itemTypeId: 't053', itemType: '安全繩' },\r\n      { itemTypeId: 't054', itemType: '防水袋' },\r\n    ],\r\n  },\r\n  {\r\n    itemCategoryId: 'c006',\r\n    itemCategory: '其他周邊',\r\n    typeData: [\r\n      { itemTypeId: 't061', itemType: '潛水錶' },\r\n      { itemTypeId: 't062', itemType: '潛水刀' },\r\n      { itemTypeId: 't063', itemType: '潛水相機' },\r\n    ],\r\n  },\r\n]\r\n\r\nexport { cateData }\r\n","import React, { useState } from 'react'\r\n\r\nfunction Aside(props) {\r\n  // console.log('asideprops', props.cateData[0].typeData)\r\n  function asideClick(event) {\r\n    // console.log(event.target.classList.value)\r\n    //找到所有代表li元素\r\n    let type_li = document.querySelectorAll('li.type-li')\r\n    let brand_li = document.querySelectorAll('li.brand-li')\r\n    let price_li = document.querySelectorAll('li.price-li')\r\n\r\n    console.log('觸發act')\r\n    switch (event.target.classList.value) {\r\n      case 'type-li':\r\n        type_li.forEach(value => {\r\n          value.classList.remove('active') //移除active\r\n        })\r\n\r\n        break\r\n      case 'brand-li':\r\n        brand_li.forEach(value => {\r\n          value.classList.remove('active') //移除active\r\n        })\r\n\r\n        break\r\n      case 'price-li':\r\n        price_li.forEach(value => {\r\n          value.classList.remove('active') //移除active\r\n        })\r\n\r\n        break\r\n\r\n      default:\r\n        break\r\n    }\r\n\r\n    event.target.classList.add('active') //為被點擊的目標新增active\r\n    event.stopPropagation()\r\n  }\r\n  function toggleClick(event) {\r\n    // console.log(event.target.childNodes[1].classList.value == 'type-ul')\r\n    console.log('觸發tog')\r\n    const type_ul = event.target.childNodes[1]\r\n\r\n    if (type_ul.classList.value == 'type-ul') {\r\n      type_ul.classList.add('h-100')\r\n    } else {\r\n      type_ul.classList.remove('h-100')\r\n    }\r\n\r\n    // let type_ul = document.querySelectorAll('ul.type-ul')\r\n    // type_ul.forEach(value => {\r\n    //   value.classList.add('h-100')\r\n    // })\r\n    // event.target.childNodes[1].classList.add('h-100')\r\n  }\r\n\r\n  return (\r\n    <div className=\"aside-wrapper\">\r\n      <div className=\"aside-wrapper-title\">\r\n        <h2>商品分類</h2>\r\n      </div>\r\n      <ul className=\"cate-ul\">\r\n        <li\r\n          className=\"type-li active\"\r\n          data-type=\"t000\"\r\n          onClick={event => {\r\n            asideClick(event)\r\n            props.getDataFromServer()\r\n          }}\r\n        >\r\n          全部商品\r\n        </li>\r\n        {props.cateData.map((value, index) => {\r\n          return (\r\n            <li\r\n              className=\"cate-li\"\r\n              key={index}\r\n              data-cate={value.itemCategoryId}\r\n              onClick={event => {\r\n                toggleClick(event)\r\n                // asideClick(event)\r\n                // const brand = event.target.dataset.brand\r\n                // props.getDataFromServer(brand)\r\n              }}\r\n            >\r\n              {value.itemCategory}\r\n              <ul className=\"type-ul\">\r\n                {props.cateData[index].typeData\r\n                  ? props.cateData[index].typeData.map((val, idx) => {\r\n                      return (\r\n                        <li\r\n                          className=\"type-li\"\r\n                          key={idx}\r\n                          data-type={val.itemTypeId}\r\n                          onClick={event => {\r\n                            asideClick(event)\r\n                            props.getDataFromServer()\r\n                          }}\r\n                        >\r\n                          {val.itemType}\r\n                        </li>\r\n                      )\r\n                    })\r\n                  : ''}\r\n              </ul>\r\n            </li>\r\n          )\r\n        })}\r\n      </ul>\r\n      <div className=\"aside-wrapper-title\">\r\n        <h2>品牌分類</h2>\r\n      </div>\r\n      <ul className=\"brand-ul\">\r\n        <li\r\n          className=\"brand-li active\"\r\n          data-brand=\"all\"\r\n          onClick={event => {\r\n            asideClick(event)\r\n            props.getDataFromServer()\r\n          }}\r\n        >\r\n          所有品牌\r\n        </li>\r\n        {props.asideData.map((value, index) => {\r\n          return (\r\n            <li\r\n              className=\"brand-li\"\r\n              key={index}\r\n              data-brand={value.itemBrandId}\r\n              onClick={event => {\r\n                asideClick(event)\r\n                props.getDataFromServer()\r\n                // const brand = event.target.dataset.brand\r\n                // props.getDataFromServer(brand)\r\n              }}\r\n            >\r\n              {value.itemBrandId}\r\n            </li>\r\n          )\r\n        })}\r\n      </ul>\r\n      <div className=\"aside-wrapper-title\">\r\n        <h2>金額</h2>\r\n      </div>\r\n      <ul className=\"price-ul\">\r\n        <li\r\n          className=\"price-li\"\r\n          data-price=\"0,499\"\r\n          onClick={event => {\r\n            asideClick(event)\r\n            props.getDataFromServer()\r\n          }}\r\n        >\r\n          NT$500以下\r\n        </li>\r\n        <li\r\n          className=\"price-li\"\r\n          data-price=\"500,1999\"\r\n          onClick={event => {\r\n            asideClick(event)\r\n            props.getDataFromServer()\r\n          }}\r\n        >\r\n          NT$500 - 2000\r\n        </li>\r\n        <li\r\n          className=\"price-li\"\r\n          data-price=\"2000,4999\"\r\n          onClick={event => {\r\n            asideClick(event)\r\n            props.getDataFromServer()\r\n          }}\r\n        >\r\n          NT$2000 - 5000\r\n        </li>\r\n        <li\r\n          className=\"price-li\"\r\n          data-price=\"5000,8999\"\r\n          onClick={event => {\r\n            asideClick(event)\r\n            props.getDataFromServer()\r\n          }}\r\n        >\r\n          NT$5000 - 9000\r\n        </li>\r\n        <li\r\n          className=\"price-li\"\r\n          data-price=\"9000,12999\"\r\n          onClick={event => {\r\n            asideClick(event)\r\n            props.getDataFromServer()\r\n          }}\r\n        >\r\n          NT$9000 - 13000\r\n        </li>\r\n        <li\r\n          className=\"price-li\"\r\n          data-price=\"13000,50000\"\r\n          onClick={event => {\r\n            asideClick(event)\r\n            props.getDataFromServer()\r\n          }}\r\n        >\r\n          NT$13000以上\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Aside\r\n","import React, { useEffect, useState } from 'react'\r\n\r\nfunction Pages(props) {\r\n  const [pageButtons, setPageButtons] = useState([]) //存放page按鈕的陣列\r\n\r\n  //依據totalPages製作頁數按鈕\r\n  useEffect(() => {\r\n    let nowPageButton = []\r\n    for (let i = 1; i <= props.totalPages; i++) {\r\n      nowPageButton.push(\r\n        <li\r\n          className=\"page-item\"\r\n          key={i}\r\n          data-page={i}\r\n          onClick={event => {\r\n            const page = event.target.textContent\r\n            props.getDataFromServer(page)\r\n            // console.log(page) 有拿到\r\n          }}\r\n        >\r\n          <span className=\"page-link\">{i}</span>\r\n        </li>\r\n      )\r\n    }\r\n    setPageButtons(nowPageButton)\r\n  }, [props.totalPages])\r\n\r\n  return (\r\n    <>\r\n      <ul className=\"pagination \">\r\n        <li className=\"page-item page-prev\">\r\n          <span className=\"page-link\">&laquo;</span>\r\n        </li>\r\n        {pageButtons.map(value => {\r\n          return value\r\n        })}\r\n        <li className=\"page-item page-next\">\r\n          <span className=\"page-link\">&raquo;</span>\r\n        </li>\r\n      </ul>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Pages\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nfunction ItemCard(props) {\r\n  // console.log('itemcard', props)\r\n  return (\r\n    <>\r\n      {!props.itemData ? (\r\n        <h2>查無資料</h2>\r\n      ) : (\r\n        props.itemData.map((value, index) => {\r\n          // console.log(value)\r\n          return (\r\n            <Link\r\n              className=\"list-card col-md-3 col-6\"\r\n              key={index}\r\n              to={`/items/${value.itemId}`}\r\n            >\r\n              <img\r\n                className=\"list-card-img-top\"\r\n                src={\r\n                  `http://127.0.0.1:5000/images/itemImg/${value.itemImg}`\r\n                  // + value.itemImg\r\n                }\r\n                alt=\"\"\r\n              />\r\n              <div className=\"list-card-body\">\r\n                <h6 className=\"item-neme\">{value.itemName}</h6>\r\n                <span className=\"item-price\">NT$ {value.itemPrice}</span>\r\n              </div>\r\n            </Link>\r\n          )\r\n        })\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ItemCard\r\n","import React, { useEffect, useState } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\n\r\nimport {\r\n  getItemDataAsync,\r\n  getAsideDataAsync,\r\n} from '../../actions/item/item_Actions'\r\n\r\nimport { cateData } from './itemType'\r\nimport '../../style/CW_items.scss'\r\n// import { userRegisterAsync } from '../actions/index'\r\n\r\n//引入元件\r\nimport Header from '../../components/Header'\r\nimport Banner from '../../components/Banner'\r\nimport Aside from '../../components/item/Aside'\r\nimport Pages from '../../components/item/Pages'\r\nimport Footer from '../../components/Footer'\r\n// import Loading from '../../components'\r\n// import Breadcrumb from '../../components/item/Breadcrumb'\r\nimport ItemCard from '../../components/item/ItemCard'\r\n\r\nfunction Items(props) {\r\n  // console.log(props)\r\n  const [itemData, setItemData] = useState([])\r\n  const [asideData, setAsideData] = useState([])\r\n  // const [sort, setSort] = useState('0')\r\n  const [hasloading, setHasLoading] = useState(false)\r\n\r\n  useEffect(() => {\r\n    props.getItemDataAsync()\r\n    props.getAsideDataAsync()\r\n  }, [])\r\n  // 渲染後載入商品\r\n  useEffect(() => {\r\n    setHasLoading(true)\r\n\r\n    setTimeout(() => {\r\n      if (props.itemData.status) {\r\n        setItemData(props.itemData.result)\r\n        setHasLoading(false)\r\n      }\r\n    }, 500)\r\n  }, [props.itemData])\r\n  // 渲染後 載入側欄\r\n  useEffect(() => {\r\n    setHasLoading(true)\r\n\r\n    setTimeout(() => {\r\n      if (props.asideData.status) {\r\n        setAsideData(props.asideData.asideData)\r\n        setHasLoading(false)\r\n      }\r\n    }, 500)\r\n  }, [props.asideData])\r\n  // 取得參數傳入 action\r\n  function getItemData(page) {\r\n    const type = document.querySelector('.type-li.active')\r\n      ? document.querySelector('.type-li.active').getAttribute('data-type')\r\n      : ''\r\n    const brand = document.querySelector('.brand-li.active')\r\n      ? document.querySelector('.brand-li.active').getAttribute('data-brand')\r\n      : ''\r\n    //取得sort的select的值\r\n    console.log(type, brand)\r\n    const price = document.querySelector('.price-li.active')\r\n      ? document.querySelector('.price-li.active').getAttribute('data-price')\r\n      : ''\r\n    const sort = document.querySelector('select[name=\"item-sort\"]').value || '0'\r\n    props.getItemDataAsync(type, brand, price, sort, page)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <Banner BannerImgSrc=\"/images/ItemBanner.jpg\" />\r\n      <div className=\"container CW\">\r\n        <div className=\"row CW-itemList\">\r\n          <div className=\"col-3 aside d-none d-md-block\">\r\n            <Aside\r\n              cateData={cateData}\r\n              asideData={asideData}\r\n              getDataFromServer={getItemData}\r\n              // asideList={props.asideData}\r\n            />\r\n          </div>\r\n          <div className=\"col-md-9 list\">\r\n            <div className=\"row justify-content-between list-header\">\r\n              <div className=\"col\">\r\n                {/* <Breadcrumb /> */}\r\n                <span class=\"material-icons d-md-none\" onClick={() => {}}>\r\n                  filter_list\r\n                </span>\r\n              </div>\r\n\r\n              <div className=\"col text-right d-flex justify-content-end\">\r\n                <form className=\"form-inline\">\r\n                  <label className=\"my-1 mr-2\" htmlFor=\"item-sort\">\r\n                    排序方式\r\n                  </label>\r\n                  <select\r\n                    className=\"custom-select my-1 mr-sm-2\"\r\n                    name=\"item-sort\"\r\n                    onChange={() => {\r\n                      // setSort(e.target.value)\r\n                      getItemData()\r\n                      // console.log(sort)\r\n                    }}\r\n                  >\r\n                    <option value=\"0\" selected>\r\n                      價格高至低\r\n                    </option>\r\n                    <option value=\"1\">價格低至高</option>\r\n                    <option value=\"2\">熱門程度高至低</option>\r\n                    <option value=\"3\">新增時間最新</option>\r\n                  </select>\r\n                </form>\r\n              </div>\r\n            </div>\r\n            <div className=\"row list-wrapper\">\r\n              {hasloading ? <h1>載入中</h1> : <ItemCard itemData={itemData} />}\r\n            </div>\r\n            <div className=\"row list-page d-flex justify-content-center mt-3\">\r\n              {hasloading ? (\r\n                ''\r\n              ) : (\r\n                <Pages\r\n                  totalPages={props.itemData.totalPages}\r\n                  getDataFromServer={getItemData}\r\n                />\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <Footer />\r\n    </>\r\n  )\r\n}\r\n\r\n// 取得Redux中store的值\r\nconst mapStateToProps = store => {\r\n  return {\r\n    itemData: store.itemReducer.itemData,\r\n    asideData: store.itemReducer.asideData,\r\n  }\r\n}\r\n\r\n// 指示dispatch要綁定哪些action creators\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators({ getItemDataAsync, getAsideDataAsync }, dispatch)\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Items)\r\n","import React from 'react'\r\n\r\nfunction Store() {\r\n  return (\r\n    <>\r\n      <hr />\r\n      <div className=\"row d-flex justify-content-between mb-3\">\r\n        <div className=\"col-5\">\r\n          <img src=\"http://127.0.0.1:5000/images/homeImg/D0001.jpg\" alt=\"\" />\r\n        </div>\r\n        <div className=\"col-5 d-flex flex-column justify-content-center mr-3\">\r\n          <h3>戴靖選品</h3>\r\n          <img src=\"http://127.0.0.1:5000/images/homeImg/D0002.png\" alt=\"\" />\r\n        </div>\r\n      </div>\r\n      <p>\r\n        戴靖選品為台灣唯一專營自由潛水之店家，我們嚴選來自歐洲、日本等第一線自由潛水商品，讓您自在探索海的美麗內涵\r\n      </p>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Store\r\n","import React, { useEffect, useState } from 'react'\r\nimport { withRouter } from 'react-router'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport '../../style/CW_items.scss'\r\nimport Swal from 'sweetalert2'\r\nimport '../../style/CW_items.scss'\r\n// import { userRegisterAsync } from '../actions/index'\r\n\r\nimport { getItemDetailDataAsync } from '../../actions/item/item_Actions'\r\nimport { onClickUpdateAsync } from '../../actions/item/item_Actions'\r\n\r\n//引入元件\r\nimport Header from '../../components/Header'\r\nimport Banner from '../../components/Banner'\r\nimport Footer from '../../components/Footer'\r\nimport Store from '../../components/item/Store'\r\n// import Breadcrumb from '../../components/item/Breadcrumb'\r\n\r\nfunction ItemDetail(props) {\r\n  // console.log(props)\r\n  const [itemData, setItemData] = useState({})\r\n  const [hasloading, setHasLoading] = useState(false)\r\n\r\n  // 加入購物車\r\n  async function handleAdd(value) {\r\n    setHasLoading(true)\r\n    const localCart = JSON.parse(localStorage.getItem('cart')) || []\r\n    if (localCart == null) {\r\n      localCart.push({ ...value })\r\n      localStorage.setItem('cart', JSON.stringify(localCart))\r\n    } else {\r\n      if (localCart.some(item => item.id === value.id)) {\r\n        const index = localCart.findIndex(item => item.id === value.id)\r\n        localCart[index].amount += value.amount\r\n      } else {\r\n        localCart.push({ ...value })\r\n      }\r\n      localStorage.setItem('cart', JSON.stringify(localCart))\r\n    }\r\n    Swal.fire({\r\n      text: `商品已加入購物車`,\r\n      icon: 'info',\r\n      confirmButtonText: '確定',\r\n    })\r\n  }\r\n  //紀錄使用者到訪的資料\r\n  function recordClick() {\r\n    const clicknum = {\r\n      clicknum: 1,\r\n    }\r\n    props.onClickUpdateAsync(clicknum)\r\n  }\r\n  useEffect(() => {\r\n    const itemId = props.match.params.itemId\r\n    props.getItemDetailDataAsync(itemId)\r\n    props.onClickUpdateAsync()\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    setHasLoading(true)\r\n\r\n    setTimeout(() => {\r\n      if (props.itemDetailData.status) {\r\n        setHasLoading(false)\r\n        setItemData(props.itemDetailData.itemData)\r\n      }\r\n    }, 500)\r\n  }, [props.itemDetailData])\r\n  return (\r\n    <>\r\n      <Header />\r\n      <Banner BannerImgSrc=\"/images/ItemBanner.jpg\" />\r\n      <div className=\"container CW\">\r\n        {itemData[0] ? (\r\n          <div className=\"row CW-itemDetail\">\r\n            <div className=\"col-12 detail-header\">{/* <Breadcrumb /> */}</div>\r\n            <div className=\"row detail-main\">\r\n              <div className=\"col-md-2 lightbox-aside\">\r\n                <img\r\n                  className=\"lightbox-aside-img\"\r\n                  src={`http://127.0.0.1:5000/images/itemImg/${itemData[0].itemImg}`}\r\n                  alt=\"\"\r\n                />\r\n                <img\r\n                  className=\"lightbox-aside-img\"\r\n                  src={`http://127.0.0.1:5000/images/itemImg/${itemData[0].itemImg}`}\r\n                  alt=\"\"\r\n                />\r\n                <img\r\n                  className=\"lightbox-aside-img\"\r\n                  src={`http://127.0.0.1:5000/images/itemImg/${itemData[0].itemImg}`}\r\n                  alt=\"\"\r\n                />\r\n              </div>\r\n              <div className=\"col-md-6 order-md-0 lightbox-main\">\r\n                <img\r\n                  className=\"lightbox-aside-img\"\r\n                  src={`http://127.0.0.1:5000/images/itemImg/${itemData[0].itemImg}`}\r\n                  alt=\"\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"col-md-4 info d-flex flex-column justify-content-between\">\r\n                <div className=\"info-header\">\r\n                  <h4>{itemData[0].itemName}</h4>\r\n                  <h4>NT$ {itemData[0].itemPrice}</h4>\r\n                </div>\r\n                <div className=\"info-size\">\r\n                  <h5>尺寸</h5>\r\n                  <div className=\"btn btn-danger\">S</div>\r\n                  <div className=\"btn btn-danger\">M</div>\r\n                  <div className=\"btn btn-danger\">L</div>\r\n                </div>\r\n                <div className=\"info-qty\">\r\n                  <h5>數量</h5>\r\n                  <span>{itemData[0].itemQty}</span>\r\n                </div>\r\n                <div className=\"info-btn\">\r\n                  <button\r\n                    name=\"\"\r\n                    id=\"\"\r\n                    onClick={() => {\r\n                      handleAdd({\r\n                        // id: {itemData.itemId},\r\n                        // name: {itemData.itemName},\r\n                        // amount: 1,\r\n                        // price: {itemData.itemPrice}\r\n                        id: `${itemData[0].itemId}`,\r\n                        img: `${itemData[0].itemImg}`,\r\n                        name: `${itemData[0].itemName}`,\r\n                        amount: 1,\r\n                        price: `${itemData[0].itemPrice}`,\r\n                        itemCategoryId: `${itemData[0].itemCategoryId}`,\r\n                      })\r\n                      recordClick()\r\n                    }}\r\n                    className=\"addcart-btn btn btn-lg w-100\"\r\n                  >\r\n                    加入購物車\r\n                  </button>\r\n                  <div\r\n                    name=\"\"\r\n                    id=\"\"\r\n                    className=\"btn btn-danger btn-lg w-100\"\r\n                    href=\"#\"\r\n                    role=\"button\"\r\n                  >\r\n                    詢問商品細節\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"row mt-5 detail-desc\">\r\n              <div className=\"col-md-8\">\r\n                <h4>商品介紹</h4>\r\n                <hr />\r\n                <p>\r\n                  C4 - SCARPE蛙鞋套\r\n                  來自義大利的複合材料製造商C4，創立於1986年，一開始研發的是自行車使用之碳纖維材料，隨後將這樣的材料技術延伸至自由潛水/水中漁獵的裝備；卓越的性能與粗獷的外型，受到許多專業玩家的喜愛。\r\n                </p>\r\n              </div>\r\n              <div className=\"col-4 d-none d-md-block store\">\r\n                <h4>賣場介紹</h4>\r\n                <Store />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          ''\r\n        )}\r\n      </div>\r\n      <Footer />\r\n    </>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = store => {\r\n  return {\r\n    itemDetailData: store.itemReducer.itemDetailData,\r\n    clickUpdateData: store.itemReducer.clickUpdateData,\r\n  }\r\n}\r\n\r\n// 指示dispatch要綁定哪些action creators\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    { getItemDetailDataAsync, onClickUpdateAsync },\r\n    dispatch\r\n  )\r\n}\r\n\r\nexport default withRouter(\r\n  connect(mapStateToProps, mapDispatchToProps)(ItemDetail)\r\n)\r\n","import React from 'react'\r\n\r\nfunction CartItem(props) {\r\n  const { handleDelete, mycart } = props\r\n  // console.log('carditem', { mycart })\r\n\r\n  return (\r\n    <>\r\n      {mycart != null && mycart.length >= 1 ? (\r\n        props.mycart.map((value, index) => {\r\n          return (\r\n            <>\r\n              <div className=\"d-flex cart-item border-bottom\" key={index}>\r\n                <div className=\"col-1 d-flex align-items-center\">\r\n                  <input type=\"checkbox\" name=\"\" id=\"\" />\r\n                </div>\r\n                <div className=\"card-item-img col-4 col-md-2 d-flex align-items-center\">\r\n                  <img\r\n                    src={`http://127.0.0.1:5000/images/itemImg/${value.img}`}\r\n                    alt=\"\"\r\n                  />\r\n                </div>\r\n                <div className=\"card-item-info col-6 col-md-8 d-flex flex-column flex-md-row align-items-md-center\">\r\n                  <div className=\"item-name col col-md-6 order-0 order-md-0\">\r\n                    <h6>{value.name}</h6>\r\n                    <h6>S size</h6>\r\n                  </div>\r\n                  <div className=\"item-qty w-25 order-2 order-md-1\">\r\n                    <select className=\"custom-select\">\r\n                      <option value=\"{value.amount}\" selected>\r\n                        {value.amount}\r\n                      </option>\r\n                      <option value=\"2\">2</option>\r\n                      <option value=\"3\">3</option>\r\n                      <option value=\"4\">4</option>\r\n                    </select>\r\n                  </div>\r\n                  <div className=\"item-price order-1 order-md-2\">\r\n                    <h6>NT$ {value.price}</h6>\r\n                  </div>\r\n                </div>\r\n                <div className=\"item-delete col-1 d-flex align-items-center\">\r\n                  <i\r\n                    className=\"material-icons\"\r\n                    onClick={() =>\r\n                      handleDelete({\r\n                        id: `${value.id}`,\r\n                      })\r\n                    }\r\n                  >\r\n                    close\r\n                  </i>\r\n                </div>\r\n              </div>\r\n            </>\r\n          )\r\n        })\r\n      ) : (\r\n        <h2>購物車是空的</h2>\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default CartItem\r\n","import React, { useState, useEffect } from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport Swal from 'sweetalert2'\r\nimport noImg from '../../image/image.png'\r\n// import Swal from 'sweetalert2/src/sweetalert2.js'\r\nimport '../../style/CW_items.scss'\r\n\r\n// import { userRegisterAsync } from '../actions/index'\r\n// 購物車寫入資料庫\r\nimport { memberCheckOutAsync } from '../../actions/order/order_Actions'\r\n\r\n//得到買家的優惠券資料動作\r\nimport { getUserCouponDetaiAsync } from '../../actions/member/memberActions'\r\n\r\n//引入rodal\r\nimport Rodal from 'rodal'\r\nimport '../../../node_modules/rodal/lib/rodal.css'\r\n\r\n// import { getNowCoupDataAsync } from '../../actions/seller/index'\r\n\r\n//引入元件\r\nimport Header from '../../components/Header'\r\nimport Banner from '../../components/Banner'\r\n// import Breadcrumb from '../../components/item/Breadcrumb'\r\nimport CartItem from '../../components/order/CartItem'\r\nimport Loading from '../../../src/components/seller_back/components/Loading'\r\n\r\nfunction ShoppingCart(props) {\r\n  const [mycart, setMycart] = useState([])\r\n  const [hasLoading, setHasLoading] = useState(false)\r\n\r\n  const [newCoup, setNewCoup] = useState([])\r\n\r\n  const [coupCode, setCouponCode] = useState('')\r\n  const [couptInput, setCouptInput] = useState({})\r\n  const [rodalState, setRodal] = useState({\r\n    visible: false,\r\n  })\r\n  const [couponChoose, setCouponChoose] = useState({})\r\n\r\n  // 取得購物車\r\n  const localCart = JSON.parse(localStorage.getItem('cart'))\r\n\r\n  // 訂單資料初始\r\n  const orderData = {\r\n    orderMemberId: 'M123',\r\n    orderItems: [],\r\n    // checkSubtotal: handleOrderSum,\r\n  }\r\n  let itemData = {}\r\n  // for (let i = 0; i < localCart.length; i++) {\r\n  //   itemData.orderItemId = array[i].id;\r\n  //   itemData.checkPrice = array[i].amount;\r\n  //   itemData.checkQty = array[i].price;\r\n  //   orderData.orderItems.push(itemData)\r\n  // }\r\n  // 點擊結帳\r\n  function checkOut() {\r\n    if (localCart == null || localCart.length < 1) {\r\n      Swal.fire({\r\n        // title: 'Error!',\r\n        text: '購物車是空的喔！',\r\n        icon: 'warning',\r\n        confirmButtonText: '確定',\r\n      })\r\n    } else {\r\n      Swal.fire({\r\n        // title: 'Error!',\r\n        text: `確定商品總金額 NT$！${sum(mycart)}`,\r\n        icon: 'info',\r\n        confirmButtonText: '確定',\r\n        showCancelButton: true,\r\n        cancelButtonText: '取消',\r\n      }).then(result => {\r\n        if (result.value === true) {\r\n          for (let i = 0; i < localCart.length; i++) {\r\n            console.log(localCart[i])\r\n            itemData.orderItemId = localCart[i].id\r\n            itemData.checkPrice = localCart[i].price\r\n            itemData.checkQty = localCart[i].amount\r\n            orderData.orderItems.push(itemData)\r\n            itemData = {}\r\n          }\r\n          // props.changeSteps(1)\r\n          console.log(orderData)\r\n          props.memberCheckOutAsync(orderData)\r\n          orderData.orderItems = []\r\n          // 購物完清掉 localstorage 購物車\r\n          localStorage.removeItem('cart')\r\n          // window.location.href = '/member/checkout'\r\n          props.history.push({\r\n            pathname: '/member/checkout',\r\n          })\r\n        }\r\n      })\r\n    }\r\n  }\r\n  // 點擊刪除\r\n  function handleDelete(item) {\r\n    Swal.fire({\r\n      // title: 'Error!',\r\n      text: `確定刪除商品嗎?`,\r\n      icon: 'warning',\r\n      confirmButtonText: '確定',\r\n      showCancelButton: true,\r\n      cancelButtonText: '取消',\r\n    }).then(result => {\r\n      if (result.value) {\r\n        const index = localCart.findIndex(arr => arr.id === item.id)\r\n        if (index !== -1) {\r\n          localCart.splice(index, 1)\r\n          localStorage.setItem('cart', JSON.stringify(localCart))\r\n        }\r\n      }\r\n    })\r\n  }\r\n  // const localCart = JSON.parse(localStorage.getItem('cart'))\r\n  // const index = localCart.indexOf(item)\r\n  // localstorage 購物車設定給 mycart\r\n  async function getCartFromLocalStorage() {\r\n    setHasLoading(true)\r\n    setMycart(localCart)\r\n  }\r\n\r\n  function typeInputActive(event) {\r\n    //找到所有代表等級的li元素\r\n    let customerMenuList = document.querySelectorAll('tr.tr-chin td')\r\n    customerMenuList.forEach(value => {\r\n      value.classList.remove('active-chin-check') //移除active\r\n    })\r\n\r\n    event.target.classList.add('active-chin-check') //為被點擊的目標新增active\r\n  }\r\n  // function cartcalculate(event) {\r\n  //   console.log(couponChoose)\r\n  // }\r\n  function couponCheck(event) {\r\n    if (\r\n      couponChoose.order_coup_name == null &&\r\n      couponChoose.givi_coup_name == null &&\r\n      couponChoose.order_coup_code == null &&\r\n      couponChoose.givi_coup_code == null\r\n    ) {\r\n      delete couponChoose.order_coup_name\r\n      delete couponChoose.givi_coup_name\r\n      delete couponChoose.order_coup_code\r\n      delete couponChoose.givi_coup_code\r\n    } else if (\r\n      couponChoose.goods_coup_name == null &&\r\n      couponChoose.givi_coup_name == null &&\r\n      couponChoose.goods_coup_code == null &&\r\n      couponChoose.givi_coup_code == null\r\n    ) {\r\n      delete couponChoose.goods_coup_name\r\n      delete couponChoose.givi_coup_name\r\n      delete couponChoose.goods_coup_code\r\n      delete couponChoose.givi_coup_code\r\n    } else {\r\n      delete couponChoose.order_coup_name\r\n      delete couponChoose.goods_coup_name\r\n      delete couponChoose.order_coup_code\r\n      delete couponChoose.goods_coup_code\r\n    }\r\n    Swal.fire({\r\n      // title: 'Error!',\r\n      text: `確定要設定所選擇的優惠嗎?`,\r\n      icon: 'warning',\r\n      confirmButtonText: '確定',\r\n      showCancelButton: true,\r\n      cancelButtonText: '取消',\r\n    }).then(result => {\r\n      if (result.value) {\r\n        setCouptInput(couponChoose)\r\n        setNewCoup(couponChoose)\r\n      }\r\n    })\r\n    // console.log(couponChoose)\r\n  }\r\n\r\n  //設定完成傳到後端抓資料\r\n  useEffect(() => {\r\n    getCartFromLocalStorage()\r\n    props.getUserCouponDetaiAsync()\r\n  }, [])\r\n\r\n  //優惠券彈跳視窗函式\r\n  //開啟\r\n  const show = event => {\r\n    setRodal({ visible: true })\r\n  }\r\n  // //關閉\r\n  const hide = event => {\r\n    setRodal({ visible: false })\r\n  }\r\n\r\n  const sum = items => {\r\n    let total = 0\r\n    if (items != null) {\r\n      for (let i = 0; i < items.length; i++) {\r\n        total += items[i].amount * items[i].price\r\n      }\r\n    }\r\n    return total\r\n  }\r\n  //全單優惠的四種函數\r\n  //全單滿__件__打__折\r\n  //全單滿__件__減__元\r\n  //全單滿__元__減__元\r\n  //全單滿__元__打__折\r\n  const handleOrderSum = (items, newCoup) => {\r\n    console.log(items)\r\n    let totalPrice = 0\r\n    let itemsToal = 0\r\n    let priceToal = 0\r\n    if (\r\n      newCoup.hasOwnProperty('order_coup_name') &&\r\n      newCoup.order_coup_code.substr(0, 2) == 'PI'\r\n    ) {\r\n      //超過金額打折\r\n      console.log(newCoup.order_over)\r\n      for (let i = 0; i < items.length; i++) {\r\n        totalPrice += items[i].amount * items[i].price\r\n      }\r\n      if (totalPrice > newCoup.order_over) {\r\n        return parseInt(totalPrice * (newCoup.order_pri_perc / 10))\r\n      }\r\n    } else if (\r\n      newCoup.hasOwnProperty('order_coup_name') &&\r\n      newCoup.order_coup_code.substr(0, 2) == 'PM'\r\n    ) {\r\n      //超過金額減價\r\n      for (let i = 0; i < items.length; i++) {\r\n        totalPrice += items[i].amount * items[i].price\r\n      }\r\n      return parseInt(totalPrice - newCoup.order_pri_perc)\r\n    } else if (\r\n      newCoup.hasOwnProperty('order_coup_name') &&\r\n      newCoup.order_coup_code.substr(0, 2) == 'II'\r\n    ) {\r\n      //超過件數打折\r\n      for (let i = 0; i < items.length; i++) {\r\n        itemsToal += items[i].amount\r\n        // priceToal += items[i].price\r\n      }\r\n      console.log(itemsToal)\r\n      // console.log(priceToal)\r\n\r\n      console.log(newCoup)\r\n\r\n      if (itemsToal >= newCoup.order_over) {\r\n        // totalPrice = itemsToal * priceToal * (newCoup.order_pri_perc / 10)\r\n        for (let f = 0; f < items.length; f++) {\r\n          totalPrice += items[f].amount * parseInt(items[f].price)\r\n          // console.log(items[f].amount)\r\n          // console.log(parseInt(items[f].price))\r\n        }\r\n        console.log(totalPrice)\r\n        return parseInt(totalPrice * (newCoup.order_pri_perc / 10))\r\n      }\r\n    } else if (\r\n      newCoup.hasOwnProperty('order_coup_name') &&\r\n      newCoup.order_coup_code.substr(0, 2) == 'IM'\r\n    ) {\r\n      //超過件數減價\r\n      for (let i = 0; i < items.length; i++) {\r\n        itemsToal += items[i].amount\r\n        // priceToal += items[i].price\r\n      }\r\n      console.log(itemsToal)\r\n      // console.log(priceToal)\r\n\r\n      console.log(newCoup)\r\n\r\n      if (itemsToal >= newCoup.order_over) {\r\n        // totalPrice = itemsToal * priceToal * (newCoup.order_pri_perc / 10)\r\n        for (let f = 0; f < items.length; f++) {\r\n          totalPrice += items[f].amount * parseInt(items[f].price)\r\n          // console.log(items[f].amount)\r\n          // console.log(parseInt(items[f].price))\r\n        }\r\n        console.log(totalPrice)\r\n        return parseInt(totalPrice - newCoup.order_pri_perc)\r\n      }\r\n    } else {\r\n      return totalPrice\r\n    }\r\n    // console.log(items)\r\n\r\n    // if (\r\n    //   newCoup.order_coup_code.substr(0, 2) == 'II' ||\r\n    //   newCoup.order_coup_code = undefined\r\n    // ) {\r\n    //}\r\n    // } else {\r\n    //   for (let i = 0; i < items.length; i++) {\r\n    //     total += items[i].amount * items[i].price\r\n    //   }\r\n    //   return total\r\n    // }\r\n    //優惠券函式\r\n    //第一種類的優惠券:全單優惠\r\n\r\n    //  if(coupCode.substr(0,2) == \"II\" || coupCode.substr(0,2) == \"PI\" || coupCode.substr(0,2) == \"PM\" ||  coupCode.substr(0,2) == \"PI\"){\r\n    //   }else if(coupCode.substr(0,3) == \"III\" || coupCode.substr(0,3) == \"PII\" || coupCode.substr(0,3) == \"PMI\" ||  coupCode.substr(0,3) == \"IMI\"){\r\n    //   }else{\r\n    //   }\r\n  }\r\n  //生成買家特選的優惠券modal\r\n\r\n  //生成item類型的優惠券函數\r\n  //使用計算物件值的函式sumObj\r\n  const handleItemSum = (items, newCoup) => {\r\n    // console.log(newCoup)\r\n    // console.log(items)\r\n    // let specificItemNum = 0\r\n    let inneritems\r\n    let InnerTotal = 0\r\n\r\n    let innerAllAmount = 0\r\n    let ItemTotalPrice = 0\r\n\r\n    //只打算做兩種商品的四種折扣,所以是八種 PMI IMI III PII\r\n    if (\r\n      newCoup.hasOwnProperty('goods_coup_name') &&\r\n      newCoup.goods_coup_code.substr(0, 3) == 'III' &&\r\n      newCoup.itemType == '潛水配件'\r\n    ) {\r\n      //特定商品:潛水配件超過件數打折\r\n      for (let i = 0; i < items.length; i++) {\r\n        if (items[i].itemCategoryId == 'c005') {\r\n          // console.log(items.find(x => x.itemCategoryId === 'c005').amount)\r\n          inneritems = items.filter(function(item, index, array) {\r\n            return item.itemCategoryId === 'c005'\r\n          })\r\n          // console.log(x)\r\n        }\r\n      }\r\n      console.log(inneritems)\r\n      //計算陣列裡面的物件值\r\n      function countObj(array, key) {\r\n        return array.reduce(function(r, a) {\r\n          return r + a[key]\r\n        }, 0)\r\n      }\r\n      let objAmount = countObj(inneritems, 'amount')\r\n\r\n      // console.log(objAmount)\r\n      if (objAmount >= newCoup.goods_over) {\r\n        for (let x = 0; x < items.length; x++) {\r\n          ItemTotalPrice +=\r\n            items[x].amount * items[x].price * (newCoup.goods_pri_perc / 10)\r\n        }\r\n        return ItemTotalPrice\r\n      }\r\n    } else if (\r\n      newCoup.hasOwnProperty('goods_coup_name') &&\r\n      newCoup.goods_coup_code.substr(0, 3) == 'IMI' &&\r\n      newCoup.itemType == '潛水配件'\r\n    ) {\r\n      //以下是超過件數減價\r\n      for (let i = 0; i < items.length; i++) {\r\n        if (items[i].itemCategoryId == 'c005') {\r\n          // console.log(items.find(x => x.itemCategoryId === 'c005').amount)\r\n          inneritems = items.filter(function(item, index, array) {\r\n            return item.itemCategoryId === 'c005'\r\n          })\r\n          // console.log(x)\r\n        }\r\n      }\r\n      // console.log(inneritems)\r\n      //計算陣列裡面的物件值\r\n      function countObj(array, key) {\r\n        return array.reduce(function(r, a) {\r\n          return r + a[key]\r\n        }, 0)\r\n      }\r\n      let objAmount = countObj(inneritems, 'amount')\r\n\r\n      // console.log(objAmount)\r\n      if (objAmount >= newCoup.goods_over) {\r\n        for (let x = 0; x < items.length; x++) {\r\n          ItemTotalPrice += items[x].amount * items[x].price\r\n        }\r\n        const FinallyTotal = ItemTotalPrice - newCoup.goods_pri_perc\r\n        return FinallyTotal\r\n      }\r\n    } else if (\r\n      newCoup.hasOwnProperty('goods_coup_name') &&\r\n      newCoup.goods_coup_code.substr(0, 3) == 'PMI' &&\r\n      newCoup.itemType == '潛水配件'\r\n    ) {\r\n      //特定商品超過金額減價\r\n      for (let i = 0; i < items.length; i++) {\r\n        if (items[i].itemCategoryId == 'c005') {\r\n          // console.log(items.find(x => x.itemCategoryId === 'c005').amount)\r\n          inneritems = items.filter(function(item, index, array) {\r\n            return item.itemCategoryId === 'c005'\r\n          })\r\n          // console.log(x)\r\n        }\r\n      }\r\n      console.log(inneritems)\r\n\r\n      for (let t = 0; t < inneritems.length; t++) {\r\n        // console.log(inneritems[t].amount)\r\n        InnerTotal += inneritems[t].amount * parseInt(inneritems[t].price)\r\n      }\r\n      console.log(InnerTotal)\r\n\r\n      console.log(newCoup)\r\n      if (InnerTotal >= newCoup.goods_over) {\r\n        for (let x = 0; x < items.length; x++) {\r\n          ItemTotalPrice += items[x].amount * items[x].price\r\n        }\r\n        const FinallyToal = ItemTotalPrice - parseInt(newCoup.goods_pri_perc)\r\n        return FinallyToal\r\n      }\r\n    } else if (\r\n      newCoup.hasOwnProperty('goods_coup_name') &&\r\n      newCoup.goods_coup_code.substr(0, 3) == 'PII' &&\r\n      newCoup.itemType == '潛水配件'\r\n    ) {\r\n      //特定商品超過金額打折\r\n      for (let i = 0; i < items.length; i++) {\r\n        if (items[i].itemCategoryId == 'c005') {\r\n          // console.log(items.find(x => x.itemCategoryId === 'c005').amount)\r\n          inneritems = items.filter(function(item, index, array) {\r\n            return item.itemCategoryId === 'c005'\r\n          })\r\n          // console.log(x)\r\n        }\r\n      }\r\n      console.log(inneritems)\r\n      // function countObj(array, key) {\r\n      //   return array.reduce(function(r, a) {\r\n      //     return r + a[key]\r\n      //   }, 0)\r\n      // }\r\n      // let objAmount = countObj(inneritems, 'amount')\r\n      // let objPrice = countObj(inneritems, 'price')\r\n      for (let t = 0; t < inneritems.length; t++) {\r\n        // console.log(inneritems[t].amount)\r\n        InnerTotal += inneritems[t].amount * parseInt(inneritems[t].price)\r\n      }\r\n      console.log(InnerTotal)\r\n      if (InnerTotal >= newCoup.goods_over) {\r\n        for (let x = 0; x < items.length; x++) {\r\n          ItemTotalPrice += items[x].amount * items[x].price\r\n        }\r\n        console.log(ItemTotalPrice)\r\n        console.log(newCoup.goods_pri_perc)\r\n        const finallyTotal = parseInt(\r\n          ItemTotalPrice * (newCoup.goods_pri_perc / 10)\r\n        )\r\n\r\n        return finallyTotal\r\n      }\r\n    } else if (\r\n      newCoup.hasOwnProperty('goods_coup_name') &&\r\n      newCoup.goods_coup_code.substr(0, 3) == 'III' &&\r\n      newCoup.itemType == '自由潛水蛙鞋'\r\n    ) {\r\n      //特定商品:自由潛水蛙鞋 超過件數打折\r\n      for (let i = 0; i < items.length; i++) {\r\n        if (items[i].itemCategoryId == 'c001') {\r\n          // console.log(items.find(x => x.itemCategoryId === 'c005').amount)\r\n          inneritems = items.filter(function(item, index, array) {\r\n            return item.itemCategoryId === 'c001'\r\n          })\r\n          // console.log(x)\r\n        }\r\n      }\r\n      console.log(inneritems)\r\n      //計算陣列裡面的物件值\r\n      function countObj(array, key) {\r\n        return array.reduce(function(r, a) {\r\n          return r + a[key]\r\n        }, 0)\r\n      }\r\n      let objAmount = countObj(inneritems, 'amount')\r\n\r\n      // console.log(objAmount)\r\n      if (objAmount >= newCoup.goods_over) {\r\n        for (let x = 0; x < items.length; x++) {\r\n          ItemTotalPrice +=\r\n            items[x].amount * items[x].price * (newCoup.goods_pri_perc / 10)\r\n        }\r\n        return ItemTotalPrice\r\n      }\r\n    } else if (\r\n      newCoup.hasOwnProperty('goods_coup_name') &&\r\n      newCoup.goods_coup_code.substr(0, 3) == 'PMI' &&\r\n      newCoup.itemType == '自由潛水蛙鞋'\r\n    ) {\r\n      //特定商品:自由潛水蛙鞋 超過金額減價\r\n      for (let i = 0; i < items.length; i++) {\r\n        if (items[i].itemCategoryId == 'c001') {\r\n          // console.log(items.find(x => x.itemCategoryId === 'c005').amount)\r\n          inneritems = items.filter(function(item, index, array) {\r\n            return item.itemCategoryId === 'c001'\r\n          })\r\n          // console.log(x)\r\n        }\r\n      }\r\n      console.log(inneritems)\r\n\r\n      for (let t = 0; t < inneritems.length; t++) {\r\n        // console.log(inneritems[t].amount)\r\n        InnerTotal += inneritems[t].amount * parseInt(inneritems[t].price)\r\n      }\r\n      console.log(InnerTotal)\r\n\r\n      console.log(newCoup)\r\n      if (InnerTotal >= newCoup.goods_over) {\r\n        for (let x = 0; x < items.length; x++) {\r\n          ItemTotalPrice += items[x].amount * items[x].price\r\n        }\r\n        const FinallyToal = ItemTotalPrice - parseInt(newCoup.goods_pri_perc)\r\n        return FinallyToal\r\n      }\r\n    } else if (\r\n      newCoup.hasOwnProperty('goods_coup_name') &&\r\n      newCoup.goods_coup_code.substr(0, 3) == 'IMI' &&\r\n      newCoup.itemType == '自由潛水蛙鞋'\r\n    ) {\r\n      //以下是自由潛水蛙鞋超過件數減價\r\n      for (let i = 0; i < items.length; i++) {\r\n        if (items[i].itemCategoryId == 'c001') {\r\n          // console.log(items.find(x => x.itemCategoryId === 'c005').amount)\r\n          inneritems = items.filter(function(item, index, array) {\r\n            return item.itemCategoryId === 'c001'\r\n          })\r\n          // console.log(x)\r\n        }\r\n      }\r\n      // console.log(inneritems)\r\n      //計算陣列裡面的物件值\r\n      function countObj(array, key) {\r\n        return array.reduce(function(r, a) {\r\n          return r + a[key]\r\n        }, 0)\r\n      }\r\n      let objAmount = countObj(inneritems, 'amount')\r\n\r\n      // console.log(objAmount)\r\n      if (objAmount >= newCoup.goods_over) {\r\n        for (let x = 0; x < items.length; x++) {\r\n          ItemTotalPrice += items[x].amount * items[x].price\r\n        }\r\n        const FinallyTotal = ItemTotalPrice - newCoup.goods_pri_perc\r\n        return FinallyTotal\r\n      }\r\n    } else if (\r\n      newCoup.hasOwnProperty('goods_coup_name') &&\r\n      newCoup.goods_coup_code.substr(0, 3) == 'PII' &&\r\n      newCoup.itemType == '自由潛水蛙鞋'\r\n    ) {\r\n      //特定商品超過金額打折\r\n      for (let i = 0; i < items.length; i++) {\r\n        if (items[i].itemCategoryId == 'c001') {\r\n          // console.log(items.find(x => x.itemCategoryId === 'c005').amount)\r\n          inneritems = items.filter(function(item, index, array) {\r\n            return item.itemCategoryId === 'c001'\r\n          })\r\n          // console.log(x)\r\n        }\r\n      }\r\n      console.log(inneritems)\r\n      // function countObj(array, key) {\r\n      //   return array.reduce(function(r, a) {\r\n      //     return r + a[key]\r\n      //   }, 0)\r\n      // }\r\n      // let objAmount = countObj(inneritems, 'amount')\r\n      // let objPrice = countObj(inneritems, 'price')\r\n      for (let t = 0; t < inneritems.length; t++) {\r\n        // console.log(inneritems[t].amount)\r\n        InnerTotal += inneritems[t].amount * parseInt(inneritems[t].price)\r\n      }\r\n      console.log(InnerTotal)\r\n      if (InnerTotal >= newCoup.goods_over) {\r\n        for (let x = 0; x < items.length; x++) {\r\n          ItemTotalPrice += items[x].amount * items[x].price\r\n        }\r\n        console.log(ItemTotalPrice)\r\n        console.log(newCoup.goods_pri_perc)\r\n        const finallyTotal = parseInt(\r\n          ItemTotalPrice * (newCoup.goods_pri_perc / 10)\r\n        )\r\n\r\n        return finallyTotal\r\n      }\r\n    } else if (\r\n      newCoup.hasOwnProperty('goods_coup_name') &&\r\n      newCoup.goods_coup_code.substr(0, 3) == 'III' &&\r\n      newCoup.itemType == '防寒衣'\r\n    ) {\r\n      //特定商品c004防寒衣超過件數打折\r\n      //特定商品:自由潛水蛙鞋 超過件數打折\r\n      for (let i = 0; i < items.length; i++) {\r\n        if (items[i].itemCategoryId == 'c004') {\r\n          // console.log(items.find(x => x.itemCategoryId === 'c005').amount)\r\n          inneritems = items.filter(function(item, index, array) {\r\n            return item.itemCategoryId === 'c004'\r\n          })\r\n          // console.log(x)\r\n        }\r\n      }\r\n      console.log(inneritems)\r\n      //計算陣列裡面的物件值\r\n      function countObj(array, key) {\r\n        return array.reduce(function(r, a) {\r\n          return r + a[key]\r\n        }, 0)\r\n      }\r\n      let objAmount = countObj(inneritems, 'amount')\r\n\r\n      // console.log(objAmount)\r\n      if (objAmount >= newCoup.goods_over) {\r\n        for (let x = 0; x < items.length; x++) {\r\n          ItemTotalPrice +=\r\n            items[x].amount * items[x].price * (newCoup.goods_pri_perc / 10)\r\n        }\r\n        return ItemTotalPrice\r\n      }\r\n    } else if (\r\n      newCoup.hasOwnProperty('goods_coup_name') &&\r\n      newCoup.goods_coup_code.substr(0, 3) == 'PMI' &&\r\n      newCoup.itemType == '防寒衣'\r\n    ) {\r\n      //特定商品防寒衣超過金額減價\r\n      //特定商品超過金額減價\r\n      for (let i = 0; i < items.length; i++) {\r\n        if (items[i].itemCategoryId == 'c004') {\r\n          // console.log(items.find(x => x.itemCategoryId === 'c005').amount)\r\n          inneritems = items.filter(function(item, index, array) {\r\n            return item.itemCategoryId === 'c004'\r\n          })\r\n          // console.log(x)\r\n        }\r\n      }\r\n      console.log(inneritems)\r\n\r\n      for (let t = 0; t < inneritems.length; t++) {\r\n        // console.log(inneritems[t].amount)\r\n        InnerTotal += inneritems[t].amount * parseInt(inneritems[t].price)\r\n      }\r\n      console.log(InnerTotal)\r\n\r\n      console.log(newCoup)\r\n      if (InnerTotal >= newCoup.goods_over) {\r\n        for (let x = 0; x < items.length; x++) {\r\n          ItemTotalPrice += items[x].amount * items[x].price\r\n        }\r\n        const FinallyToal = ItemTotalPrice - parseInt(newCoup.goods_pri_perc)\r\n        return FinallyToal\r\n      }\r\n    } else if (\r\n      newCoup.hasOwnProperty('goods_coup_name') &&\r\n      newCoup.goods_coup_code.substr(0, 3) == 'IMI' &&\r\n      newCoup.itemType == '防寒衣'\r\n    ) {\r\n      //以下是超過件數減價\r\n      for (let i = 0; i < items.length; i++) {\r\n        if (items[i].itemCategoryId == 'c004') {\r\n          // console.log(items.find(x => x.itemCategoryId === 'c005').amount)\r\n          inneritems = items.filter(function(item, index, array) {\r\n            return item.itemCategoryId === 'c004'\r\n          })\r\n          // console.log(x)\r\n        }\r\n      }\r\n      // console.log(inneritems)\r\n      //計算陣列裡面的物件值\r\n      function countObj(array, key) {\r\n        return array.reduce(function(r, a) {\r\n          return r + a[key]\r\n        }, 0)\r\n      }\r\n      let objAmount = countObj(inneritems, 'amount')\r\n\r\n      // console.log(objAmount)\r\n      if (objAmount >= newCoup.goods_over) {\r\n        for (let x = 0; x < items.length; x++) {\r\n          ItemTotalPrice += items[x].amount * items[x].price\r\n        }\r\n        const FinallyTotal = ItemTotalPrice - newCoup.goods_pri_perc\r\n        return FinallyTotal\r\n      }\r\n    } else if (\r\n      newCoup.hasOwnProperty('goods_coup_name') &&\r\n      newCoup.goods_coup_code.substr(0, 3) == 'PII' &&\r\n      newCoup.itemType == '防寒衣'\r\n    ) {\r\n      for (let i = 0; i < items.length; i++) {\r\n        if (items[i].itemCategoryId == 'c004') {\r\n          // console.log(items.find(x => x.itemCategoryId === 'c005').amount)\r\n          inneritems = items.filter(function(item, index, array) {\r\n            return item.itemCategoryId === 'c004'\r\n          })\r\n          // console.log(x)\r\n        }\r\n      }\r\n      console.log(inneritems)\r\n      // function countObj(array, key) {\r\n      //   return array.reduce(function(r, a) {\r\n      //     return r + a[key]\r\n      //   }, 0)\r\n      // }\r\n      // let objAmount = countObj(inneritems, 'amount')\r\n      // let objPrice = countObj(inneritems, 'price')\r\n      for (let t = 0; t < inneritems.length; t++) {\r\n        // console.log(inneritems[t].amount)\r\n        InnerTotal += inneritems[t].amount * parseInt(inneritems[t].price)\r\n      }\r\n      console.log(InnerTotal)\r\n      if (InnerTotal >= newCoup.goods_over) {\r\n        for (let x = 0; x < items.length; x++) {\r\n          ItemTotalPrice += items[x].amount * items[x].price\r\n        }\r\n        console.log(ItemTotalPrice)\r\n        console.log(newCoup.goods_pri_perc)\r\n        const finallyTotal = parseInt(\r\n          ItemTotalPrice * (newCoup.goods_pri_perc / 10)\r\n        )\r\n\r\n        return finallyTotal\r\n      }\r\n    } else if (\r\n      newCoup.hasOwnProperty('goods_coup_name') &&\r\n      newCoup.goods_coup_code.substr(0, 3) == 'III' &&\r\n      newCoup.itemType == '自由潛水面鏡'\r\n    ) {\r\n      //特定商品c004防寒衣超過件數打折\r\n      //特定商品:自由潛水蛙鞋 超過件數打折\r\n      for (let i = 0; i < items.length; i++) {\r\n        if (items[i].itemCategoryId == 'c002') {\r\n          // console.log(items.find(x => x.itemCategoryId === 'c005').amount)\r\n          inneritems = items.filter(function(item, index, array) {\r\n            return item.itemCategoryId === 'c002'\r\n          })\r\n          // console.log(x)\r\n        }\r\n      }\r\n      console.log(inneritems)\r\n      //計算陣列裡面的物件值\r\n      function countObj(array, key) {\r\n        return array.reduce(function(r, a) {\r\n          return r + a[key]\r\n        }, 0)\r\n      }\r\n      let objAmount = countObj(inneritems, 'amount')\r\n\r\n      // console.log(objAmount)\r\n      if (objAmount >= newCoup.goods_over) {\r\n        for (let x = 0; x < items.length; x++) {\r\n          ItemTotalPrice +=\r\n            items[x].amount * items[x].price * (newCoup.goods_pri_perc / 10)\r\n        }\r\n        return ItemTotalPrice\r\n      }\r\n    } else if (\r\n      newCoup.hasOwnProperty('goods_coup_name') &&\r\n      newCoup.goods_coup_code.substr(0, 3) == 'PMI' &&\r\n      newCoup.itemType == '自由潛水面鏡'\r\n    ) {\r\n      //特定商品防寒衣超過金額減價\r\n      //特定商品超過金額減價\r\n      for (let i = 0; i < items.length; i++) {\r\n        if (items[i].itemCategoryId == 'c002') {\r\n          // console.log(items.find(x => x.itemCategoryId === 'c005').amount)\r\n          inneritems = items.filter(function(item, index, array) {\r\n            return item.itemCategoryId === 'c002'\r\n          })\r\n          // console.log(x)\r\n        }\r\n      }\r\n      console.log(inneritems)\r\n\r\n      for (let t = 0; t < inneritems.length; t++) {\r\n        // console.log(inneritems[t].amount)\r\n        InnerTotal += inneritems[t].amount * parseInt(inneritems[t].price)\r\n      }\r\n      console.log(InnerTotal)\r\n\r\n      console.log(newCoup)\r\n      if (InnerTotal >= newCoup.goods_over) {\r\n        for (let x = 0; x < items.length; x++) {\r\n          ItemTotalPrice += items[x].amount * items[x].price\r\n        }\r\n        const FinallyToal = ItemTotalPrice - parseInt(newCoup.goods_pri_perc)\r\n        return FinallyToal\r\n      }\r\n    } else if (\r\n      newCoup.hasOwnProperty('goods_coup_name') &&\r\n      newCoup.goods_coup_code.substr(0, 3) == 'IMI' &&\r\n      newCoup.itemType == '自由潛水面鏡'\r\n    ) {\r\n      //以下是超過件數減價\r\n      for (let i = 0; i < items.length; i++) {\r\n        if (items[i].itemCategoryId == 'c002') {\r\n          // console.log(items.find(x => x.itemCategoryId === 'c005').amount)\r\n          inneritems = items.filter(function(item, index, array) {\r\n            return item.itemCategoryId === 'c002'\r\n          })\r\n          // console.log(x)\r\n        }\r\n      }\r\n      // console.log(inneritems)\r\n      //計算陣列裡面的物件值\r\n      function countObj(array, key) {\r\n        return array.reduce(function(r, a) {\r\n          return r + a[key]\r\n        }, 0)\r\n      }\r\n      let objAmount = countObj(inneritems, 'amount')\r\n\r\n      // console.log(objAmount)\r\n      if (objAmount >= newCoup.goods_over) {\r\n        for (let x = 0; x < items.length; x++) {\r\n          ItemTotalPrice += items[x].amount * items[x].price\r\n        }\r\n        const FinallyTotal = ItemTotalPrice - newCoup.goods_pri_perc\r\n        return FinallyTotal\r\n      }\r\n    } else if (\r\n      newCoup.hasOwnProperty('goods_coup_name') &&\r\n      newCoup.goods_coup_code.substr(0, 3) == 'PII' &&\r\n      newCoup.itemType == '自由潛水面鏡'\r\n    ) {\r\n      for (let i = 0; i < items.length; i++) {\r\n        if (items[i].itemCategoryId == 'c002') {\r\n          // console.log(items.find(x => x.itemCategoryId === 'c005').amount)\r\n          inneritems = items.filter(function(item, index, array) {\r\n            return item.itemCategoryId === 'c002'\r\n          })\r\n          // console.log(x)\r\n        }\r\n      }\r\n      console.log(inneritems)\r\n      // function countObj(array, key) {\r\n      //   return array.reduce(function(r, a) {\r\n      //     return r + a[key]\r\n      //   }, 0)\r\n      // }\r\n      // let objAmount = countObj(inneritems, 'amount')\r\n      // let objPrice = countObj(inneritems, 'price')\r\n      for (let t = 0; t < inneritems.length; t++) {\r\n        // console.log(inneritems[t].amount)\r\n        InnerTotal += inneritems[t].amount * parseInt(inneritems[t].price)\r\n      }\r\n      console.log(InnerTotal)\r\n      if (InnerTotal >= newCoup.goods_over) {\r\n        for (let x = 0; x < items.length; x++) {\r\n          ItemTotalPrice += items[x].amount * items[x].price\r\n        }\r\n        console.log(ItemTotalPrice)\r\n        console.log(newCoup.goods_pri_perc)\r\n        const finallyTotal = parseInt(\r\n          ItemTotalPrice * (newCoup.goods_pri_perc / 10)\r\n        )\r\n\r\n        return finallyTotal\r\n      }\r\n    } else if (\r\n      newCoup.hasOwnProperty('goods_coup_name') &&\r\n      newCoup.goods_coup_code.substr(0, 3) == 'III' &&\r\n      newCoup.itemType == '呼吸管'\r\n    ) {\r\n      //特定商品c004防寒衣超過件數打折\r\n      //特定商品:自由潛水蛙鞋 超過件數打折\r\n      for (let i = 0; i < items.length; i++) {\r\n        if (items[i].itemCategoryId == 'c003') {\r\n          // console.log(items.find(x => x.itemCategoryId === 'c005').amount)\r\n          inneritems = items.filter(function(item, index, array) {\r\n            return item.itemCategoryId === 'c003'\r\n          })\r\n          // console.log(x)\r\n        }\r\n      }\r\n      console.log(inneritems)\r\n      //計算陣列裡面的物件值\r\n      function countObj(array, key) {\r\n        return array.reduce(function(r, a) {\r\n          return r + a[key]\r\n        }, 0)\r\n      }\r\n      let objAmount = countObj(inneritems, 'amount')\r\n\r\n      // console.log(objAmount)\r\n      if (objAmount >= newCoup.goods_over) {\r\n        for (let x = 0; x < items.length; x++) {\r\n          ItemTotalPrice +=\r\n            items[x].amount * items[x].price * (newCoup.goods_pri_perc / 10)\r\n        }\r\n        return ItemTotalPrice\r\n      }\r\n    } else if (\r\n      newCoup.hasOwnProperty('goods_coup_name') &&\r\n      newCoup.goods_coup_code.substr(0, 3) == 'PMI' &&\r\n      newCoup.itemType == '呼吸管'\r\n    ) {\r\n      //特定商品防寒衣超過金額減價\r\n      //特定商品超過金額減價\r\n      for (let i = 0; i < items.length; i++) {\r\n        if (items[i].itemCategoryId == 'c003') {\r\n          // console.log(items.find(x => x.itemCategoryId === 'c005').amount)\r\n          inneritems = items.filter(function(item, index, array) {\r\n            return item.itemCategoryId === 'c003'\r\n          })\r\n          // console.log(x)\r\n        }\r\n      }\r\n      console.log(inneritems)\r\n\r\n      for (let t = 0; t < inneritems.length; t++) {\r\n        // console.log(inneritems[t].amount)\r\n        InnerTotal += inneritems[t].amount * parseInt(inneritems[t].price)\r\n      }\r\n      console.log(InnerTotal)\r\n\r\n      console.log(newCoup)\r\n      if (InnerTotal >= newCoup.goods_over) {\r\n        for (let x = 0; x < items.length; x++) {\r\n          ItemTotalPrice += items[x].amount * items[x].price\r\n        }\r\n        const FinallyToal = ItemTotalPrice - parseInt(newCoup.goods_pri_perc)\r\n        return FinallyToal\r\n      }\r\n    } else if (\r\n      newCoup.hasOwnProperty('goods_coup_name') &&\r\n      newCoup.goods_coup_code.substr(0, 3) == 'IMI' &&\r\n      newCoup.itemType == '呼吸管'\r\n    ) {\r\n      //以下是超過件數減價\r\n      for (let i = 0; i < items.length; i++) {\r\n        if (items[i].itemCategoryId == 'c003') {\r\n          // console.log(items.find(x => x.itemCategoryId === 'c005').amount)\r\n          inneritems = items.filter(function(item, index, array) {\r\n            return item.itemCategoryId === 'c003'\r\n          })\r\n          // console.log(x)\r\n        }\r\n      }\r\n      // console.log(inneritems)\r\n      //計算陣列裡面的物件值\r\n      function countObj(array, key) {\r\n        return array.reduce(function(r, a) {\r\n          return r + a[key]\r\n        }, 0)\r\n      }\r\n      let objAmount = countObj(inneritems, 'amount')\r\n\r\n      // console.log(objAmount)\r\n      if (objAmount >= newCoup.goods_over) {\r\n        for (let x = 0; x < items.length; x++) {\r\n          ItemTotalPrice += items[x].amount * items[x].price\r\n        }\r\n        const FinallyTotal = ItemTotalPrice - newCoup.goods_pri_perc\r\n        return FinallyTotal\r\n      }\r\n    } else if (\r\n      newCoup.hasOwnProperty('goods_coup_name') &&\r\n      newCoup.goods_coup_code.substr(0, 3) == 'PII' &&\r\n      newCoup.itemType == '呼吸管'\r\n    ) {\r\n      for (let i = 0; i < items.length; i++) {\r\n        if (items[i].itemCategoryId == 'c003') {\r\n          // console.log(items.find(x => x.itemCategoryId === 'c005').amount)\r\n          inneritems = items.filter(function(item, index, array) {\r\n            return item.itemCategoryId === 'c003'\r\n          })\r\n          // console.log(x)\r\n        }\r\n      }\r\n      console.log(inneritems)\r\n      // function countObj(array, key) {\r\n      //   return array.reduce(function(r, a) {\r\n      //     return r + a[key]\r\n      //   }, 0)\r\n      // }\r\n      // let objAmount = countObj(inneritems, 'amount')\r\n      // let objPrice = countObj(inneritems, 'price')\r\n      for (let t = 0; t < inneritems.length; t++) {\r\n        // console.log(inneritems[t].amount)\r\n        InnerTotal += inneritems[t].amount * parseInt(inneritems[t].price)\r\n      }\r\n      console.log(InnerTotal)\r\n      if (InnerTotal >= newCoup.goods_over) {\r\n        for (let x = 0; x < items.length; x++) {\r\n          ItemTotalPrice += items[x].amount * items[x].price\r\n        }\r\n        console.log(ItemTotalPrice)\r\n        console.log(newCoup.goods_pri_perc)\r\n        const finallyTotal = parseInt(\r\n          ItemTotalPrice * (newCoup.goods_pri_perc / 10)\r\n        )\r\n\r\n        return finallyTotal\r\n      }\r\n    } else if (\r\n      newCoup.hasOwnProperty('goods_coup_name') &&\r\n      newCoup.goods_coup_code.substr(0, 3) == 'III' &&\r\n      newCoup.itemType == '其他周邊'\r\n    ) {\r\n      //特定商品c004防寒衣超過件數打折\r\n      //特定商品:自由潛水蛙鞋 超過件數打折\r\n      for (let i = 0; i < items.length; i++) {\r\n        if (items[i].itemCategoryId == 'c006') {\r\n          // console.log(items.find(x => x.itemCategoryId === 'c005').amount)\r\n          inneritems = items.filter(function(item, index, array) {\r\n            return item.itemCategoryId === 'c006'\r\n          })\r\n          // console.log(x)\r\n        }\r\n      }\r\n      console.log(inneritems)\r\n      //計算陣列裡面的物件值\r\n      function countObj(array, key) {\r\n        return array.reduce(function(r, a) {\r\n          return r + a[key]\r\n        }, 0)\r\n      }\r\n      let objAmount = countObj(inneritems, 'amount')\r\n\r\n      // console.log(objAmount)\r\n      if (objAmount >= newCoup.goods_over) {\r\n        for (let x = 0; x < items.length; x++) {\r\n          ItemTotalPrice +=\r\n            items[x].amount * items[x].price * (newCoup.goods_pri_perc / 10)\r\n        }\r\n        return ItemTotalPrice\r\n      }\r\n    } else if (\r\n      newCoup.hasOwnProperty('goods_coup_name') &&\r\n      newCoup.goods_coup_code.substr(0, 3) == 'PMI' &&\r\n      newCoup.itemType == '其他周邊'\r\n    ) {\r\n      //特定商品防寒衣超過金額減價\r\n      //特定商品超過金額減價\r\n      for (let i = 0; i < items.length; i++) {\r\n        if (items[i].itemCategoryId == 'c006') {\r\n          // console.log(items.find(x => x.itemCategoryId === 'c005').amount)\r\n          inneritems = items.filter(function(item, index, array) {\r\n            return item.itemCategoryId === 'c006'\r\n          })\r\n          // console.log(x)\r\n        }\r\n      }\r\n      console.log(inneritems)\r\n\r\n      for (let t = 0; t < inneritems.length; t++) {\r\n        // console.log(inneritems[t].amount)\r\n        InnerTotal += inneritems[t].amount * parseInt(inneritems[t].price)\r\n      }\r\n      console.log(InnerTotal)\r\n\r\n      console.log(newCoup)\r\n      if (InnerTotal >= newCoup.goods_over) {\r\n        for (let x = 0; x < items.length; x++) {\r\n          ItemTotalPrice += items[x].amount * items[x].price\r\n        }\r\n        const FinallyToal = ItemTotalPrice - parseInt(newCoup.goods_pri_perc)\r\n        return FinallyToal\r\n      }\r\n    } else if (\r\n      newCoup.hasOwnProperty('goods_coup_name') &&\r\n      newCoup.goods_coup_code.substr(0, 3) == 'IMI' &&\r\n      newCoup.itemType == '其他周邊'\r\n    ) {\r\n      //以下是超過件數減價\r\n      for (let i = 0; i < items.length; i++) {\r\n        if (items[i].itemCategoryId == 'c006') {\r\n          // console.log(items.find(x => x.itemCategoryId === 'c005').amount)\r\n          inneritems = items.filter(function(item, index, array) {\r\n            return item.itemCategoryId === 'c006'\r\n          })\r\n          // console.log(x)\r\n        }\r\n      }\r\n      // console.log(inneritems)\r\n      //計算陣列裡面的物件值\r\n      function countObj(array, key) {\r\n        return array.reduce(function(r, a) {\r\n          return r + a[key]\r\n        }, 0)\r\n      }\r\n      let objAmount = countObj(inneritems, 'amount')\r\n\r\n      // console.log(objAmount)\r\n      if (objAmount >= newCoup.goods_over) {\r\n        for (let x = 0; x < items.length; x++) {\r\n          ItemTotalPrice += items[x].amount * items[x].price\r\n        }\r\n        const FinallyTotal = ItemTotalPrice - newCoup.goods_pri_perc\r\n        return FinallyTotal\r\n      }\r\n    } else if (\r\n      newCoup.hasOwnProperty('goods_coup_name') &&\r\n      newCoup.goods_coup_code.substr(0, 3) == 'PII' &&\r\n      newCoup.itemType == '其他周邊'\r\n    ) {\r\n      for (let i = 0; i < items.length; i++) {\r\n        if (items[i].itemCategoryId == 'c006') {\r\n          // console.log(items.find(x => x.itemCategoryId === 'c005').amount)\r\n          inneritems = items.filter(function(item, index, array) {\r\n            return item.itemCategoryId === 'c006'\r\n          })\r\n          // console.log(x)\r\n        }\r\n      }\r\n      console.log(inneritems)\r\n      // function countObj(array, key) {\r\n      //   return array.reduce(function(r, a) {\r\n      //     return r + a[key]\r\n      //   }, 0)\r\n      // }\r\n      // let objAmount = countObj(inneritems, 'amount')\r\n      // let objPrice = countObj(inneritems, 'price')\r\n      for (let t = 0; t < inneritems.length; t++) {\r\n        // console.log(inneritems[t].amount)\r\n        InnerTotal += inneritems[t].amount * parseInt(inneritems[t].price)\r\n      }\r\n      console.log(InnerTotal)\r\n      if (InnerTotal >= newCoup.goods_over) {\r\n        for (let x = 0; x < items.length; x++) {\r\n          ItemTotalPrice += items[x].amount * items[x].price\r\n        }\r\n        console.log(ItemTotalPrice)\r\n        console.log(newCoup.goods_pri_perc)\r\n        const finallyTotal = parseInt(\r\n          ItemTotalPrice * (newCoup.goods_pri_perc / 10)\r\n        )\r\n\r\n        return finallyTotal\r\n      }\r\n    }\r\n  }\r\n  // c004 防寒衣\r\n  //生成givi的函式\r\n  const handleGivi = (items, newCoup) => {\r\n    console.log(newCoup)\r\n    console.log(items)\r\n    // const transferGivi = {}\r\n\r\n    if (newCoup.hasOwnProperty('givi_coup_name')) {\r\n      function countObj(array, key) {\r\n        return array.reduce(function(r, a) {\r\n          return r + a[key]\r\n        }, 0)\r\n      }\r\n      let objGiviAmount = countObj(items, 'amount')\r\n      let objPrice = countObj(items, 'price')\r\n\r\n      if (objGiviAmount * objPrice >= newCoup.givi_over) {\r\n        const transferGivi = {\r\n          givi_name: newCoup.givi_coup_name,\r\n          givi_img: newCoup.givi_coup_img,\r\n        }\r\n        return transferGivi\r\n      }\r\n    }\r\n  }\r\n  const coupTableData = props.userCouponData ? (\r\n    Object.keys(props['userCouponData']).map(key => {\r\n      if (key === 'CouponResultData') {\r\n        const coupon_info = props['userCouponData'][key]\r\n        return coupon_info.map((value, index) => {\r\n          const {\r\n            order_coup_name,\r\n            goods_coup_name,\r\n            givi_coup_name,\r\n            order_coup_img,\r\n            goods_coup_img,\r\n            givi_coup_img,\r\n            goods_coup_code,\r\n            order_coup_code,\r\n            givi_coup_code,\r\n            order_coup_start,\r\n            givi_coup_start,\r\n            goods_coup_start,\r\n            givi_coup_end,\r\n            goods_coup_end,\r\n            order_coup_end,\r\n            goods_over,\r\n            order_over,\r\n            givi_over,\r\n            order_pri_perc,\r\n            goods_pri_perc,\r\n            itemType,\r\n          } = value\r\n          return (\r\n            <tr\r\n              className=\"tr-chin\"\r\n              onClick={event => {\r\n                typeInputActive(event)\r\n                setCouponChoose({\r\n                  ...couponChoose,\r\n                  order_coup_name,\r\n                  goods_coup_name,\r\n                  givi_coup_name,\r\n                  goods_coup_code,\r\n                  order_coup_code,\r\n                  givi_coup_code,\r\n                  goods_over,\r\n                  order_over,\r\n                  givi_over,\r\n                  order_pri_perc,\r\n                  goods_pri_perc,\r\n                  itemType,\r\n                  givi_coup_img,\r\n                })\r\n              }}\r\n            >\r\n              <td></td>\r\n              <td className=\"check_box_ex\">\r\n                <p>\r\n                  {order_coup_name ? (\r\n                    order_coup_name\r\n                  ) : (\r\n                    <h2 hidden>\"其他種類優惠券名稱\"</h2>\r\n                  )}\r\n                  {goods_coup_name ? (\r\n                    goods_coup_name\r\n                  ) : (\r\n                    <h2 hidden>\"其他種類優惠券名稱\"</h2>\r\n                  )}\r\n                  {givi_coup_name ? (\r\n                    givi_coup_name\r\n                  ) : (\r\n                    <h2 hidden>\"其他種類優惠券名稱\"</h2>\r\n                  )}\r\n                </p>\r\n              </td>\r\n              <td className=\"check_box_ex\">\r\n                {<img\r\n                  width=\"50\"\r\n                  height=\"50\"\r\n                  src={'http://localhost:5000/images/coup/' + order_coup_img}\r\n                  alt=\"\"\r\n                /> ? (\r\n                  <img\r\n                    width=\"50\"\r\n                    height=\"50\"\r\n                    src={'http://localhost:5000/images/coup/' + order_coup_img}\r\n                    alt=\"\"\r\n                  />\r\n                ) : (\r\n                  <img hidden />\r\n                )}\r\n                {<img\r\n                  width=\"50\"\r\n                  height=\"50\"\r\n                  src={'http://localhost:5000/images/coup/' + goods_coup_img}\r\n                  alt=\"\"\r\n                /> ? (\r\n                  <img\r\n                    width=\"50\"\r\n                    height=\"50\"\r\n                    src={'http://localhost:5000/images/coup/' + goods_coup_img}\r\n                    alt=\"\"\r\n                  />\r\n                ) : (\r\n                  <img hidden />\r\n                )}\r\n                {<img\r\n                  height=\"50\"\r\n                  width=\"50\"\r\n                  src={'http://localhost:5000/images/coup/' + givi_coup_img}\r\n                  alt=\"\"\r\n                /> ? (\r\n                  <img\r\n                    width=\"50\"\r\n                    height=\"50\"\r\n                    src={'http://localhost:5000/images/coup/' + givi_coup_img}\r\n                    alt=\"\"\r\n                  />\r\n                ) : (\r\n                  <img hidden />\r\n                )}\r\n              </td>\r\n              <td className=\"check_box_ex\">\r\n                <p>\r\n                  {goods_coup_code ? (\r\n                    goods_coup_code\r\n                  ) : (\r\n                    <h2 hidden>\"其他種類coup_code\"</h2>\r\n                  )}\r\n                  {order_coup_code ? (\r\n                    order_coup_code\r\n                  ) : (\r\n                    <h2 hidden>\"其他種類coup_code\"</h2>\r\n                  )}\r\n                  {givi_coup_code ? (\r\n                    givi_coup_code\r\n                  ) : (\r\n                    <h2 hidden>\"其他種類coup_code\"</h2>\r\n                  )}\r\n                </p>\r\n              </td>\r\n              <td className=\"check_box_ex\">\r\n                <p>\r\n                  {givi_coup_start ? (\r\n                    givi_coup_start\r\n                  ) : (\r\n                    <h2 hidden>\"其他種類coup_start\"</h2>\r\n                  )}\r\n                  {order_coup_start ? (\r\n                    order_coup_start\r\n                  ) : (\r\n                    <h2 hidden>\"其他種類coup_start\"</h2>\r\n                  )}\r\n                  {goods_coup_start ? (\r\n                    goods_coup_start\r\n                  ) : (\r\n                    <h2 hidden>\"其他種類coup_start\"</h2>\r\n                  )}\r\n                </p>\r\n              </td>\r\n              <td className=\"check_box_ex\">\r\n                {givi_coup_end ? (\r\n                  givi_coup_end\r\n                ) : (\r\n                  <h2 hidden>\"其他種類coup_end\"</h2>\r\n                )}\r\n                {order_coup_end ? (\r\n                  order_coup_end\r\n                ) : (\r\n                  <h2 hidden>\"其他種類coup_end\"</h2>\r\n                )}\r\n                {goods_coup_end ? (\r\n                  goods_coup_end\r\n                ) : (\r\n                  <h2 hidden>\"其他種類coup_end\"</h2>\r\n                )}\r\n              </td>\r\n            </tr>\r\n          )\r\n        })\r\n      }\r\n    })\r\n  ) : (\r\n    <Loading />\r\n  )\r\n\r\n  // handleDelete = product => {\r\n  //   const cart = this.props.data.cart\r\n  //   const index = cart.indexOf(product)\r\n  //   cart.splice(index, 1)\r\n  //   this.setState({ cart })\r\n  //   document.body.style.overflow = 'auto'\r\n  // }\r\n\r\n  return (\r\n    <>\r\n      <Header handleDelete={handleDelete} />\r\n      <Banner BannerImgSrc=\"/images/ShoppingBanner.jpg\" />\r\n      <div className=\"container CW\">\r\n        <div className=\"row CW-shoppingCart\">\r\n          <div className=\"col-12 cart-header\">{/* <Breadcrumb /> */}</div>\r\n          <div className=\"col-md-8 mb-3 table-wrapper\">\r\n            <div className=\"card\">\r\n              <div className=\"card-header d-flex \">\r\n                <div className=\"col-1\">\r\n                  <input type=\"checkbox\" name=\"\" id=\"\" />\r\n                </div>\r\n                <div className=\"col d-flex align-items-center\">\r\n                  <i className=\"material-icons\">storefront</i>\r\n                  <span>{}</span>\r\n                </div>\r\n                <div className=\"col\">\r\n                  <h6>數量</h6>\r\n                </div>\r\n                <div className=\"col\">\r\n                  <h6>金額</h6>\r\n                </div>\r\n              </div>\r\n              <div className=\"card-body\">\r\n                {<CartItem mycart={mycart} handleDelete={handleDelete} />}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-md-4 check-wrapper\">\r\n            <div className=\"card\">\r\n              <div className=\"card-header d-flex justify-content-lg-around bg-light\">\r\n                <h6 className=\"mt-2\">訂單摘要</h6>\r\n                <button onClick={event => show(event)} className=\"btn chin_btn\">\r\n                  使用優惠\r\n                </button>\r\n              </div>\r\n              <div className=\"check-main card-body\">\r\n                <div className=\"d-flex justify-content-between\">\r\n                  <span>商品總計</span>\r\n                  <span>NT$ {sum(mycart)}</span>\r\n                </div>\r\n                <div className=\"d-flex justify-content-between\">\r\n                  <span>折扣金額</span>\r\n                  <span>\r\n                    {newCoup.hasOwnProperty('goods_coup_name')\r\n                      ? handleItemSum(mycart, newCoup) - sum(mycart)\r\n                      : ''}\r\n                    {newCoup.hasOwnProperty('order_coup_name')\r\n                      ? handleOrderSum(mycart, newCoup) - sum(mycart)\r\n                      : ''}\r\n                    {newCoup.hasOwnProperty('givi_coup_name') ? 0 : ''}\r\n                  </span>\r\n                </div>\r\n                <br />\r\n                <div className=\"d-flex justify-content-between\">\r\n                  <span>輸入折扣碼</span>\r\n                  {couptInput.hasOwnProperty('goods_coup_name') ? (\r\n                    <input\r\n                      readOnly\r\n                      value={couptInput.goods_coup_code}\r\n                      type=\"text\"\r\n                      name=\"\"\r\n                      className=\"w-50\"\r\n                      id=\"\"\r\n                      // onChange={e =>\r\n                      //   setNewCoup([...newCoup, couptInput.goods_coup_code])\r\n                      // }\r\n                    />\r\n                  ) : (\r\n                    <h2 hidden>沒有這種優惠券</h2>\r\n                  )}\r\n                  {couptInput.hasOwnProperty('order_coup_name') ? (\r\n                    <input\r\n                      readOnly\r\n                      value={couptInput.order_coup_code}\r\n                      type=\"text\"\r\n                      name=\"\"\r\n                      className=\"w-50\"\r\n                      id=\"\"\r\n                      // onChange={e =>\r\n                      //   setNewCoup([...newCoup, couptInput.order_coup_code])\r\n                      // }\r\n                    />\r\n                  ) : (\r\n                    <h2 hidden>沒有這種優惠券</h2>\r\n                  )}\r\n                  {couptInput.hasOwnProperty('givi_coup_name') ? (\r\n                    <input\r\n                      readOnly\r\n                      value={couptInput.givi_coup_code}\r\n                      type=\"text\"\r\n                      name=\"\"\r\n                      className=\"w-50\"\r\n                      id=\"\"\r\n                      // onChange={e =>\r\n                      //   setNewCoup([...newCoup, couptInput.givi_coup_code])\r\n                      // }\r\n                    />\r\n                  ) : (\r\n                    <h2 hidden>沒有這種優惠券</h2>\r\n                  )}\r\n                </div>\r\n              </div>\r\n              <div className=\"card-footer\">\r\n                <div className=\"d-flex justify-content-between\">\r\n                  <h5>結帳總金額</h5>\r\n                  <h5>NT$ {sum(mycart)}</h5>\r\n                </div>\r\n                <div className=\"d-flex justify-content-between\">\r\n                  <h5>折扣後金額</h5>\r\n\r\n                  <h5>\r\n                    NT$\r\n                    {newCoup.hasOwnProperty('goods_coup_name')\r\n                      ? handleItemSum(mycart, newCoup)\r\n                      : ''}\r\n                    {newCoup.hasOwnProperty('order_coup_name')\r\n                      ? handleOrderSum(mycart, newCoup)\r\n                      : ''}\r\n                  </h5>\r\n                </div>\r\n                <div className=\"d-flex justify-content-between\">\r\n                  <h5>贈品名</h5>\r\n                  <p>\r\n                    {/* {newCoup.hasOwnProperty('givi_coup_name')\r\n                      ? handleGivi(mycart, newCoup)\r\n                      : ''} */}\r\n                    {newCoup.hasOwnProperty('givi_coup_name')\r\n                      ? handleGivi(mycart, newCoup).givi_name\r\n                      : ''}\r\n                  </p>\r\n                </div>\r\n                <div className=\"d-flex justify-content-between\">\r\n                  <h5>贈品圖片</h5>\r\n                  <div className=\"mr-4\">\r\n                    <img\r\n                      width=\"30\"\r\n                      height=\"30\"\r\n                      src={\r\n                        newCoup.hasOwnProperty('givi_coup_name')\r\n                          ? 'http://localhost:5000/images/coup/' +\r\n                            handleGivi(mycart, newCoup).givi_img\r\n                          : noImg\r\n                      }\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <br />\r\n                <button\r\n                  className=\"check-btn btn btn-lg w-100\"\r\n                  onClick={() => {\r\n                    checkOut()\r\n                  }}\r\n                >\r\n                  前往結帳\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <Rodal\r\n          width=\"800\"\r\n          height=\"600\"\r\n          visible={rodalState.visible}\r\n          onClose={event => hide(event)}\r\n        >\r\n          <div className=\"container\">\r\n            <div className=\"row\">\r\n              <div className=\"col-md-12\">\r\n                <table className=\"table table-chin\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th scope=\"col\">請選擇</th>\r\n                      <th scope=\"col\">優惠券名</th>\r\n                      <th scope=\"col\">優惠圖片</th>\r\n                      <th scope=\"col\">優惠碼</th>\r\n                      <th scope=\"col\">起始時間</th>\r\n                      <th scope=\"col\">結束時間</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>{coupTableData}</tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n            <div className=\"row\">\r\n              <div className=\"col-md-12\">\r\n                <h2>您的選擇:</h2>\r\n                {(() => {\r\n                  if (\r\n                    couponChoose.order_coup_name == null &&\r\n                    couponChoose.givi_coup_name == null &&\r\n                    couponChoose.order_coup_code == null &&\r\n                    couponChoose.givi_coup_code == null\r\n                  ) {\r\n                    return (\r\n                      <div className=\"d-flex justify-content-around couponContent\">\r\n                        <h5>優惠名:</h5>\r\n                        <h5>{couponChoose.goods_coup_name}</h5>\r\n                        <h5>優惠碼:</h5>\r\n                        <h5>{couponChoose.goods_coup_code}</h5>\r\n                        <div>\r\n                          <button\r\n                            onClick={event => {\r\n                              couponCheck()\r\n                            }}\r\n                            className=\"btn btn-primary chin_btn\"\r\n                          >\r\n                            設定\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    )\r\n                  } else if (\r\n                    couponChoose.goods_coup_name == null &&\r\n                    couponChoose.givi_coup_name == null &&\r\n                    couponChoose.goods_coup_code == null &&\r\n                    couponChoose.givi_coup_code == null\r\n                  ) {\r\n                    return (\r\n                      <div className=\"d-flex justify-content-between couponContent\">\r\n                        <h5>優惠名:</h5>\r\n                        <h5>{couponChoose.order_coup_name}</h5>\r\n                        <h5>優惠碼:</h5>\r\n                        <h5>{couponChoose.order_coup_code}</h5>\r\n                        <div>\r\n                          <button\r\n                            onClick={event => {\r\n                              couponCheck()\r\n                            }}\r\n                            className=\"btn btn-primary chin_btn\"\r\n                          >\r\n                            設定\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    )\r\n                  } else {\r\n                    return (\r\n                      <div className=\"d-flex justify-content-around couponContent\">\r\n                        <h5>優惠名:</h5>\r\n                        <h5>{couponChoose.givi_coup_name}</h5>\r\n                        <h5>優惠碼:</h5>\r\n                        <h5>{couponChoose.givi_coup_code}</h5>\r\n                        <div>\r\n                          <button\r\n                            onClick={event => {\r\n                              couponCheck()\r\n                              // cartcalculate()\r\n                            }}\r\n                            className=\"btn btn-primary chin_btn\"\r\n                          >\r\n                            設定\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    )\r\n                  }\r\n                })()}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </Rodal>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\nconst mapStateToProps = store => {\r\n  return {\r\n    userCouponData: store.memberReducer.userCouponData,\r\n    // getNowCoupData : store.sellerReducer.getNowCoupData\r\n  }\r\n}\r\n\r\n// 指示dispatch要綁定哪些action creators\r\nconst mapDispatchToProps = dispatch => {\r\n  // return bindActionCreators({getUserCouponDetaiAsync,getNowCoupDataAsync}, dispatch)\r\n  return bindActionCreators(\r\n    { memberCheckOutAsync, getUserCouponDetaiAsync },\r\n    dispatch\r\n  )\r\n}\r\n\r\nexport default withRouter(\r\n  connect(mapStateToProps, mapDispatchToProps)(ShoppingCart)\r\n)\r\n\r\n// export default connect()(ShoppingCart)\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport emailjs from 'emailjs-com'\r\nimport '../../style/CW_items.scss'\r\n// import { userRegisterAsync } from '../actions/index'\r\n\r\nimport { getCityDataAsync, getDistDataAsync } from '../../actions/seller/index'\r\nimport { memberCheckOutStep2Async } from '../../actions/order/order_Actions'\r\n\r\n//引入元件\r\nimport Header from '../../components/Header'\r\nimport Banner from '../../components/Banner'\r\n// import Breadcrumb from '../../components/item/Breadcrumb'\r\n\r\nfunction CheckOut(props) {\r\n  console.log(props)\r\n  const [addressCity, setAddressCity] = useState('') //儲存使用者選擇的縣市\r\n  const [addressDist, setAddressDist] = useState('') //儲存使用者選擇的地區\r\n\r\n  const [name, setName] = useState('')\r\n  const [addcode, setAddcode] = useState('')\r\n  const [area, setArea] = useState('')\r\n  const [address, setAddress] = useState('')\r\n  const [phone, setPhone] = useState('')\r\n  const [note, setNote] = useState('')\r\n\r\n  // setArea(addressCity + addressDist)\r\n  useEffect(() => {\r\n    props.getCityDataAsync()\r\n    // props.getDistDataAsync()\r\n  }, [])\r\n\r\n  const orderInfo = {}\r\n  orderInfo.id = props.orderData.orderId\r\n  orderInfo.name = name\r\n  orderInfo.addcode = addcode\r\n  orderInfo.area = area\r\n  orderInfo.address = address\r\n  orderInfo.phone = phone\r\n  orderInfo.note = note\r\n  function post() {\r\n    // console.log(orderInfo)\r\n    sendmail()\r\n    props.memberCheckOutStep2Async(orderInfo)\r\n  }\r\n  // let member_email, member_name\r\n  const sendmail = () => {\r\n    let templateParams = {\r\n      // userMail: `${member_email}`,\r\n      userEmail: `mfeeaqua@gmail.com`,\r\n      // user:`${member_name}`,\r\n      user: `Harry`,\r\n      orderId: `${props.orderData.orderId}`,\r\n      y: new Date().getFullYear,\r\n      m: new Date().getMonth,\r\n      d: new Date().getDate,\r\n      h: new Date().getHours,\r\n      mi: new Date().getMinutes,\r\n      golink: \"<a href='http://127.0.0.1:3000/member/myorder'>前往我的訂單</a>\",\r\n    }\r\n\r\n    let service_id = 'wei-gmail'\r\n    let template_id = 'order'\r\n    let userID = 'user_roXuGDFzkucpFLYnGvBrE'\r\n    emailjs\r\n      .send(service_id, template_id, templateParams, userID)\r\n      .then(response => {\r\n        // console.log('SUCCESS!', response.status, response.text)\r\n      })\r\n      .catch(error => {\r\n        // console.log('FAILED...', error)\r\n      })\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <Banner BannerImgSrc=\"/images/ShoppingBanner.jpg\" />\r\n      <div className=\"container CW\">\r\n        <div className=\"row CW-checkOut\">\r\n          <div className=\"col-12 cart-header\">\r\n            {/* <ol className=\"breadcrumb\">\r\n              <li className=\"breadcrumb-item\">\r\n                <a href=\"#\">填寫寄件資訊</a>\r\n              </li>\r\n            </ol> */}\r\n          </div>\r\n\r\n          <div className=\"col-md-8 form-wrapper\">\r\n            <div className=\"card mb-3\">\r\n              <div className=\"card-header bg-light\">\r\n                <h6>收件人資訊</h6>\r\n              </div>\r\n              <div className=\"card-body d-flex\">\r\n                <div className=\"col-2 form-label d-flex flex-column\">\r\n                  <label htmlFor=\"name\">姓名:</label>\r\n                  <label htmlFor=\"area\">地區:</label>\r\n                  <label htmlFor=\"address\">地址:</label>\r\n                  <label htmlFor=\"phone\">電話:</label>\r\n                  <label htmlFor=\"note\">備註:</label>\r\n                </div>\r\n                <div className=\"col-10\">\r\n                  <input\r\n                    className=\"form-control\"\r\n                    type=\"text\"\r\n                    name=\"name\"\r\n                    id=\"name\"\r\n                    onChange={event => {\r\n                      const name = event.target.value\r\n                      setName(name)\r\n                    }}\r\n                  />\r\n                  <div className=\"form-row\">\r\n                    <div className=\"col\">\r\n                      <input\r\n                        className=\"form-control\"\r\n                        type=\"text\"\r\n                        name=\"zip\"\r\n                        id=\"zip\"\r\n                        disabled\r\n                        onChange={event => {\r\n                          const addcode = event.target.value\r\n                          setAddcode(addcode)\r\n                        }}\r\n                      />\r\n                    </div>\r\n                    <div className=\"col\">\r\n                      <select\r\n                        name=\"\"\r\n                        className=\"form-control\"\r\n                        onChange={event => {\r\n                          const city = event.target.value\r\n                          props.getDistDataAsync(city) //取得相對應的地區資料\r\n                          setAddressCity(city) //設定課程地點(縣市)到本地state\r\n                          setAddressDist('')\r\n                          // setClassFullLocation('')\r\n                          // setClassLocation('')\r\n                          // document.querySelector(\r\n                          //   'input[name=\"classFullLocation\"]'\r\n                          // ).value = ''\r\n                        }}\r\n                      >\r\n                        <option value=\"\">請選擇縣市</option>\r\n                        {props.cityData.length > 0\r\n                          ? props.cityData.map((value, index) => {\r\n                              return (\r\n                                <option value={value.name} key={index}>\r\n                                  {value.name}\r\n                                </option>\r\n                              )\r\n                            })\r\n                          : ''}\r\n                      </select>\r\n                    </div>\r\n                    <div className=\"col\">\r\n                      <select\r\n                        name=\"\"\r\n                        id=\"\"\r\n                        className=\"form-control\"\r\n                        onBlur={() => {\r\n                          setArea(addressCity + addressDist)\r\n                        }}\r\n                        onChange={event => {\r\n                          const dist = event.target.value\r\n                          setAddressDist(dist)\r\n\r\n                          // setClassFullLocation('')\r\n                          // setClassLocation('')\r\n                          // document.querySelector(\r\n                          //   'input[name=\"classFullLocation\"]'\r\n                          // ).value = ''\r\n                        }}\r\n                      >\r\n                        <option value=\"\">請選擇地區</option>\r\n                        {props.distData.length > 0\r\n                          ? props.distData.map((value, index) => {\r\n                              return (\r\n                                <option value={value} key={index}>\r\n                                  {value}\r\n                                </option>\r\n                              )\r\n                            })\r\n                          : ''}\r\n                      </select>\r\n                    </div>\r\n                  </div>\r\n                  <input\r\n                    className=\"form-control\"\r\n                    type=\"text\"\r\n                    name=\"address\"\r\n                    id=\"address\"\r\n                    onChange={event => {\r\n                      const address = event.target.value\r\n                      setAddress(address)\r\n                    }}\r\n                  />\r\n                  <input\r\n                    className=\"form-control\"\r\n                    type=\"phone\"\r\n                    name=\"phone\"\r\n                    id=\"phone\"\r\n                    onChange={event => {\r\n                      const phone = event.target.value\r\n                      setPhone(phone)\r\n                    }}\r\n                  />\r\n                  <textarea\r\n                    className=\"form-control\"\r\n                    name=\"note\"\r\n                    id=\"note\"\r\n                    cols=\"30\"\r\n                    rows=\"5\"\r\n                    onChange={event => {\r\n                      const note = event.target.value\r\n                      setNote(note)\r\n                    }}\r\n                  ></textarea>\r\n                </div>\r\n              </div>\r\n              <div className=\"card-footer\">儲存收件資訊</div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-md-4 check-wrapper\">\r\n            <div className=\"card\">\r\n              <div className=\"card-header bg-light\">\r\n                <h6>選擇付款方式</h6>\r\n              </div>\r\n              <div className=\"check-payBy card-body\">\r\n                <input type=\"radio\" name=\"pay\" id=\"cradit\" />\r\n                <label htmlFor=\"cradit\">信用卡</label>\r\n                <br />\r\n                <input type=\"radio\" name=\"pay\" id=\"transfer\" />\r\n                <label htmlFor=\"transfer\">帳戶轉帳</label>\r\n              </div>\r\n              <div className=\"card-header bg-light\">\r\n                <h6>選擇物流方式</h6>\r\n              </div>\r\n              <div className=\"check-shipBy card-body\">\r\n                <input type=\"radio\" name=\"shipping\" id=\"store\" />\r\n                <label htmlFor=\"store\">便利商店取貨</label>\r\n                <br />\r\n                <input type=\"radio\" name=\"shipping\" id=\"home\" />\r\n                <label htmlFor=\"home\">宅配</label>\r\n              </div>\r\n              <div className=\"card-footer\">\r\n                <button\r\n                  className=\"check-btn btn btn-lg w-100\"\r\n                  onClick={\r\n                    () => {\r\n                      post()\r\n                    }\r\n                    // sendmail\r\n                  }\r\n                >\r\n                  <Link to=\"/member/created\">完成訂單</Link>\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n// 取得Redux中store的值\r\nconst mapStateToProps = store => {\r\n  return {\r\n    orderData: store.orderReducer.memberCheckOutResponse,\r\n    cityData: store.sellerReducer.cityData,\r\n    distData: store.sellerReducer.distData,\r\n  }\r\n}\r\n\r\n// 指示dispatch要綁定哪些action creators\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      getCityDataAsync,\r\n      getDistDataAsync,\r\n      memberCheckOutStep2Async,\r\n    },\r\n    dispatch\r\n  )\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CheckOut)\r\n","import React, { useEffect, useState } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\n\r\nimport { getOrderDetailDataAsync } from '../../actions/order/order_Actions'\r\n\r\nimport '../../style/CW_items.scss'\r\n\r\nimport Header from '../../components/Header'\r\nimport Banner from '../../components/Banner'\r\n\r\nfunction OrderCreated(props) {\r\n  console.log(props)\r\n  const [hasloading, setHasLoading] = useState(false)\r\n  const [orderData, setOrderData] = useState([])\r\n  // const orderData = props.orderData[0]\r\n  let data = props.orderData ? props.orderData : ''\r\n  useEffect(() => {\r\n    props.getOrderDetailDataAsync(props.orderId.orderId)\r\n  }, [])\r\n  useEffect(() => {\r\n    setHasLoading(true)\r\n\r\n    setTimeout(() => {\r\n      if (data) {\r\n        setHasLoading(false)\r\n        setOrderData(data)\r\n      }\r\n    }, 500)\r\n  }, [data])\r\n  return (\r\n    <>\r\n      <Header />\r\n      <Banner BannerImgSrc=\"/images/ShoppingBanner.jpg\" />\r\n      <div className=\"container CW\">\r\n        {orderData[0] ? (\r\n          <>\r\n            <div className=\"col-12 order-wrapper\">\r\n              <div className=\"card\">\r\n                <div className=\"card-header bg-light\">\r\n                  <h6>賣場名稱：戴靖選品</h6>\r\n                </div>\r\n                <div className=\"card-body d-flex \">\r\n                  <div className=\"col\">\r\n                    <h6>訂單編號：{props.orderId.orderId}</h6>\r\n                    <h6>訂購時間：{orderData[0].created_at}</h6>\r\n                    <h6>付款方式：信用卡</h6>\r\n                    <h6>物流方式：宅配到家</h6>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-12 order-detail-wrapper\">\r\n              <div className=\"card\">\r\n                <div className=\"card-header bg-light\">\r\n                  <h6>訂單明細</h6>\r\n                </div>\r\n                <div className=\"order-detail card-body\">\r\n                  <div className=\"row d-none d-md-flex\">\r\n                    <div className=\"col\">名稱</div>\r\n                    <div className=\"col-2\">規格</div>\r\n                    <div className=\"col-2\">數量</div>\r\n                    <div className=\"col-2\">小計</div>\r\n                  </div>\r\n                  {orderData\r\n                    ? orderData.map((value, index) => {\r\n                        return (\r\n                          <div\r\n                            className=\"row py-3 border-bottom order-item\"\r\n                            key={index}\r\n                          >\r\n                            <div className=\"col\">\r\n                              <span className=\"d-md-none d-inline\">\r\n                                名稱：{value.itemName}\r\n                              </span>\r\n                              {value.itemName}\r\n                            </div>\r\n                            <div className=\"col-md-2\">\r\n                              <span className=\"d-md-none d-inline\">\r\n                                規格：{' '}\r\n                              </span>\r\n                              無規格\r\n                            </div>\r\n                            <div className=\"col-md-2\">\r\n                              <span className=\"d-md-none d-inline\">\r\n                                數量：{value.checkQty}\r\n                              </span>\r\n                              {value.checkQty}\r\n                            </div>\r\n                            <div className=\"col-md-2\">\r\n                              <span className=\"d-md-none d-inline\">\r\n                                小計：NT${value.checkPrice}\r\n                              </span>\r\n                              NT${value.checkPrice}\r\n                            </div>\r\n                          </div>\r\n                        )\r\n                      })\r\n                    : ''}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </>\r\n        ) : (\r\n          ''\r\n        )}\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = store => {\r\n  return {\r\n    orderId: store.orderReducer.memberCheckOutResponse,\r\n    orderData: store.orderReducer.orderData,\r\n  }\r\n}\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      getOrderDetailDataAsync,\r\n    },\r\n    dispatch\r\n  )\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(OrderCreated)\r\n","//取得文章列表資料\r\nexport const getBlogData = data => ({\r\n  type: 'GET_BLOGDATA',\r\n  value: data,\r\n})\r\nexport const getBlogDataAsync = (blogInfoData, callback) => {\r\n  // console.log(blogInfoData)\r\n  return async dispatch => {\r\n    let query = []\r\n    if (blogInfoData) query.push(`blogInfoData=${blogInfoData.trim()}`)\r\n    // console.log(blogInfoData)\r\n\r\n    const request = new Request(`http://localhost:5000/blog?${query}`, {\r\n      method: 'GET',\r\n      headers: new Headers({\r\n        Accept: 'application/json',\r\n        'Content-Type': 'application/json',\r\n      }),\r\n    })\r\n\r\n    // console.log(JSON.stringify(blogInfoData))\r\n\r\n    const response = await fetch(request)\r\n    const data = await response.json()\r\n    // console.log('res data', data)\r\n\r\n    dispatch(getBlogData(data))\r\n  }\r\n}\r\n\r\n//取得文章評論\r\nexport const getBlogCommentsData = data => ({\r\n  type: 'GET_BLOGCOMMENTSDATA',\r\n  value: data,\r\n})\r\n\r\nexport const getBlogCommentsDataAsync = (blogCommentsData, callback) => {\r\n  return async dispatch => {\r\n    const request = new Request('http://localhost:5000/blog/comments', {\r\n      method: 'GET',\r\n      headers: new Headers({\r\n        Accept: 'application/json',\r\n        'Content-Type': 'application/json',\r\n      }),\r\n    })\r\n\r\n    // console.log(JSON.stringify(blogCommentsData))\r\n\r\n    const response = await fetch(request)\r\n    const data = await response.json()\r\n\r\n    dispatch(getBlogCommentsData(data))\r\n  }\r\n}\r\n\r\n//新增評論\r\n\r\nexport const addContentCommentsData = data => ({\r\n  type: 'ADD_CONTENTCOMMENTSDATA',\r\n  value: data,\r\n})\r\n\r\nexport const addContentCommentsDataAsync = (commentsData, callback) => {\r\n  return async dispatch => {\r\n    const request = new Request('http://localhost:5000/blog/addComments', {\r\n      method: 'POST',\r\n      body: commentsData,\r\n    })\r\n\r\n    const response = await fetch(request)\r\n    const data = await response.json()\r\n    // console.log('res data', data)\r\n\r\n    dispatch(addContentCommentsData(data))\r\n\r\n    // callback()\r\n  }\r\n}\r\n\r\n//新增文章\r\nexport const addContentData = data => ({\r\n  type: 'ADD_CONTENTDATA',\r\n  value: data,\r\n})\r\n\r\nexport const addContentDataAsync = (contentData, callback) => {\r\n  console.log(contentData)\r\n  return async dispatch => {\r\n    const request = new Request('http://localhost:5000/add', {\r\n      method: 'POST',\r\n      body: contentData,\r\n    })\r\n\r\n    const response = await fetch(request)\r\n    const data = await response.json()\r\n    console.log('res data', data)\r\n\r\n    dispatch(addContentData(data))\r\n\r\n    // callback()\r\n  }\r\n}\r\n\r\n//更新文章\r\nexport const editContentData = data => ({\r\n  type: 'EDIT_CONTENTDATA',\r\n  value: data,\r\n})\r\nexport const editContentDataAsync = (contentData, callback) => {\r\n  console.log(contentData)\r\n  return async dispatch => {\r\n    const request = new Request('http://localhost:5000/edit', {\r\n      method: 'POST',\r\n      body: contentData,\r\n    })\r\n\r\n    const response = await fetch(request)\r\n    const data = await response.json()\r\n    console.log('res data', data)\r\n\r\n    dispatch(editContentData(data))\r\n\r\n    // callback()\r\n  }\r\n}\r\n","const categoryData= [\r\n    {\r\n        categoryId: 1,\r\n        categoryName: ''\r\n    },\r\n    {\r\n        categoryId: 3,\r\n        categoryName: '教學'\r\n    },\r\n    {\r\n        categoryId: 4,\r\n        categoryName: '情報'\r\n    },\r\n    {\r\n        categoryId: 5,\r\n        categoryName: '潛點'\r\n    },\r\n    {\r\n        categoryId: 6,\r\n        categoryName: '裝備'\r\n    },\r\n    {\r\n        categoryId: 7,\r\n        categoryName: '閒聊'\r\n    },\r\n    {\r\n        categoryId: 8,\r\n        categoryName: '課程'\r\n    },\r\n    {\r\n        categoryId: 9,\r\n        categoryName: '揪團'\r\n    }, \r\n    {\r\n        categoryId: 11,\r\n        categoryName: '討論'\r\n    },\r\n    {\r\n        categoryId: 10,\r\n        categoryName: '其他'\r\n    },   \r\n\r\n]\r\n\r\nexport  default categoryData","import React,{ useEffect, useState } from 'react'\r\n\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\n\r\nimport {\r\n  getBlogDataAsync,\r\n} from '../../actions/blog/blog_Actions'\r\n\r\nimport { BrowserRouter as Router, Route, Link, Switch } from 'react-router-dom'\r\nimport '../../style/BlogRside.scss'\r\nimport { animation } from 'react-reveal/globals'\r\n\r\nfunction BlogRside(props) {\r\n\r\n  const goTop = e =>{\r\n    // if( window.scrollTo(0, 700)< )\r\n    window.scrollTo(0, 0)\r\n  }\r\n  const [blogData, setBlogData] = useState([])\r\n  // console.log(props)\r\n  let tagNameData = [];\r\n  if(props.blogData.newpost && props.blogData.newpost.length){\r\n    tagNameData = [...props.blogData.newpost];\r\n    tagNameData = tagNameData.slice(0,8);\r\n  }\r\n  return (\r\n    <>\r\n      <div className=\"col-md-4 rSide \">\r\n        <p >最新文章</p>\r\n        <div className=\"newsPost  rounded-lg mb-5\">\r\n          {/* <!--newPost--> */}\r\n          {props.blogData.newpost ? (props.blogData.newpost.map((value , index)=>{\r\n            {/* console.log(props.blogData.newpost) */}\r\n            if(index < 4)\r\n            return (\r\n          <div className=\"d-flex newpostLine\">\r\n            <figure className=\"newpostPic mr-3\">\r\n              <img src={\"http://localhost:5000/images/memberImg/\" + value.memberImg } />\r\n            </figure>\r\n            <div className=\"newspostContent\">\r\n              <span className=\"d-flex test justify-content-start\">\r\n                <Link className=\" test rounded-lg\" href=\"\">\r\n                  {value.tagName1}\r\n                </Link>\r\n                <Link className=\"test  rounded-lg\" href=\"\">\r\n                {value.tagName2}\r\n                </Link>\r\n              </span>\r\n              <div className=\"newspostTitle\">\r\n               <Link to={'/blog/' + value.id}>{value.blogTitle}</Link> \r\n              </div>\r\n            </div>\r\n          </div>\r\n          )}\r\n            )) : ''}\r\n        </div>\r\n\r\n        {/* <!--search--> */}\r\n        <div className=\"input-group  input-group-lg mb-5 search\">\r\n          <input type=\"text\" className=\"form-control  \" />\r\n          <div className=\"input-group-append\">\r\n            <button className=\"btn btn-lg\" type=\"button\">\r\n              <i className=\"fas fa-search fa-sm\t\"></i>\r\n            </button>\r\n          </div>\r\n        </div>\r\n        {/* <!--tag--> */}\r\n        <div className=\"popularTag\">\r\n          <p >熱門標籤</p>\r\n          <div>\r\n            <ul className=\"justify-content-start d-flex\">\r\n            {tagNameData ? tagNameData.map((value , index)=>{\r\n            return (\r\n              \r\n              <>\r\n              <li className=\"rounded-lg\">\r\n                <Link href=\"#\">{value.tagName1}</Link>\r\n              </li>\r\n              <li className=\"rounded-lg\">\r\n                <Link href=\"#\">{value.tagName2}</Link>\r\n              </li>\r\n              </>\r\n              )}\r\n            ): ''}\r\n\r\n            </ul>\r\n          </div>\r\n        </div>\r\n        <button \r\n                className=\"scrolltop\"\r\n                onClick={e => {\r\n                  goTop(e)\r\n              }}\r\n        >\r\n        <i class=\"fas fa-angle-up fa-2x\t\"></i>        \r\n        </button>\r\n\r\n      </div>\r\n\r\n    </>\r\n  )\r\n}\r\nconst mapStateToProps = store => {\r\n  return {\r\n    blogData: store.blogReducer.blogData,\r\n    // asideData: store.itemReducer.asideData,\r\n  }\r\n}\r\n\r\n// 指示dispatch要綁定哪些action creators\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators({ getBlogDataAsync }, dispatch)\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(BlogRside)\r\n// export default Rside\r\n","import React from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\n\r\n// 頁面切換時要用捲軸讓頁面回到最上方\r\nclass ScrollToTop extends React.Component {\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.location !== prevProps.location) {\r\n      window.scrollTo(0, 0)\r\n    }\r\n  }\r\n  componentDidMount(){\r\n    window.scrollTo(0, 0)\r\n  }\r\n  render() {\r\n    return this.props.children\r\n  }\r\n}\r\n\r\nexport default withRouter(ScrollToTop)","import ScrollReveal from 'scrollreveal'\r\nexport default ScrollReveal()","import React, { useEffect, useState } from 'react'\r\nimport { Link, withRouter } from 'react-router-dom'\r\n\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\n\r\nimport { getBlogDataAsync } from '../../actions/blog/blog_Actions'\r\n\r\nimport categoryData from './category'\r\n\r\nimport Header from '../../components/Header'\r\nimport Banner from '../../components/Banner'\r\nimport BlogRside from '../../components/blog/BlogRside'\r\nimport ScrollToTop from '../../components/blog/ScrollToTop'\r\nimport '../../style/Blog.scss'\r\nimport _ from 'lodash'\r\nimport RcViewer from '@hanyk/rc-viewer'\r\nimport Zoom from 'react-reveal/Zoom'\r\nimport Jump from 'react-reveal/Jump'\r\nimport sr from './ScrollReveal'\r\nimport $ from 'jquery'\r\n\r\nfunction Blog(props) {\r\n  function typeCategoryNameActive(event) {\r\n    //找到Zoom 移除標籤\r\n    let categoryNameList = document.querySelectorAll('ul li')\r\n    categoryNameList.forEach(value => {\r\n      value.classList.remove('active-rao') //移除active\r\n    })\r\n    //找到Zoom a 移除標籤\r\n    let categoryNameListA = document.querySelectorAll('ul li span')\r\n    categoryNameListA.forEach(value => {\r\n      value.classList.remove('active-rao') //移除active\r\n    })\r\n    ////為被點擊的目標新增active\r\n    event.target.classList.add('active-rao')\r\n    console.log(this)\r\n  }\r\n\r\n  function getCategoryNameData() {\r\n    const CategoryName_id = $('li').find('span.active-rao')\r\n      ? $('li')\r\n          .find('span.active-rao')\r\n          .attr('data-type')\r\n      : ''\r\n\r\n    props.getBlogDataAsync(CategoryName_id)\r\n  }\r\n\r\n  const options = {}\r\n\r\n  useEffect(() => {\r\n    props.getBlogDataAsync()\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    sr.reveal('.cardHover', {\r\n      duration: 2000,\r\n      delay: 100,\r\n      distance: '350px',\r\n    })\r\n  }, [props.blogData])\r\n\r\n  $(window).scroll(function() {\r\n    if ($(this).scrollTop() > 500) {\r\n      // $('.scrolltop').addClass('active')\r\n      $('.scrolltop').fadeIn('fast')\r\n    } else {\r\n      $('.scrolltop')\r\n        .stop()\r\n        .fadeOut('fast')\r\n    }\r\n  })\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <Banner BannerImgSrc=\"/images/blog/banner.jpg\" />\r\n      <div className=\"container rao\">\r\n        <ScrollToTop>\r\n          {/* <!--category--> */}\r\n          <div className=\"row\">\r\n            <div className=\"col-sm-12 \">\r\n              <div className=\"category  \">\r\n                <ul className=\" d-flex justify-content-center\">\r\n                  <Jump>\r\n                    <Link to=\"/blogadd\" className=\"badge badge-pill  addPost\">\r\n                      發文\r\n                    </Link>\r\n                  </Jump>\r\n                  <Zoom>\r\n                    <li\r\n                      className=\"nav-item\"\r\n                      onClick={event => {\r\n                        typeCategoryNameActive(event)\r\n                        getCategoryNameData(event)\r\n                        event.stopPropagation()\r\n                      }}\r\n                    >\r\n                      <span\r\n                        className=\"badge badge-pill categoryName nav-link\"\r\n                        data-type=\"\"\r\n                      >\r\n                        全部\r\n                      </span>\r\n                    </li>\r\n                  </Zoom>\r\n                  {categoryData\r\n                    ? categoryData.map((value, index) => {\r\n                        return (\r\n                          <Zoom>\r\n                            <li\r\n                              className=\"nav-item\"\r\n                              onClick={event => {\r\n                                typeCategoryNameActive(event)\r\n                                getCategoryNameData()\r\n                                event.stopPropagation()\r\n                              }}\r\n                            >\r\n                              <span\r\n                                className=\"badge badge-pill categoryName nav-link\"\r\n                                key={index}\r\n                                data-type={value.categoryName}\r\n                              >\r\n                                {value.categoryName}\r\n                              </span>\r\n                            </li>\r\n                          </Zoom>\r\n                        )\r\n                      })\r\n                    : ''}\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          {/* <!--card--> */}\r\n          <div className=\"row justify-content-around\">\r\n            <Zoom>\r\n              <div\r\n                className=\" col-md-8 rounded-lg d-flex\r\n  justify-content-around cardContent\"\r\n              >\r\n                <div className=\" col-sm-6 lCard \">\r\n                  {props.blogData.result\r\n                    ? props.blogData.result.map((value, index) => {\r\n                        if (value.id % 2 === 0)\r\n                          return (\r\n                            <div className=\"cardHover\">\r\n                              <div className=\"card  rounded-lg \" key={index}>\r\n                                <RcViewer>\r\n                                  <img\r\n                                    className=\"card-img-top rounded-top \"\r\n                                    src={\r\n                                      'http://localhost:5000/images/blogImg/' +\r\n                                      value.blogImages\r\n                                    }\r\n                                  />\r\n                                </RcViewer>\r\n                                <div className=\"card-body\">\r\n                                  <Link to={'/blog/' + value.id}>\r\n                                    <div className=\"author mb-3\">\r\n                                      <Link to=\"\">AUQA</Link> -\r\n                                      <time>\r\n                                        {value.created_at.substring(0, 10)}\r\n                                      </time>\r\n                                    </div>\r\n                                    <Link to={'/blog/' + value.id}>\r\n                                      <h1 className=\"card-title  mb-3\">\r\n                                        {value.blogTitle}\r\n                                      </h1>\r\n                                    </Link>\r\n                                    <p className=\"card-text mb-3\">\r\n                                      {value.blogContent.substring(0, 150) +\r\n                                        '...'}\r\n                                    </p>\r\n                                  </Link>\r\n                                  <hr align=\"left\" />\r\n                                  <div className=\"d-flex justify-content-around\">\r\n                                    <div className=\"card-tag d-flex justify-content-center\">\r\n                                      <Link to={'/blog/' + value.id}>\r\n                                        {value.tagName1}\r\n                                      </Link>\r\n                                      、<Link to=\"\">{value.tagName2}</Link>\r\n                                    </div>\r\n                                    <div className=\"comment\">\r\n                                      <i className=\"far fa-comment\">1</i>\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          )\r\n                      })\r\n                    : ''}\r\n                  {/* <!--rCard--> */}\r\n                </div>\r\n                <div className=\"col-md-6 rCard\">\r\n                  {props.blogData.result\r\n                    ? props.blogData.result.map((value, index) => {\r\n                        if (value.id % 2 === 1)\r\n                          return (\r\n                            <div className=\"cardHover\">\r\n                              <div className=\"card  rounded-lg \">\r\n                                <RcViewer options={options}>\r\n                                  <img\r\n                                    className=\"img-fluid rounded-top \"\r\n                                    src={\r\n                                      'http://localhost:5000/images/blogImg/' +\r\n                                      value.blogImages\r\n                                    }\r\n                                    alt=\"\"\r\n                                  />\r\n                                </RcViewer>\r\n                                <div className=\"card-body\">\r\n                                  <div className=\"author mb-3\">\r\n                                    <Link to=\"\">AUQA</Link> -\r\n                                    <time>\r\n                                      {value.created_at.substring(0, 10)}\r\n                                    </time>\r\n                                  </div>\r\n                                  <Link to={'/blog/' + value.id}>\r\n                                    <h1 className=\"card-title  mb-3\">\r\n                                      {value.blogTitle}\r\n                                    </h1>\r\n                                  </Link>\r\n                                  <p className=\"card-text \">\r\n                                    {value.blogContent.substring(0, 250) +\r\n                                      '...'}\r\n                                  </p>\r\n                                  <hr align=\"left\" />\r\n                                  <div className=\"d-flex justify-content-around\">\r\n                                    <div className=\"card-tag\">\r\n                                      <Link to=\"\">{value.tagName1}</Link>、\r\n                                      <Link to=\"\">{value.tagName2}</Link>\r\n                                    </div>\r\n                                    <div className=\"comment\">\r\n                                      <i className=\"far fa-comment\">1</i>{' '}\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          )\r\n                      })\r\n                    : ''}\r\n                </div>\r\n              </div>\r\n            </Zoom>\r\n            {/* <!--rSide--> */}\r\n            <BlogRside blogData={props.blogData} />\r\n          </div>\r\n          {/* <Footer /> */}\r\n        </ScrollToTop>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\n// 取得Redux中store的值\r\nconst mapStateToProps = store => {\r\n  return {\r\n    blogData: store.blogReducer.blogData,\r\n  }\r\n}\r\n\r\n// 指示dispatch要綁定哪些action creators\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators({ getBlogDataAsync }, dispatch)\r\n}\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Blog))\r\n","import React,{ useEffect, useState } from 'react'\r\nimport { withRouter } from 'react-router'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators} from 'redux'\r\nimport {getBlogDataAsync} from '../../actions/blog/blog_Actions'\r\nimport { BrowserRouter as Router, Route, Link, Switch } from 'react-router-dom'\r\nimport '../../style/BlogTitleBar.scss'\r\n\r\n\r\n\r\nfunction BlogTitleBar(props) {\r\n\r\n\r\n    const [blogData, setBlogData] = useState([])\r\n    return (\r\n      <>\r\n      <div className=\"titlebarFix\"></div>\r\n      <div className=\"titlebar\">\r\n        <div className=\"container\">\r\n            <p ><Link to=\"/blog\">部落格</Link></p>\r\n              {props.blogData.result ? (props.blogData.result.map((value , index)=>{\r\n\r\n              if( value.id==props.match.params.id)\r\n\r\n              return (\r\n          <ul key = {index}>\r\n            <li className=\"titleBarList\">\r\n              <Link to=\"/blog\">文章列表</Link>\r\n            </li>\r\n\r\n            <li>\r\n              <Link to={'/blog/'+value.id}>{value.blogTitle}</Link>\r\n            </li>\r\n          </ul>\r\n          )}\r\n            )) : ''}\r\n\r\n        </div>\r\n      </div>\r\n  \r\n      </>\r\n    )\r\n  }\r\n\r\n  \r\n\r\nconst mapStateToProps = store => {\r\n    return {\r\n      blogData: store.blogReducer.blogData,\r\n    }\r\n  }\r\nconst mapDispatchToProps = dispatch => {\r\nreturn bindActionCreators({ getBlogDataAsync}, dispatch)\r\n}\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(BlogTitleBar))","import React, { useEffect, useState } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\n\r\nimport { getBlogDataAsync } from '../../actions/blog/blog_Actions'\r\n\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport '../../style/BlogRelatedPost.scss'\r\nimport Zoom from 'react-reveal/Zoom'\r\nimport RcViewer from '@hanyk/rc-viewer'\r\n\r\nfunction RelatedPost(props) {\r\n  const [blogData, setBlogData] = useState([])\r\n\r\n  useEffect(() => {\r\n    props.getBlogDataAsync()\r\n    // props.getAsideDataAsync()\r\n  }, [])\r\n\r\n  let relatedPostData = []\r\n  if (props.blogData.result && props.blogData.result.length) {\r\n    relatedPostData = [...props.blogData.result]\r\n    relatedPostData.sort((_a, b) => Math.random() - 0.5)\r\n    relatedPostData = relatedPostData.slice(0, 3)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"relatedPost\">\r\n        <div className=\"relatedpostTitle\">\r\n          <h5 className=\"mb-3\">推薦文章</h5>\r\n        </div>\r\n        <div className=\"relatedpostContent\">\r\n          <ul>\r\n            {relatedPostData\r\n              ? relatedPostData.map((value, index) => {\r\n                  return (\r\n                    <li>\r\n                      <Zoom>\r\n                        <RcViewer>\r\n                          <figure>\r\n                            <img\r\n                              to=\"\"\r\n                              src={\r\n                                'http://localhost:5000/images/blogImg/' +\r\n                                value.blogImages\r\n                              }\r\n                            />\r\n                          </figure>\r\n                        </RcViewer>\r\n                      </Zoom>\r\n                      <Link to={'/blog/' + value.id}>\r\n                        <p>{value.blogTitle}</p>\r\n                      </Link>\r\n                    </li>\r\n                  )\r\n                })\r\n              : ''}\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = store => {\r\n  return {\r\n    blogData: store.blogReducer.blogData,\r\n    // asideData: store.itemReducer.asideData,\r\n  }\r\n}\r\n\r\n// 指示dispatch要綁定哪些action creators\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators({ getBlogDataAsync }, dispatch)\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(RelatedPost)\r\n","import React, { useEffect, useState } from 'react'\r\nimport { withRouter } from 'react-router'\r\nimport { BrowserRouter as Router, Route, Link, Switch } from 'react-router-dom'\r\n\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport {\r\n  getBlogDataAsync,\r\n  getBlogCommentsDataAsync,\r\n  addContentCommentsDataAsync,\r\n} from '../../actions/blog/blog_Actions'\r\n\r\nimport Header from '../../components/Header'\r\nimport BlogTitleBar from '../../components/blog/BlogTitleBar'\r\nimport Footer from '../../components/Footer'\r\nimport BlogRside from '../../components/blog/BlogRside'\r\nimport ScrollToTop from '../../components/blog/ScrollToTop'\r\n\r\nimport BlogRelatedPost from '../../components/blog/BlogRelatedPost'\r\n\r\nimport '../../style/BlogContent.scss'\r\nimport '../../image/image.png'\r\nimport RcViewer from '@hanyk/rc-viewer'\r\n\r\nfunction BlogContent(props) {\r\n  //拿資料\r\n  const [blogData, setBlogData] = useState([])\r\n  const [blogCommentsData, setBlogCommentsData] = useState([123])\r\n  const [contentCommentsData, setContentCommentsData] = useState([])\r\n  //新增評論\r\n  const [cotentComments, setCotentComments] = useState([])\r\n\r\n  const [error, setError] = useState(false)\r\n  const [errorMessages, setErrorMessages] = useState([])\r\n  const [sendId, setSendId] = useState(props.match.params.id)\r\n\r\n  //按讚、收藏\r\n  const [like, setLike] = useState(0)\r\n  const [heart, setHeart] = useState(null)\r\n\r\n  useEffect(() => {\r\n    props.getBlogDataAsync()\r\n    props.getBlogCommentsDataAsync()\r\n    props.addContentCommentsDataAsync()\r\n  }, [])\r\n\r\n  const handleSubmit = e => {\r\n    let error = false\r\n    let errorMessages = []\r\n\r\n    if (!cotentComments) {\r\n      error = true\r\n      errorMessages.push('評論內容沒填')\r\n    }\r\n\r\n    const addCommentsData = {\r\n      cotentComments,\r\n      sendId,\r\n    }\r\n\r\n    const commentsData_fd = new FormData()\r\n    commentsData_fd.append('content', addCommentsData.cotentComments)\r\n    commentsData_fd.append('sendId', addCommentsData.sendId)\r\n\r\n    props.addContentCommentsDataAsync(commentsData_fd, () => alert('成功新增'))\r\n  }\r\n  const likeCount = e => {\r\n    setLike(like + 1)\r\n  }\r\n  let likeList = JSON.parse(localStorage.getItem('likeData')) || []\r\n\r\n  const heartCount = e => {\r\n    props.blogData.result.map((value, index) => {\r\n      if (value.id == props.match.params.id) return likeList.push(value)\r\n      localStorage.setItem('likeData', JSON.stringify(likeList))\r\n    })\r\n  }\r\n\r\n  let relatedPostData = []\r\n  if (props.blogData.result && props.blogData.result.length) {\r\n    relatedPostData = [...props.blogData.result]\r\n    relatedPostData.sort((_a, b) => Math.random() - 0.5)\r\n    relatedPostData = relatedPostData.slice(0, 3)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      {/* <!-- titlebar --> */}\r\n      <BlogTitleBar />\r\n      <div className=\"container rao\">\r\n        {/* <!--blogContent--> */}\r\n        <ScrollToTop>\r\n          <div className=\"row postContent\">\r\n            <div className=\" col-md-8 \">\r\n              {props.blogData.result\r\n                ? props.blogData.result.map((value, index) => {\r\n                    if (value.id == props.match.params.id)\r\n                      return (\r\n                        <div>\r\n                          <figure className=\"postImg\">\r\n                            <img\r\n                              src={\r\n                                'http://localhost:5000/images/blogImg/' +\r\n                                value.blogImages\r\n                              }\r\n                              alt=\"image\"\r\n                            />\r\n                          </figure>\r\n                          <div className=\"postTitle\">\r\n                            <h2>{value.blogTitle}</h2>\r\n                          </div>\r\n                          <div className=\"postNav mb-3 d-flex justify-content-between\">\r\n                            <div className=\"author\">\r\n                              <Link to=\"\">AUQA</Link> -\r\n                              <time>{value.created_at.substring(0, 10)}</time>\r\n                            </div>\r\n                            <div className=\"postTag\">\r\n                              <ul>\r\n                                <li onClick={e => likeCount(e)}>\r\n                                  <i class=\"far fa-thumbs-up\"></i>\r\n                                  {like}\r\n                                </li>\r\n                                <li\r\n                                  onClick={e => {\r\n                                    heartCount(e)\r\n                                  }}\r\n                                >\r\n                                  <i class=\"far fa-heart\"></i>\r\n                                  {heart}\r\n                                </li>\r\n                                <li>\r\n                                  <Link to=\"\">\r\n                                    <i class=\"far fa-comment-dots\"></i>\r\n                                  </Link>\r\n                                </li>\r\n                                <li>\r\n                                  <Link\r\n                                    to={\r\n                                      '/blog/' + props.match.params.id + '/edit'\r\n                                    }\r\n                                  >\r\n                                    <i class=\"far fa-edit\"></i>\r\n                                  </Link>\r\n                                </li>\r\n                              </ul>\r\n                            </div>\r\n                          </div>\r\n                          <div className=\"postBody\">\r\n                            <hr align=\"left\" />\r\n                            <p className=\"\">{value.blogContent}</p>\r\n                          </div>\r\n                          <div className=\"postFooter\">\r\n                            <div className=\"\">\r\n                              <h5 className=\"mb-3\">標籤</h5>\r\n                            </div>\r\n                            <div className=\"justify-content-between d-flex\">\r\n                              <ul>\r\n                                <li>\r\n                                  <Link to=\"#\" className=\"rounded-lg\">\r\n                                    {value.tagName1}\r\n                                  </Link>\r\n                                </li>\r\n                                <li>\r\n                                  <Link to=\"#\" className=\"rounded-lg\">\r\n                                    {value.tagName2}\r\n                                  </Link>\r\n                                </li>\r\n                              </ul>\r\n                            </div>\r\n                            <hr align=\"left\" />\r\n                          </div>\r\n                        </div>\r\n                      )\r\n                  })\r\n                : ''}\r\n              <BlogRelatedPost blogData={props.blogData} />\r\n              <div className=\"comment mb-3\">\r\n                <h5>評論</h5>\r\n              </div>\r\n              {props.blogCommentsData.result\r\n                ? props.blogCommentsData.result.map((value, index) => {\r\n                    if (value.blogId == props.match.params.id)\r\n                      return (\r\n                        <>\r\n                          <div className=\"commentContent \">\r\n                            <figure>\r\n                              <img\r\n                                src={\r\n                                  'http://localhost:5000/images/blogImg/' +\r\n                                  value.mImg\r\n                                }\r\n                                alt=\"image\"\r\n                              />\r\n                            </figure>\r\n                            <div className=\"commmentBody p-2\">\r\n                              <div className=\"commentAuthor\">\r\n                                <Link to=\"\">{value.mId}</Link>\r\n                              </div>\r\n                              <time>{value.created_at.substring(0, 16)}</time>\r\n                              <div className=\"commmentbodyText\">\r\n                                <p>{value.content}</p>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </>\r\n                      )\r\n                  })\r\n                : ''}\r\n              <form name=\"cotentform\" method=\"post\">\r\n                <div className=\"postComment\">\r\n                  <div className=\"postcommentTitle\">\r\n                    <h5>發表評論</h5>\r\n                  </div>\r\n                  <div className=\"postcommentBody\">\r\n                    <textarea\r\n                      type=\"text\"\r\n                      name=\"cotentComments\"\r\n                      onChange={event => setCotentComments(event.target.value)}\r\n                      className=\"col-md-12\"\r\n                    />\r\n                    <input\r\n                      type=\"hidden\"\r\n                      name=\"sendId\"\r\n                      value={props.match.params.id}\r\n                    />\r\n                  </div>\r\n                  <div className=\"d-flex justify-content-end\">\r\n                    <button\r\n                      className=\"badge badge-pill contentSend\"\r\n                      onClick={e => {\r\n                        e.preventDefault()\r\n                        handleSubmit(e)\r\n                        window.location.reload('false')\r\n                        // props.history.push('/blog/' + props.match.params.id)\r\n                      }}\r\n                    >\r\n                      送出\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </form>\r\n            </div>\r\n            <BlogRside blogData={props.blogData} />\r\n          </div>\r\n        </ScrollToTop>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = store => {\r\n  return {\r\n    blogData: store.blogReducer.blogData,\r\n    blogCommentsData: store.blogReducer.blogCommentsData,\r\n    contentCommentsData: store.blogReducer.contentCommentsData,\r\n  }\r\n}\r\n\r\n// 指示dispatch要綁定哪些action creators\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    { getBlogDataAsync, getBlogCommentsDataAsync, addContentCommentsDataAsync },\r\n    dispatch\r\n  )\r\n}\r\nexport default withRouter(\r\n  connect(mapStateToProps, mapDispatchToProps)(BlogContent)\r\n)\r\n// export default BlogContent\r\n","import React ,{ useEffect, useState }from 'react'\r\nimport {Link,withRouter } from 'react-router-dom'\r\n\r\n\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport { getBlogDataAsync, addContentDataAsync} from '../../actions/blog/blog_Actions'\r\n\r\n\r\nimport Header from '../../components/Header'\r\nimport Footer from '../../components/Footer'\r\nimport BlogTitleBar from '../../components/blog/BlogTitleBar'\r\nimport BlogRside from '../../components/blog/BlogRside'\r\nimport BlogRelatedPost from '../../components/blog/BlogRelatedPost'\r\n\r\n\r\nimport '../../style/BlogAdd.scss'\r\nimport addImg from '../../image/imgicon.png'\r\nimport CKEditor from '@ckeditor/ckeditor5-react';\r\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic';\r\n\r\n\r\n\r\nfunction BlogAdd(props) {\r\n  const [blogData, setBlogData] = useState([])\r\n  const [contentData, setContentData] =  useState([])\r\n\r\n  const [addContentTitle, setAddContentTitle] =  useState([null])\r\n  const [addContentCategory, setAddContentCategory] =  useState([null])\r\n  const [addContent, setAddContent] =  useState([null])\r\n  const [addTag1, setAddTag1] =  useState([null])\r\n  const [addTag2, setAddTag2] =  useState([null])\r\n  const [imgFile, setImgFile] =  useState([null])\r\n  const [imgDataFiles, setImgDataFiles] =  useState([null])\r\n  const handleImgChange = event => {\r\n    setImgFile(URL.createObjectURL(event.target.files[0]))\r\n    setImgDataFiles(event.target.files[0])\r\n  }\r\n\r\n\r\n  useEffect(() => {\r\n    props.getBlogDataAsync()\r\n    props.addContentDataAsync()\r\n  }, [])\r\n\r\n  const handleSubmit = (event)=>{\r\n\r\n\r\n      const addContentData = { \r\n        addContentTitle,\r\n        addContentCategory,\r\n        addContent,\r\n        addTag1,\r\n        addTag2,\r\n        imgDataFiles,\r\n      }\r\n    \r\n      const addContentData_fd = new FormData()\r\n      addContentData_fd.append('blogTitle', addContentData.addContentTitle)\r\n      addContentData_fd.append('categoryName', addContentData.addContentCategory)\r\n      addContentData_fd.append('blogContent', addContentData.addContent)\r\n      addContentData_fd.append('tagName1', addContentData.addTag1)\r\n      addContentData_fd.append('tagName2', addContentData.addTag2)\r\n      addContentData_fd.append('addImg', addContentData.imgDataFiles)\r\n    \r\n      props.addContentDataAsync(addContentData_fd, () => alert('成功新增'))\r\n    \r\n  }\r\n\r\n\r\n  //相關文章隨機\r\n  let relatedPostData = [];\r\n  if(props.blogData.result && props.blogData.result.length){\r\n    relatedPostData = [...props.blogData.result];\r\n    relatedPostData.sort((_a,b)=>Math.random()-.5);\r\n    relatedPostData = relatedPostData.slice(0,3);\r\n  }\r\n\r\n  //上傳圖片 即時顯示\r\n  const [avatarFile, setAvatarFile] = useState('');\r\n    const [avatarDataFiles, setAvatarDataFiles] = useState('');\r\n  const handleChange = (event) => {\r\n      console.log(event.target.files)\r\n      setAvatarFile(URL.createObjectURL(event.target.files[0]))\r\n      console.log(event.target.files[0])\r\n      setAvatarDataFiles(event.target.files[0])\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <BlogTitleBar />\r\n\r\n      <div className=\"container rao\">\r\n        {/* <!--cardContent--> */}\r\n        <div className=\"row add_content\">\r\n          <div className=\" col-md-8 \">\r\n            <div className=\"add\">\r\n              <div>\r\n                <p>新增</p>\r\n              </div>\r\n              <div className=\"d-flex form-group mb-3\">\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"addContentTitle\"\r\n                  placeholder=\"請輸入標題\"\r\n                  className=\"form-control addInput\"\r\n                  onChange={event => setAddContentTitle(event.target.value)}\r\n                />\r\n                <select \r\n                className=\"custom-select\"                  name=\"addContentCategory\"\r\n                onChange={event => setAddContentCategory(event.target.value)}\r\n                >\r\n                  <option>類型</option>\r\n                  <option>心得</option>\r\n                  <option>閒聊</option>\r\n                  <option>討論</option>\r\n                  <option>裝備</option>\r\n                </select>\r\n              </div>\r\n              <textarea\r\n                name=\"addContent\"\r\n                className=\"form-control mb-3\"\r\n                placeholder=\"請輸入內文\"\r\n                onChange={event => setAddContent(event.target.value)}\r\n              />\r\n              <div className=\"addFooter d-flex justify-content-between algin-content-center\">\r\n\r\n              <div className=\"addTag d-flex\">\r\n                <input\r\n                  name=\"addTag1\"\r\n                  type=\"text\"\r\n                  placeholder=\"輸入標籤\"\r\n                  className=\"form-control addInput tagName1\"\r\n                  onChange={event => setAddTag1(event.target.value)}\r\n                />\r\n                <input\r\n                  name=\"addTag2\"\r\n                  type=\"text\"\r\n                  placeholder=\"輸入標籤\"\r\n                  className=\"form-control addInput tagName2\"\r\n                  onChange={event => setAddTag2(event.target.value)}\r\n                />\r\n                <label class=\"  addImg ml-3 mr-1 \">\r\n                  <h6>上傳檔案</h6>\r\n                  <input  \r\n                  name=\"addImg\"\r\n                  className=\"inputavatar\" \r\n                  type=\"file\" \r\n                  onChange={event => {\r\n                    handleChange(event)\r\n                    handleImgChange(event)                 \r\n                     }}   \r\n\r\n                  /> \r\n                </label>\r\n                <img className=\"blah\" src={ avatarFile ? avatarFile: addImg} width=\"40\" height=\"40\" />\r\n              </div>\r\n                <button \r\n                  onClick={e => {\r\n                  e.preventDefault()\r\n                  handleSubmit()\r\n                    props.history.push('/blog')\r\n                  }}\r\n                  className=\"badge badge-pill addSend\" type=\"button\"\r\n                >\r\n                  送出\r\n                </button>\r\n              </div>\r\n              {/* <CKEditor editor={ClassicEditor}/> */}\r\n            </div>\r\n            <BlogRelatedPost blogData={props.blogData}/>\r\n          </div>\r\n\r\n          {/* <!--rSide--> */}\r\n          <BlogRside blogData={props.blogData}/>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\n\r\nconst mapStateToProps = store => {\r\n  return {\r\n    blogData: store.blogReducer.blogData,\r\n    contentData: store.blogReducer.contentData,\r\n  }\r\n}\r\n\r\n// 指示dispatch要綁定哪些action creators\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators({ getBlogDataAsync, addContentDataAsync}, dispatch)\r\n}\r\nexport default withRouter( connect(mapStateToProps, mapDispatchToProps)(BlogAdd))\r\n// export default BlogAdd\r\n","import React, { useEffect, useState } from 'react'\r\nimport { Link, withRouter } from 'react-router-dom'\r\n\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport {\r\n  getBlogDataAsync,\r\n  editContentDataAsync,\r\n} from '../../actions/blog/blog_Actions'\r\n\r\nimport Header from '../../components/Header'\r\nimport Footer from '../../components/Footer'\r\nimport BlogTitleBar from '../../components/blog/BlogTitleBar'\r\nimport BlogRside from '../../components/blog/BlogRside'\r\nimport BlogRelatedPost from '../../components/blog/BlogRelatedPost'\r\n\r\nimport '../../style/BlogEdit.scss'\r\nimport addImg from '../../image/image.png'\r\nimport Swal from 'sweetalert2'\r\n\r\nfunction BlogEdit(props) {\r\n  const [blogData, setBlogData] = useState([])\r\n  useEffect(() => {\r\n    props.getBlogDataAsync()\r\n    props.editContentDataAsync()\r\n  }, [])\r\n\r\n  let relatedPostData = []\r\n  if (props.blogData.result && props.blogData.result.length) {\r\n    relatedPostData = [...props.blogData.result]\r\n    relatedPostData.sort((_a, b) => Math.random() - 0.5)\r\n    relatedPostData = relatedPostData.slice(0, 3)\r\n  }\r\n\r\n  console.log(props.blogData.result)\r\n  let blogItem = null\r\n  let blogItemTitle = ''\r\n  let blogItemCategory = ''\r\n  let blogItemContent = ''\r\n  let blogItemTag1 = ''\r\n  let blogItemTag2 = ''\r\n  let blogItemImg = ''\r\n\r\n  if (props.blogData.result) {\r\n    blogItem = props.blogData.result.find(\r\n      (value, index) => value.id == props.match.params.id\r\n    )\r\n\r\n    blogItemTitle = blogItem.blogTitle\r\n    blogItemCategory = blogItem.categoryName\r\n    blogItemContent = blogItem.blogContent\r\n    blogItemTag1 = blogItem.tagName1\r\n    blogItemTag2 = blogItem.tagName2\r\n    blogItemImg = blogItem.blogImages\r\n  }\r\n\r\n  // console.log('blogItem', blogItem)\r\n  // console.log(blogItemImg)\r\n\r\n  const [editContentTitle, setEditContentTitle] = useState(blogItemTitle)\r\n  const [editContentCategory, setEditContentCategory] = useState(\r\n    blogItemCategory\r\n  )\r\n  const [editContent, setEditContent] = useState(blogItemContent)\r\n  const [editTag1, setEditTag1] = useState(blogItemTag1)\r\n  const [editTag2, setEditTag2] = useState(blogItemTag2)\r\n  const [imgFile, setImgFile] = useState(null)\r\n  const [imgDataFiles, setImgDataFiles] = useState(blogItemImg)\r\n  const handleImgChange = event => {\r\n    setImgFile(URL.createObjectURL(event.target.files[0]))\r\n    setImgDataFiles(event.target.files[0])\r\n  }\r\n  const [avatarFile, setAvatarFile] = useState('')\r\n  const [avatarDataFiles, setAvatarDataFiles] = useState('')\r\n  const handleChange = event => {\r\n    console.log(event.target.files)\r\n    setAvatarFile(URL.createObjectURL(event.target.files[0]))\r\n    console.log(event.target.files[0])\r\n    setAvatarDataFiles(event.target.files[0])\r\n  }\r\n\r\n  const handleSubmit = event => {\r\n    const editContentData = {\r\n      editContentTitle,\r\n      editContentCategory,\r\n      editContent,\r\n      editTag1,\r\n      editTag2,\r\n      imgDataFiles,\r\n    }\r\n\r\n    const editContentData_fd = new FormData()\r\n    editContentData_fd.append('blogTitle', editContentData.editContentTitle)\r\n    editContentData_fd.append(\r\n      'categoryName',\r\n      editContentData.editContentCategory\r\n    )\r\n    editContentData_fd.append('blogContent', editContentData.editContent)\r\n    editContentData_fd.append('tagName1', editContentData.editTag1)\r\n    editContentData_fd.append('tagName2', editContentData.editTag2)\r\n    editContentData_fd.append('addImg', editContentData.imgDataFiles)\r\n    editContentData_fd.append('id', props.match.params.id)\r\n\r\n    props.editContentDataAsync(editContentData_fd)\r\n\r\n    Swal.fire('修改成功!', '', 'success')\r\n\r\n    setTimeout(function() {\r\n      window.location.href = '/blog'\r\n    }, 1500)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <BlogTitleBar />\r\n\r\n      <div className=\"container rao\">\r\n        {/* <!--cardContent--> */}\r\n        <div className=\"row addContent\">\r\n          <div className=\" col-md-8 \">\r\n            <div className=\"add\">\r\n              <div>\r\n                <p>修改</p>\r\n              </div>\r\n              {props.blogData.result\r\n                ? props.blogData.result.map((value, index) => {\r\n                    if (value.id == props.match.params.id)\r\n                      return (\r\n                        <>\r\n                          <div className=\"d-flex form-group mb-3\">\r\n                            <input\r\n                              name=\"editTitle\"\r\n                              type=\"text\"\r\n                              placeholder=\"請輸入標題\"\r\n                              className=\"form-control editInput\"\r\n                              value={editContentTitle}\r\n                              onChange={event =>\r\n                                setEditContentTitle(event.target.value)\r\n                              }\r\n                            />\r\n                            <select\r\n                              className=\"custom-select\"\r\n                              defaultValue={editContentCategory}\r\n                              name=\"editCategoryName\"\r\n                              onChange={event =>\r\n                                setEditContentCategory(event.target.value)\r\n                              }\r\n                            >\r\n                              <option value=\"潛點\">潛點</option>\r\n                              <option value=\"情報\">情報</option>\r\n                              <option value=\"討論\">討論</option>\r\n                              <option value=\"裝備\">裝備</option>\r\n                              <option value=\"教學\">教學</option>\r\n                            </select>\r\n                          </div>\r\n                          <textarea\r\n                            name=\"editContent\"\r\n                            className=\"form-control mb-3\"\r\n                            placeholder=\"請輸入內文\"\r\n                            value={editContent}\r\n                            onChange={event =>\r\n                              setEditContent(event.target.value)\r\n                            }\r\n                          ></textarea>\r\n                          <div className=\"addFooter d-flex justify-content-between algin-content-center\">\r\n                            <div className=\"addTag d-flex\">\r\n                              <input\r\n                                name=\"editTag1\"\r\n                                type=\"text\"\r\n                                placeholder=\"輸入標籤\"\r\n                                className=\"form-control editInput tagName1\"\r\n                                value={editTag1}\r\n                                onChange={event =>\r\n                                  setEditTag1(event.target.value)\r\n                                }\r\n                              />\r\n                              <input\r\n                                name=\"editTag2\"\r\n                                type=\"text\"\r\n                                placeholder=\"輸入標籤\"\r\n                                className=\"form-control editInput tagName2\"\r\n                                value={editTag2}\r\n                                onChange={event =>\r\n                                  setEditTag2(event.target.value)\r\n                                }\r\n                              />\r\n                              <label class=\"  addImg ml-3 mr-1 \">\r\n                                <h6>更改圖片</h6>\r\n                                <input\r\n                                  value={setImgDataFiles}\r\n                                  name=\"editImg\"\r\n                                  className=\"inputavatar\"\r\n                                  type=\"file\"\r\n                                  onChange={event => {\r\n                                    handleChange(event)\r\n                                    handleImgChange(event)\r\n                                  }}\r\n                                />\r\n                              </label>\r\n                              <img\r\n                                className=\"blah\"\r\n                                src={\r\n                                  avatarFile\r\n                                    ? avatarFile\r\n                                    : 'http://localhost:5000/images/blogImg/' +\r\n                                      value.blogImages\r\n                                }\r\n                                width=\"40\"\r\n                                height=\"40\"\r\n                              />\r\n                            </div>\r\n                            <div>\r\n                              <button\r\n                                className=\"badge badge-pill delete\"\r\n                                type=\"button\"\r\n                              >\r\n                                刪除\r\n                              </button>\r\n                              <button\r\n                                onClick={e => {\r\n                                  e.preventDefault()\r\n                                  handleSubmit()\r\n                                }}\r\n                                className=\"badge badge-pill editSend\"\r\n                                type=\"button\"\r\n                              >\r\n                                送出\r\n                              </button>\r\n                            </div>\r\n                          </div>\r\n                        </>\r\n                      )\r\n                  })\r\n                : ''}\r\n            </div>\r\n\r\n            <BlogRelatedPost blogData={props.blogData} />\r\n            <div className=\"addHr\">\r\n              <hr align=\"left\" />\r\n            </div>\r\n          </div>\r\n\r\n          {/* <!--rSide--> */}\r\n          <BlogRside />\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\nconst mapStateToProps = store => {\r\n  return {\r\n    blogData: store.blogReducer.blogData,\r\n    editContentData: store.blogReducer.editContentData,\r\n  }\r\n}\r\n\r\n// 指示dispatch要綁定哪些action creators\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    { getBlogDataAsync, editContentDataAsync },\r\n    dispatch\r\n  )\r\n}\r\nexport default withRouter(\r\n  connect(mapStateToProps, mapDispatchToProps)(BlogEdit)\r\n)\r\n// export default BlogAdd\r\n","import React, { useEffect, useState } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport { userLoginAsync } from '../../actions/member/memberActions'\r\nimport { withRouter, Link } from 'react-router-dom'\r\nimport Swal from 'sweetalert2'\r\nimport Header from '../../components/Header'\r\n// import Background from '../members/Background'\r\nimport '../../style/HS.scss'\r\n\r\n\r\n\r\nfunction MemberLogin(props) {\r\n    // //set background img\r\n    // useEffect(() => {\r\n    //     require('../../style/bg.css')\r\n    // }, []);\r\n\r\n    const [username, setUsername] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const [error, setError] = useState(false)\r\n    const [errorMessages, setErrorMessages] = useState([])\r\n\r\n    const handleSubmit = () => {\r\n        let error = false\r\n        let errorMessages = []\r\n\r\n        if (!username) {\r\n            error = true\r\n            errorMessages.push('帳號沒填')\r\n        }\r\n\r\n        if (!password) {\r\n            error = true\r\n            errorMessages.push('密碼沒填')\r\n        }\r\n\r\n        if (error) {\r\n            setError(error)\r\n            setErrorMessages(errorMessages)\r\n            return\r\n        }\r\n\r\n        const userData = { username, password }\r\n        props.userLoginAsync(userData, () => alert('成功登入'))\r\n    }\r\n\r\n\r\n    return <>\r\n        <div className=\"entirepage-hs\">\r\n            <Header />\r\n            {/* <Background /> */}\r\n\r\n            {/* <!-- sign-in content --> */}\r\n            <div className=\"container hslogin\">\r\n                <div className=\" signincard-hs row d-flex align-items-center\">\r\n                    <div className=\"card col-md-6 mx-auto\">\r\n                        {/* <!-- Default form login --> */}\r\n                        <form className=\"text-center p-4\" action=\"#!\">\r\n                            <p className=\"h4 mb-4\">會員登入</p>\r\n                            {/* <!-- Username --> */}\r\n                            <input onChange={e => setUsername(e.target.value)} type=\"text\" id=\"\" className=\"form-control mb-4\" placeholder=\"Username\" />\r\n\r\n                            {/* <!-- Password --> */}\r\n                            <input onChange={e => setPassword(e.target.value)} type=\"password\" id=\"\" className=\"form-control mb-4\" placeholder=\"Password\" />\r\n\r\n                            {/* <!-- Remember me --> */}\r\n                            <div className=\"d-flex justify-content-around\">\r\n                                <div>\r\n                                    <div className=\"custom-control custom-checkbox\">\r\n                                        <input type=\"checkbox\" className=\"custom-control-input\" id=\"defaultLoginFormRemember\" />\r\n                                        <label className=\"custom-control-label\">記住我</label>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                {/* <!-- Forgot password --> */}\r\n                                <div>\r\n                                    <a href=\"\">忘記密碼?</a>\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* <!-- Sign in button --> */}\r\n                            {/* <Link to=\"memberhomepage\"> */}\r\n                            <button onClick={() => handleSubmit()} className=\"loginbutton btn btn-info btn-block my-4\" type=\"button\">登入</button>\r\n                            {/* </Link> */}\r\n\r\n\r\n                            {/* <!-- Register --> */}\r\n                            <p>還不是會員？\r\n                            <Link to=\"/memberregister\">註冊</Link>\r\n                            </p>\r\n\r\n                            {/* <!-- Social login --> */}\r\n                            <p>其他登入方式：</p>\r\n\r\n                            <a href=\"#\" className=\"mx-2 otherlogin\" role=\"button\"><i className=\"otherlogin fab fa-facebook-f light-blue-text\"></i></a>\r\n                            <a href=\"#\" className=\"mx-2 otherlogin\" role=\"button\"><i className=\"otherlogin fab fa-twitter light-blue-text\"></i></a>\r\n                            <a href=\"#\" className=\"mx-2 otherlogin\" role=\"button\"><i className=\"otherlogin fab fa-linkedin-in light-blue-text\"></i></a>\r\n                            <a href=\"#\" className=\"mx-2 otherlogin\" role=\"button\"><i className=\"otherlogin fab fa-github light-blue-text\"></i></a>\r\n                            <a href=\"#\" className=\"mx-2 otherlogin\" role=\"button\"><i className=\"otherlogin fab fa-google light-blue-text\"></i></a>\r\n\r\n                            {/* Seller Login */}\r\n                            <p className=\"sellerlogin\">賣家登入？\r\n                            <Link to=\"/membersellerlogin\">登入</Link>\r\n                            </p>\r\n\r\n                        </form>\r\n                        {/* <!-- Default form login --> */}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </>\r\n}\r\n\r\n// 取得Redux中isAuth的值\r\nconst mapStateToProps = store => {\r\n    return { isAuth: store.memberReducer.user.isAuth }\r\n}\r\n\r\n// 指示dispatch要綁定哪些action creators\r\nconst mapDispatchToProps = dispatch => {\r\n    return bindActionCreators({ userLoginAsync }, dispatch)\r\n}\r\n\r\nexport default withRouter(\r\n    connect(mapStateToProps, mapDispatchToProps)(MemberLogin)\r\n)","import React, { useEffect, useState } from 'react'\r\nimport {\r\n  BrowserRouter as Router,\r\n  Route,\r\n  Link,\r\n  Switch,\r\n  Redirect,\r\n} from 'react-router-dom'\r\nimport Swal from 'sweetalert2'\r\nimport Header from '../../components/Header'\r\nimport '../../style/HS.scss'\r\n\r\nfunction MemberRegister(props) {\r\n  //set background img\r\n  // useEffect(() => {\r\n  //     require('../../style/bg.css')\r\n  // }, []);\r\n\r\n  //Register function\r\n  const [name, setName] = useState('')\r\n  const [email, setEmail] = useState('')\r\n  const [username, setUsername] = useState('')\r\n  const [password1, setPassword1] = useState('')\r\n  const [password2, setPassword2] = useState('')\r\n  // const [mobile, setMobile] = useState('')\r\n\r\n  const [error, setError] = useState(false)\r\n\r\n  const handleSubmit = () => {\r\n    let error = false\r\n    if (password1 !== password2) {\r\n      error = true\r\n      Swal.fire({\r\n        icon: 'error',\r\n        title: 'Oops...',\r\n        text: '兩次密碼不同!',\r\n      })\r\n    }\r\n\r\n    setError(error)\r\n    if (error) return\r\n\r\n    const password = password1\r\n    const userData = { name, email, username, password }\r\n    sendRegisterDataToServer(userData, () => {\r\n      Swal.fire('註冊成功!', 'Redirect in 3 seconds...!', 'success')\r\n      setTimeout(function() {\r\n        window.location.href = './memberlogin'\r\n      }, 2000)\r\n    })\r\n  }\r\n\r\n  async function sendRegisterDataToServer(userData, callback) {\r\n    const fd = new FormData()\r\n    fd.append('fullName', userData.name)\r\n    fd.append('email', userData.email)\r\n    fd.append('loginId', userData.username)\r\n    fd.append('loginPwd', userData.password)\r\n    // fd.append('mobileNumber', userData.number)\r\n\r\n    const request = new Request('http://localhost:5000/members/register', {\r\n      method: 'POST',\r\n      body: fd,\r\n    })\r\n\r\n    console.log(JSON.stringify(userData))\r\n\r\n    const response = await fetch(request)\r\n    const data = await response.json()\r\n    console.log(data)\r\n    callback()\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"entirepage-hs\">\r\n        <Header />\r\n        {/* <!-- register card --> */}\r\n        <div className=\"container hsregister\">\r\n          <div className=\"registercard-hs row d-flex align-items-center\">\r\n            <div className=\"card col-md-6 mx-auto\">\r\n              {/* <!-- Default form register --> */}\r\n              <form className=\"text-center p-4\" action=\"\">\r\n                <p className=\"h4 mb-4\">註冊</p>\r\n\r\n                {/* <!-- Full Name --> */}\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"name\"\r\n                  id=\"\"\r\n                  className=\"form-control mb-4\"\r\n                  placeholder=\"Name\"\r\n                  onChange={e => setName(e.target.value)}\r\n                />\r\n\r\n                {/* <!-- E-mail --> */}\r\n                <input\r\n                  type=\"email\"\r\n                  id=\"\"\r\n                  className=\"form-control mb-4\"\r\n                  placeholder=\"E-mail\"\r\n                  onChange={e => setEmail(e.target.value)}\r\n                />\r\n\r\n                {/* Login Id */}\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"username\"\r\n                  id=\"\"\r\n                  className=\"form-control mb-4\"\r\n                  placeholder=\"Login ID\"\r\n                  onChange={e => setUsername(e.target.value)}\r\n                />\r\n\r\n                {/* <!-- Password --> */}\r\n                <input\r\n                  type=\"password\"\r\n                  name=\"password1\"\r\n                  id=\"\"\r\n                  className=\"form-control\"\r\n                  placeholder=\"Password\"\r\n                  aria-describedby=\"defaultRegisterFormPasswordHelpBlock\"\r\n                  onChange={e => setPassword1(e.target.value)}\r\n                />\r\n                <small\r\n                  id=\"defaultRegisterFormPasswordHelpBlock\"\r\n                  className=\"form-text text-muted mb-4\"\r\n                >\r\n                  At least 8 characters and 1 digit\r\n                </small>\r\n\r\n                {/* <!-- Re-enter password --> */}\r\n                <input\r\n                  type=\"password\"\r\n                  name=\"password2\"\r\n                  id=\"\"\r\n                  className=\"form-control\"\r\n                  placeholder=\"Re-Enter Password\"\r\n                  aria-describedby=\"defaultRegisterFormPasswordHelpBlock\"\r\n                  onChange={e => setPassword2(e.target.value)}\r\n                />\r\n                <small id=\"\" className=\"form-text text-muted mb-4\">\r\n                  At least 8 characters and 1 digit\r\n                </small>\r\n\r\n                {/* <!-- Phone number --> */}\r\n                {/* <input type=\"text\" id=\"\" className=\"form-control\" placeholder=\"Phone number\"\r\n                            aria-describedby=\"defaultRegisterFormPhoneHelpBlock\" onChange={e => setMobile(e.target.value)} /> */}\r\n\r\n                {/* <!-- Sign up button --> */}\r\n                <button\r\n                  className=\"btn btn-info my-4 btn-block\"\r\n                  type=\"button\"\r\n                  onClick={() => handleSubmit()}\r\n                >\r\n                  立即註冊!\r\n                </button>\r\n\r\n                {/* <!-- Social register --> */}\r\n                <p>其他登入方式:</p>\r\n\r\n                <a href=\"#\" className=\"mx-2 otherlogin\" role=\"button\">\r\n                  <i className=\"otherlogin fab fa-facebook-f light-blue-text\"></i>\r\n                </a>\r\n                <a href=\"#\" className=\"mx-2 otherlogin\" role=\"button\">\r\n                  <i className=\"otherlogin fab fa-twitter light-blue-text\"></i>\r\n                </a>\r\n                <a href=\"#\" className=\"mx-2 otherlogin\" role=\"button\">\r\n                  <i className=\"otherlogin fab fa-linkedin-in light-blue-text\"></i>\r\n                </a>\r\n                <a href=\"#\" className=\"mx-2 otherlogin\" role=\"button\">\r\n                  <i className=\"otherlogin fab fa-github light-blue-text\"></i>\r\n                </a>\r\n                <a href=\"#\" className=\"mx-2 otherlogin\" role=\"button\">\r\n                  <i className=\"otherlogin fab fa-google light-blue-text\"></i>\r\n                </a>\r\n\r\n                <hr />\r\n\r\n                {/* <!-- Terms of service --> */}\r\n                <p>\r\n                  點擊\r\n                  <em>立即註冊！</em> 即表示您同意我們的服務條款\r\n                  <a className=\"servicelink\" href=\"\" target=\"_blank\">\r\n                    服務條款\r\n                  </a>\r\n                </p>\r\n              </form>\r\n              {/* <!-- Default form register --> */}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default MemberRegister\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport '../../style/HS.scss'\r\nimport { bindActionCreators } from 'redux'\r\n\r\n//引入action\r\nimport { memberLogoutAsync } from '../../actions/member/memberActions'\r\nimport { connect } from 'react-redux'\r\n\r\nfunction Sidebar(props) {\r\n  console.log(props)\r\n  return (\r\n    <>\r\n      <div>\r\n        <img\r\n          className=\"rounded-circle avatar mb-5\"\r\n          src={'http://127.0.0.1:5000/images/memberImg/' + props.SidebarImgSrc}\r\n          alt=\"\"\r\n        ></img>\r\n      </div>\r\n\r\n      <ul className=\"nav flex-column hssidebar\" style={{ width: '150px' }}>\r\n        <li className=\"nav-item\">\r\n          <Link className=\"nav-link sidebarlink-hs\" to=\"/memberuser/homepage\">\r\n            <i className=\"fas fa-home\"></i>首頁\r\n          </Link>\r\n        </li>\r\n        <li className=\"nav-item\">\r\n          <Link\r\n            className=\"nav-link sidebarlink-hs\"\r\n            to=\"/memberuser/user/:memberId\"\r\n          >\r\n            <i className=\"far fa-user\"></i>個人資料\r\n          </Link>\r\n        </li>\r\n        <li className=\"nav-item\">\r\n          <Link className=\"nav-link sidebarlink-hs\" to=\"/memberuser/order\">\r\n            <i className=\"fas fa-receipt\"></i>我的訂單\r\n          </Link>\r\n        </li>\r\n        <li className=\"nav-item\">\r\n          <Link className=\"nav-link sidebarlink-hs\" to=\"/memberuser/class\">\r\n            <i className=\"far fa-calendar-alt\"></i>我的課程\r\n          </Link>\r\n        </li>\r\n        <li className=\"nav-item\">\r\n          <Link className=\"nav-link sidebarlink-hs\" to=\"/memberuser/event\">\r\n            <i className=\"fas fa-swimmer\"></i>我的活動\r\n          </Link>\r\n        </li>\r\n        <li className=\"nav-item\">\r\n          <Link className=\"nav-link sidebarlink-hs\" to=\"/memberuser/blog\">\r\n            <i className=\"far fa-edit\"></i>我的PO文\r\n          </Link>\r\n        </li>\r\n        <li className=\"nav-item\">\r\n          <Link className=\"nav-link sidebarlink-hs\" to=\"/memberuser/message\">\r\n            <i className=\"far fa-envelope\"></i>訊息管理\r\n          </Link>\r\n        </li>\r\n        <li className=\"nav-item\">\r\n          <Link className=\"nav-link sidebarlink-hs\" to=\"/memberuser/coupon\">\r\n            <i class=\"fas fa-ticket-alt\"></i>優惠券\r\n          </Link>\r\n        </li>\r\n        <li className=\"nav-item\">\r\n          <Link className=\"nav-link sidebarlink-hs\" to=\"/help\">\r\n            <i className=\"far fa-question-circle\"></i>幫助\r\n          </Link>\r\n        </li>\r\n        <li className=\"nav-item\">\r\n          <Link\r\n            className=\"nav-link sidebarlink-hs\"\r\n            to=\"/\"\r\n            onClick={event => {\r\n              event.preventDefault()\r\n              props.memberLogoutAsync()\r\n            }}\r\n          >\r\n            <i className=\"fas fa-sign-out-alt\"></i>登出\r\n          </Link>\r\n        </li>\r\n      </ul>\r\n    </>\r\n  )\r\n}\r\n\r\n// 取得Redux中store的值\r\nconst mapStateToProps = store => {\r\n  return {}\r\n}\r\n\r\n// 指示dispatch要綁定哪些action creators\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      memberLogoutAsync,\r\n    },\r\n    dispatch\r\n  )\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Sidebar)\r\n","import React, { useEffect, useState } from 'react'\r\nimport { withRouter } from 'react-router'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport { getuserDetailDataAsync, updateuserDetailDataAsync } from '../../actions/member/memberActions'\r\nimport Cookie from 'js-cookie'\r\nimport Swal from 'sweetalert2'\r\n\r\n\r\nfunction UserContent(props) {\r\n    // console.log(props.user.result)\r\n    const userInfo = props.user.result;\r\n    // console.log(userInfo)\r\n\r\n    useEffect(() => {\r\n        props.getuserDetailDataAsync()\r\n    }, [])\r\n    // console.log(props)\r\n\r\n    // live update image\r\n    const [avatarFile, setAvatarFile] = useState('');\r\n    const [avatarDataFiles, setAvatarDataFiles] = useState('');\r\n    const handleChange = (event) => {\r\n        console.log(event.target.files)\r\n        setAvatarFile(URL.createObjectURL(event.target.files[0]))\r\n        console.log(event.target.files[0])\r\n        setAvatarDataFiles(event.target.files[0])\r\n    }\r\n\r\n    // update user info \r\n    const [response, setResponse] = useState(false)\r\n    const [memberId, setMemberId] = useState(props.match.params.memberId)\r\n    const [fullName, setFullName] = useState('')\r\n    const [mobileNumber, setMobileNumber] = useState('')\r\n    const [email, setEmail] = useState('')\r\n    const [address, setAddress] = useState('')\r\n\r\n    const handleUpdate = async () => {\r\n        const memData = {\r\n            fullName,\r\n            mobileNumber,\r\n            email,\r\n            address\r\n        }\r\n        const member_fd = new FormData()\r\n        member_fd.append('fullName', memData.fullName)\r\n        member_fd.append('mobileNumber', memData.mobileNumber)\r\n        member_fd.append('email', memData.email)\r\n        member_fd.append('address', memData.address)\r\n\r\n        const request = new Request(\r\n            `http://127.0.0.1:5000/members/`,\r\n            {\r\n                method: 'POST',\r\n                body: member_fd,\r\n                credentials: 'include',\r\n                headers: new Headers({\r\n                    'access-token': Cookie.get('token'),\r\n                }),\r\n            })\r\n        const response = await fetch(request)\r\n        const data = await response.json()\r\n        console.log(data)\r\n        Swal.fire(\r\n            '好棒棒!',\r\n            '更新成功!',\r\n            'success',\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"card infocard-hs\">\r\n                {/* <!-- Material form group --> */}\r\n                <div className=\"pagehead d-flex justify-content-center\">\r\n                    <h3 className=\"pagetitle-hs\">個人資料</h3>\r\n                </div>\r\n                <hr className=\"hrline-hs\" />\r\n\r\n                {/* <!-- Avatar Image --> */}\r\n                <div className=\" avatar-hs d-flex justify-content-center mt-5\">\r\n                    <input className=\"inputavatar\" type=\"file\" onChange={(event) => handleChange(event)} />\r\n                    <img className=\"blah\" src={avatarFile} width=\"100\" height=\"100\" />\r\n                    {/* <img className=\"rounded-circle avatar mb-5\" src=\"./images/member/nemo.jpg\" alt=\"\" /> */}\r\n                </div>\r\n                {/* start of member form */}\r\n                <form>\r\n                    {/* <!-- Material input --> */}\r\n                    <div className=\"input-hs md-form form-group mt-5 col-lg-12\">\r\n                        <label for=\"formGroupExampleInputMD\">會員編號：</label>\r\n                        <input defaultValue={userInfo ? (userInfo[0].memberId) : ('')} type=\"text\" className=\"form-control\" disabled />\r\n                    </div>\r\n                    <div className=\"input-hs md-form form-group mt-5 col-lg-12\">\r\n                        <label for=\"formGroupExampleInputMD\">姓名：</label>\r\n                        <input onChange={e => { setFullName(e.target.value) }} defaultValue={userInfo ? (userInfo[0].fullName) : ('')} type=\"text\" className=\"form-control\" name=\"fullName\" />\r\n                    </div>\r\n                    <div className=\"input-hs md-form form-group mt-5 col-lg-12\">\r\n                        <label for=\"formGroupExampleInputMD\">電話：</label>\r\n                        <input onChange={e => { setMobileNumber(e.target.value) }} defaultValue={userInfo ? (userInfo[0].mobileNumber) : ('')} type=\"text\" className=\"form-control\" name=\"mobileNumber\" />\r\n                    </div>\r\n                    <div className=\"input-hs md-form form-group mt-5 col-lg-12\">\r\n                        <label for=\"formGroupExampleInputMD\">電子郵件：</label>\r\n                        <input onChange={e => { setEmail(e.target.value) }} defaultValue={userInfo ? (userInfo[0].email) : ('')} type=\"email\" className=\"form-control\" name=\"email\" />\r\n                    </div>\r\n                    <div className=\"input-hs md-form form-group mt-5 col-lg-12\">\r\n                        <label for=\"formGroupExampleInputMD\">地址：</label>\r\n                        <input onChange={e => { setAddress(e.target.value) }} defaultValue={userInfo ? (userInfo[0].address) : ('')} type=\"text\" className=\"form-control\" name=\"address\" />\r\n                    </div>\r\n                    <div className=\"input-hs md-form form-group mt-5 col-lg-12\">\r\n                        <label for=\"formGroupExampleInputMD\">加入日期：</label>\r\n                        <input defaultValue={userInfo ? (userInfo[0].JoinDate) : ('')} type=\"text\" className=\"form-control\" disabled />\r\n                    </div>\r\n                    <button\r\n                        onClick={e => {\r\n                            handleUpdate()\r\n                        }}\r\n                        type=\"button\" className=\"btn btn-primary col-lg-12\">\r\n                        更新\r\n                    </button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n// 取得Redux中store的值\r\nconst mapStateToProps = store => {\r\n    return {\r\n        user: store.memberReducer.user,\r\n        changeData: store.memberReducer.changeData,\r\n    }\r\n}\r\n\r\n// 指示dispatch要綁定哪些action creators\r\nconst mapDispatchToProps = dispatch => {\r\n    return bindActionCreators({ getuserDetailDataAsync, updateuserDetailDataAsync }, dispatch)\r\n}\r\n\r\nexport default withRouter(\r\n    connect(mapStateToProps, mapDispatchToProps)(UserContent)\r\n)\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport SweetAlert from '../SellerClassComponents/Sweetalert2' //自訂提示窗\r\n\r\n//引入redux元件\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\n\r\n//引入action\r\nimport { memberUnJoinClassAsync } from '../../../actions/class/class_Actions'\r\n\r\nfunction MemberClassList(props) {\r\n  const [response, setResponse] = useState(false) //確認是否有收到取消報名動作的response資料\r\n\r\n  //每當response改變時就秀出提示視窗\r\n  useEffect(() => {\r\n    if (response) {\r\n      if (props.memberClassActionResponse.status === 201) {\r\n        SweetAlert.success('已成功取消報名!')\r\n        setResponse(false)\r\n        props.memberGetClassDataAsync()\r\n      } else {\r\n        SweetAlert.errorAlert(\r\n          props.memberClassActionResponse.status,\r\n          props.memberClassActionResponse.msg\r\n        )\r\n        setResponse(false)\r\n      }\r\n    }\r\n  }, [response])\r\n\r\n  return (\r\n    <>\r\n      {props.memberClassData.status && props.memberClassData.status !== 404 ? (\r\n        props.memberClassData.result.map((value, index) => {\r\n          return (\r\n            <div className=\"card mt-3\" key={index}>\r\n              <div\r\n                className=\"card-header py-1 d-flex justify-content-between card-header-jy align-items-center\"\r\n                style={{ background: '#c4cad1' }}\r\n              >\r\n                <p className=\"itemId-JY\">{'課程編號：' + value.classId}</p>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-info\"\r\n                  disabled={\r\n                    new Date(value.classStartDate).getTime() <\r\n                    new Date().getTime()\r\n                      ? true\r\n                      : false\r\n                  }\r\n                  onClick={() => {\r\n                    const classId = value.classId\r\n                    SweetAlert.sendConfirm(\r\n                      '你確定要取消報名嗎?',\r\n                      setResponse,\r\n                      true,\r\n                      props.memberUnJoinClassAsync,\r\n                      classId\r\n                    )\r\n                  }}\r\n                >\r\n                  取消報名\r\n                </button>\r\n              </div>\r\n              <div className=\"row\">\r\n                <div className=\"col-sm-6\">\r\n                  <div className=\"card-body\">\r\n                    <h5 className=\"card-title\">{value.className}</h5>\r\n                    <p className=\"card-text\">\r\n                      {'課程類型：' + value.classType}\r\n                    </p>\r\n                    <p className=\"card-text\">\r\n                      {'課程等級：' + value.classLevel}\r\n                    </p>\r\n                    <p className=\"card-text\">\r\n                      {'上課日期：' + value.classStartDate}{' '}\r\n                    </p>\r\n                    <p className=\"card-text\">\r\n                      {'上課地址：' + value.classLocation}\r\n                    </p>\r\n                    <Link\r\n                      className=\"btn btn-primary\"\r\n                      to={'/class/' + value.classId}\r\n                    >\r\n                      詳細\r\n                    </Link>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-sm-6\">\r\n                  <img\r\n                    className=\"eventimg-hs\"\r\n                    src={\r\n                      'http://127.0.0.1:5000/images/classImg/' + value.classImg\r\n                    }\r\n                    alt=\"\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )\r\n        })\r\n      ) : (\r\n        <h2 className=\"text-white\">查無相關資料</h2>\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\n// 取得Redux中store的值\r\nconst mapStateToProps = store => {\r\n  return {\r\n    memberClassActionResponse: store.classReducer.memberClassActionResponse,\r\n  }\r\n}\r\n\r\n// 指示dispatch要綁定哪些action creators\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      memberUnJoinClassAsync,\r\n    },\r\n    dispatch\r\n  )\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MemberClassList)\r\n","import React, { useEffect, useState } from 'react'\r\nimport SwitchButton from '../../components/event/MemberEventComponents/SwitchButton'\r\n\r\n//引入redux元件\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\n\r\n//引入action\r\nimport { memberGetClassDataAsync } from '../../actions/class/class_Actions'\r\n\r\n/*\r\n  從store接收的參數\r\n  memberClassData = 會員報名的課程資料\r\n  memberUnJoinClassResponse = 會員取消報名之後，後端回傳的資料\r\n\r\n  從store接收的action\r\n  memberGetClassDataAsync = 向伺服器取得資料\r\n  memberUnJoinClassAsync = 會員取消報名的動作\r\n*/\r\n\r\nimport EventPageButtons from '../../components/event/EventPageButtons' //頁數按鈕\r\nimport MemberClassList from '../../components/class/MemberClassComponents/MemberClassList' //會員課程列表\r\nimport Loading from '../../components/class/Loading' //載入中圖示\r\nimport '../../style/HS.scss'\r\n\r\nfunction MemberClass(props) {\r\n  const [hasLoading, setHasLoading] = useState(true) //是否載入中\r\n  const [isEnable, setIsEnable] = useState(false) //是否按下 \"包含已過期資料的按鈕\"\r\n\r\n  //每次資料有變動就將新資料存進本地state\r\n  useEffect(() => {\r\n    //設定載入中為true\r\n    setHasLoading(true)\r\n    setTimeout(() => {\r\n      if (props.memberClassData.status) {\r\n        setHasLoading(false)\r\n      }\r\n    }, 500)\r\n  }, [props.memberClassData])\r\n\r\n  //每次包含過期資料按鈕被點擊時，就取得新資料\r\n  useEffect(() => {\r\n    getMemberClassData()\r\n  }, [isEnable])\r\n\r\n  //每次點擊SwitchButton就改變state\r\n  const toggleSwitchButton = () => {\r\n    setIsEnable(!isEnable)\r\n  }\r\n\r\n  //向伺服器取得新資料\r\n  const getMemberClassData = page => {\r\n    //取得select的值，作為類型、等級的篩選參數\r\n    const sort = document.querySelector('select[name=\"sort\"]').value\r\n    props.memberGetClassDataAsync(sort, page, isEnable)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {/* <!-- Orger Content --> */}\r\n      <div className=\"container hsclass\">\r\n        <div className=\"row\">\r\n          <div className=\"col-lg-12\">\r\n            <div className=\"order-select d-flex justify-content-end\">\r\n              <div className=\"d-flex switchbutton-jy align-items-center\">\r\n                <p>包含已過期資料</p>\r\n                <SwitchButton\r\n                  type=\"button\"\r\n                  active={isEnable}\r\n                  clicked={toggleSwitchButton}\r\n                />\r\n              </div>\r\n              <select\r\n                name=\"sort\"\r\n                className=\"form-control col-sm-2 select-jy\"\r\n                onChange={() => {\r\n                  getMemberClassData()\r\n                }}\r\n              >\r\n                <option value=\"\">排序方式</option>\r\n                <option value=\"classNOWpeople,desc\">報名人數多至少</option>\r\n                <option value=\"classNOWpeople,asc\">報名人數少至多</option>\r\n                <option value=\"classStartDate,asc\">開課日期近至遠</option>\r\n                <option value=\"classStartDate,desc\">開課日期遠至近</option>\r\n              </select>\r\n            </div>\r\n            <div className=\"order-history\">\r\n              {hasLoading ? (\r\n                <Loading />\r\n              ) : (\r\n                <MemberClassList\r\n                  memberClassData={props.memberClassData}\r\n                  memberGetClassDataAsync={props.memberGetClassDataAsync}\r\n                />\r\n              )}\r\n            </div>\r\n            {/* <!-- pagination --> */}\r\n            {hasLoading ? (\r\n              ''\r\n            ) : (\r\n              <EventPageButtons\r\n                totalPages={props.memberClassData.totalPages}\r\n                getDataFromServer={getMemberClassData}\r\n              />\r\n            )}\r\n\r\n            {/* <!-- end of pagination --> */}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\n// 取得Redux中store的值\r\nconst mapStateToProps = store => {\r\n  return {\r\n    memberClassData: store.classReducer.memberClassData,\r\n  }\r\n}\r\n\r\n// 指示dispatch要綁定哪些action creators\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      memberGetClassDataAsync,\r\n    },\r\n    dispatch\r\n  )\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MemberClass)\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport SweetAlert from '../../class/SellerClassComponents/Sweetalert2' //自訂提示窗\r\n\r\n//引入redux元件\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\n\r\n//引入action\r\nimport {\r\n  memberGetEventDataAsync,\r\n  memberUnJoinEventAsync,\r\n  delEventDataAsync,\r\n} from '../../../actions/event/event_Actions'\r\n\r\nimport Loading from '../../class/Loading' //載入中圖示\r\nimport EventPageButtons from '../EventPageButtons' //頁面按鈕\r\nimport SwitchButton from './SwitchButton' //切換過期資料按鈕\r\n\r\nfunction ManageMyEventContent(props) {\r\n  const [hasLoading, setHasLoading] = useState(true) //是否載入中\r\n  const [response, setResponse] = useState(false) //確認是否有收到刪除動作的response資料\r\n  const [isEnable, setIsEnable] = useState(false) //是否按下 \"包含已過期資料的按鈕\"\r\n\r\n  //每次點擊頁籤按下切換按鈕就提示載入中並取得新資料\r\n  useEffect(() => {\r\n    getMemberEventData()\r\n  }, [props.nowClickTag, isEnable])\r\n\r\n  //每次資料有變動就提示載入中\r\n  useEffect(() => {\r\n    //設定載入中為true\r\n    setHasLoading(true)\r\n    setTimeout(() => {\r\n      if (props.memberEventDataSelf.status) {\r\n        setHasLoading(false)\r\n      }\r\n    }, 500)\r\n  }, [props.memberEventDataSelf])\r\n\r\n  //每當response改變時就秀出提示視窗\r\n  useEffect(() => {\r\n    if (response) {\r\n      if (props.memberActionResponse.status === 201) {\r\n        SweetAlert.success('已成功刪除一筆資料!')\r\n        setResponse(false)\r\n        props.memberGetEventDataAsync('', '', props.nowClickTag, isEnable) //刪除完成的時候刷新一次資料\r\n      } else {\r\n        SweetAlert.errorAlert(\r\n          props.memberActionResponse.status,\r\n          props.memberActionResponse.msg\r\n        )\r\n        setResponse(false)\r\n      }\r\n    }\r\n  }, [response])\r\n\r\n  //向伺服器取得新資料\r\n  const getMemberEventData = page => {\r\n    //取得select的值，作為類型、等級的篩選參數\r\n    const sort = document.querySelector('select[name=\"sort\"]').value\r\n    props.memberGetEventDataAsync(sort, page, props.nowClickTag, isEnable)\r\n  }\r\n\r\n  //每次點擊SwitchButton就改變state\r\n  const toggleSwitchButton = () => {\r\n    setIsEnable(!isEnable)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"event-select\">\r\n        <div className=\"d-flex justify-content-end align-items-center\">\r\n          <div className=\"d-flex switchbutton-jy align-items-center\">\r\n            <p>包含已過期資料</p>\r\n            <SwitchButton\r\n              type=\"button\"\r\n              active={isEnable}\r\n              clicked={toggleSwitchButton}\r\n            />\r\n          </div>\r\n\r\n          <select\r\n            name=\"sort\"\r\n            className=\"form-control col-sm-2 select-jy\"\r\n            onChange={() => {\r\n              getMemberEventData()\r\n            }}\r\n          >\r\n            <option value=\"\">排序方式</option>\r\n            <option value=\"eventStartDate,asc\">日期由近到遠</option>\r\n            <option value=\"eventStartDate,desc\">日期由遠到近</option>\r\n            <option value=\"eventNowPeople,asc\">報名人數由少至多</option>\r\n            <option value=\"eventNowPeople,desc\">報名人數由多至少</option>\r\n          </select>\r\n        </div>\r\n        <div className=\"eventhistory\">\r\n          {hasLoading ? (\r\n            <Loading />\r\n          ) : (\r\n            <>\r\n              {props.memberEventDataSelf.status &&\r\n              props.memberEventDataSelf.status !== 404 ? (\r\n                props.memberEventDataSelf.eventData.map((value, index) => {\r\n                  return (\r\n                    <div className=\"card mt-3\" key={index}>\r\n                      <div\r\n                        className=\"card-header  py-1 d-flex justify-content-between align-items-center card-header-jy\"\r\n                        style={{ background: '#c4cad1' }}\r\n                      >\r\n                        <p className=\"itemId-JY\">\r\n                          {'活動編號：' + value.eventId}\r\n                        </p>\r\n                        {props.nowClickTag === 2 ? (\r\n                          <button\r\n                            type=\"button\"\r\n                            className=\"btn btn-info\"\r\n                            disabled={\r\n                              new Date(value.eventStartDate).getTime() <\r\n                              new Date().getTime()\r\n                                ? true\r\n                                : false\r\n                            }\r\n                            onClick={() => {\r\n                              const eventId = value.eventId\r\n                              SweetAlert.sendConfirm(\r\n                                '你確定要取消報名嗎?',\r\n                                setResponse,\r\n                                true,\r\n                                props.memberUnJoinEventAsync,\r\n                                eventId\r\n                              )\r\n                            }}\r\n                          >\r\n                            取消報名\r\n                          </button>\r\n                        ) : (\r\n                          ''\r\n                        )}\r\n                      </div>\r\n                      <div className=\"row eventContent-MEMBER-JY\">\r\n                        <div className=\"col-sm-5\">\r\n                          <div className=\"card-body\">\r\n                            <h5 className=\"card-title\">{value.eventName}</h5>\r\n                            <p className=\"card-text\">\r\n                              {'活動類型：' + value.eventType}\r\n                            </p>\r\n                            <p className=\"card-text\">\r\n                              {'徵求人數：' + value.eventNeedPeople}\r\n                            </p>\r\n                            <p className=\"card-text\">\r\n                              {'已報名人數：' + value.eventNowPeople}\r\n                            </p>\r\n                            <p className=\"card-text\">\r\n                              {'活動日期：' + value.eventStartDate}\r\n                            </p>\r\n                            <p className=\"card-text\">\r\n                              {'活動地點：' + value.eventLocation}\r\n                            </p>\r\n                            {props.nowClickTag === 2 ? (\r\n                              <p className=\"card-text\">\r\n                                {'主辦者：' + value.loginId}\r\n                              </p>\r\n                            ) : (\r\n                              ''\r\n                            )}\r\n                            {props.nowClickTag === 2 ? (\r\n                              <Link\r\n                                to={'/event/' + value.eventId}\r\n                                className=\"btn btn-primary\"\r\n                              >\r\n                                詳情\r\n                              </Link>\r\n                            ) : (\r\n                              <div>\r\n                                <Link\r\n                                  to={'/memberuser/event/edit/' + value.eventId}\r\n                                  className=\"btn btn-primary\"\r\n                                >\r\n                                  <i\r\n                                    className=\"fas fa-edit\"\r\n                                    data-id={value.eventId}\r\n                                  ></i>\r\n                                </Link>\r\n                                <button\r\n                                  className=\"btn btn-primary\"\r\n                                  disabled={\r\n                                    new Date(value.eventStartDate).getTime() <\r\n                                    new Date().getTime()\r\n                                      ? true\r\n                                      : false\r\n                                  }\r\n                                  data-id={value.eventId}\r\n                                  onClick={event => {\r\n                                    const eventId = event.target.getAttribute(\r\n                                      'data-id'\r\n                                    )\r\n                                    SweetAlert.sendConfirm(\r\n                                      '你確定要刪除這筆活動嗎?',\r\n                                      setResponse,\r\n                                      true,\r\n                                      props.delEventDataAsync,\r\n                                      eventId\r\n                                    )\r\n                                  }}\r\n                                >\r\n                                  <i\r\n                                    className=\"far fa-trash-alt\"\r\n                                    data-id={value.eventId}\r\n                                  ></i>\r\n                                </button>\r\n                              </div>\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"col-sm-7\">\r\n                          <img\r\n                            className=\"eventimg-hs\"\r\n                            src={\r\n                              'http://127.0.0.1:5000/images/eventImg/' +\r\n                              value.eventImg\r\n                            }\r\n                            alt=\"\"\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  )\r\n                })\r\n              ) : (\r\n                <h2 className=\"text-white\">查無相關資料</h2>\r\n              )}\r\n            </>\r\n          )}\r\n        </div>\r\n        {hasLoading ? (\r\n          ''\r\n        ) : (\r\n          <EventPageButtons\r\n            totalPages={props.memberEventDataSelf.totalPages}\r\n            getDataFromServer={getMemberEventData}\r\n          />\r\n        )}\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\n// 取得Redux中store的值\r\nconst mapStateToProps = store => {\r\n  return {\r\n    memberEventDataSelf: store.eventReducer.memberEventDataSelf,\r\n    memberActionResponse: store.eventReducer.memberActionResponse,\r\n  }\r\n}\r\n\r\n// 指示dispatch要綁定哪些action creators\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      memberGetEventDataAsync,\r\n      memberUnJoinEventAsync,\r\n      delEventDataAsync,\r\n    },\r\n    dispatch\r\n  )\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(ManageMyEventContent)\r\n","import React, { useState, useEffect } from 'react'\r\nimport SweetAlert from '../../class/SellerClassComponents/Sweetalert2'\r\n\r\n//引入redux元件\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\n\r\n//引入action\r\nimport {\r\n  getEventTypeDataAsync,\r\n  addEventDataAsync,\r\n} from '../../../actions/event/event_Actions'\r\nimport {\r\n  getCityDataAsync,\r\n  getDistDataAsync,\r\n} from '../../../actions/seller/index'\r\n\r\nfunction AddEventContent(props) {\r\n  const [addressCity, setAddressCity] = useState('') //儲存使用者選擇的縣市\r\n  const [addressDist, setAddressDist] = useState('') //儲存使用者選擇的地區\r\n  const [response, setResponse] = useState(false) //確認是否有收到response資料\r\n\r\n  //儲存表單值的本地state\r\n  const [eventName, setEventName] = useState('')\r\n  const [eventType, setEventType] = useState('')\r\n  const [eventTypeId, setEventTypeId] = useState('')\r\n  const [eventLocation, setEventLocation] = useState('')\r\n  const [eventFullLocation, setEventFullLocation] = useState('')\r\n  const [eventStartDate, setEventStartDate] = useState('')\r\n  const [eventEndDate, setEventEndDate] = useState('')\r\n  const [eventDesc, setEventDesc] = useState('')\r\n  const [eventNeedPeople, setEventNeedPeople] = useState('')\r\n  const [eventImg, setEventImg] = useState('')\r\n\r\n  useEffect(() => {\r\n    props.getEventTypeDataAsync()\r\n    props.getCityDataAsync()\r\n  }, [])\r\n\r\n  //每當response改變時就秀出提示視窗\r\n  useEffect(() => {\r\n    if (response) {\r\n      if (props.memberActionResponse.status === 201) {\r\n        SweetAlert.success('已成功新增一筆資料!')\r\n        setResponse(false)\r\n      } else {\r\n        SweetAlert.errorAlert(\r\n          props.memberActionResponse.status,\r\n          props.memberActionResponse.msg\r\n        )\r\n        setResponse(false)\r\n      }\r\n    }\r\n  }, [response])\r\n\r\n  //每當本地state[addressDist]改變時就setEventLocation\r\n  useEffect(() => {\r\n    setEventLocation(\r\n      document.querySelector('input[name=\"eventLocation\"]').value\r\n    )\r\n  }, [addressDist])\r\n\r\n  //新增一筆課程資料用的函式\r\n  const addEventData = async () => {\r\n    const EventFormData = {\r\n      eventName,\r\n      eventTypeId,\r\n      eventType,\r\n      eventLocation,\r\n      eventFullLocation,\r\n      eventStartDate,\r\n      eventEndDate,\r\n      eventDesc,\r\n      eventNeedPeople,\r\n      eventImg,\r\n    }\r\n    console.log(EventFormData)\r\n    //跳出確認視窗\r\n    SweetAlert.sendConfirm(\r\n      '確定要送出嗎?',\r\n      setResponse,\r\n      true,\r\n      props.addEventDataAsync,\r\n      EventFormData\r\n    )\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"addClassForm\">\r\n        <div className=\"row\">\r\n          <div className=\"col-xl-6 px-5\">\r\n            <form>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"\">活動名稱</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"className\"\r\n                  className=\"form-control\"\r\n                  placeholder=\"15字以內\"\r\n                  onChange={event => {\r\n                    setEventName(event.target.value) //設定活動名稱到本地state\r\n                  }}\r\n                />\r\n              </div>\r\n              <div className=\"form-row\">\r\n                <div className=\"form-group col-md-6\">\r\n                  <label htmlFor=\"\">活動類型</label>\r\n                  <select\r\n                    name=\"classTypeId\"\r\n                    className=\"form-control\"\r\n                    onChange={event => {\r\n                      const index = event.target.selectedIndex\r\n                      setEventType(event.target.options[index].textContent)\r\n                      setEventTypeId(event.target.value) //設定活動類型到本地state\r\n                    }}\r\n                  >\r\n                    <option value=\"\">請選擇類型</option>\r\n                    {props.eventTypeData.length > 0\r\n                      ? props.eventTypeData.map((value, index) => {\r\n                          return (\r\n                            <option value={value.eventTypeId} key={index}>\r\n                              {value.eventTypeName}\r\n                            </option>\r\n                          )\r\n                        })\r\n                      : ''}\r\n                  </select>\r\n                </div>\r\n              </div>\r\n              <label htmlFor=\"\">活動地點</label>\r\n              <div className=\"form-row\">\r\n                <div className=\"form-group col-md-5\">\r\n                  <select\r\n                    className=\"form-control\"\r\n                    onChange={event => {\r\n                      const city = event.target.value\r\n                      props.getDistDataAsync(city) //取得相對應的地區資料\r\n                      setAddressCity(city) //設定活動地點(縣市)到本地state\r\n                      setAddressDist('')\r\n                      setEventFullLocation('')\r\n                      setEventLocation('')\r\n                      document.querySelector(\r\n                        'input[name=\"eventFullLocation\"]'\r\n                      ).value = ''\r\n                    }}\r\n                  >\r\n                    <option value=\"\">請選擇縣市</option>\r\n                    {props.cityData.length > 0\r\n                      ? props.cityData.map((value, index) => {\r\n                          return (\r\n                            <option value={value.name} key={index}>\r\n                              {value.name}\r\n                            </option>\r\n                          )\r\n                        })\r\n                      : ''}\r\n                  </select>\r\n                </div>\r\n                <div className=\"form-group col-md-5\">\r\n                  <select\r\n                    className=\"form-control\"\r\n                    onChange={event => {\r\n                      const dist = event.target.value\r\n                      setAddressDist(dist) //設定活動地區到本地state\r\n                      setEventFullLocation('')\r\n                      setEventLocation('')\r\n                      document.querySelector(\r\n                        'input[name=\"eventFullLocation\"]'\r\n                      ).value = ''\r\n                    }}\r\n                  >\r\n                    <option value=\"\">請選擇地區</option>\r\n                    {props.distData.length > 0\r\n                      ? props.distData.map((value, index) => {\r\n                          return (\r\n                            <option value={value} key={index}>\r\n                              {value}\r\n                            </option>\r\n                          )\r\n                        })\r\n                      : ''}\r\n                  </select>\r\n                </div>\r\n              </div>\r\n              <div className=\"form-row\">\r\n                <div className=\"form-group col-md-4\">\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"eventLocation\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"\"\r\n                    value={addressCity + addressDist}\r\n                    readOnly\r\n                  />\r\n                </div>\r\n                <div className=\"form-group col-md-8\">\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"eventFullLocation\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"\"\r\n                    onChange={event => {\r\n                      setEventFullLocation(\r\n                        addressCity + addressDist + event.target.value\r\n                      ) //設定課程地點(完整)到本地state\r\n                    }}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"form-row\">\r\n                <div className=\"form-group col-md-12\">\r\n                  <label htmlFor=\"\">活動日期</label>\r\n                  <input\r\n                    type=\"datetime-local\"\r\n                    name=\"classStartDate\"\r\n                    className=\"form-control\"\r\n                    onChange={event => {\r\n                      setEventStartDate(event.target.value) //設定活動日期到本地state\r\n                    }}\r\n                  />\r\n                </div>\r\n                <div className=\"form-group col-md-12\">\r\n                  <label htmlFor=\"\">報名截止日期</label>\r\n                  <input\r\n                    type=\"datetime-local\"\r\n                    name=\"classEndDate\"\r\n                    className=\"form-control\"\r\n                    onChange={event => {\r\n                      setEventEndDate(event.target.value) //設定報名截止日期到本地state\r\n                    }}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"form-row\">\r\n                <div className=\"form-group col-md-6\">\r\n                  <label htmlFor=\"\">徵求人數</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    name=\"classMAXpeople\"\r\n                    className=\"form-control\"\r\n                    onChange={event => {\r\n                      setEventNeedPeople(event.target.value) //設定最大人數到本地state\r\n                    }}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"\">上傳一張圖片</label>\r\n                <input\r\n                  type=\"file\"\r\n                  name=\"classImg\"\r\n                  className=\"form-control-file\"\r\n                  onChange={event => {\r\n                    setEventImg(event.target.files[0]) //設定活動圖片到本地state\r\n                    document.getElementById(\r\n                      'blah-JY'\r\n                    ).src = window.URL.createObjectURL(event.target.files[0])\r\n                  }}\r\n                />\r\n              </div>\r\n            </form>\r\n          </div>\r\n          <div className=\"col-xl-6 px-5\">\r\n            <div className=\"form-group classDescBox\">\r\n              <label htmlFor=\"\">活動說明(3000字內)</label>\r\n              <textarea\r\n                className=\"form-control\"\r\n                name=\"classDesc\"\r\n                rows=\"5\"\r\n                onChange={event => {\r\n                  setEventDesc(event.target.value) //設定活動說明到本地state\r\n                }}\r\n              ></textarea>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-12 d-flex justify-content-center mb-3\">\r\n            <img src=\"\" alt=\"\" id=\"blah-JY\" />\r\n          </div>\r\n          <div className=\"col-12 btn-box d-flex\">\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-outline-warning\"\r\n              onClick={() => {\r\n                addEventData() //觸發新增活動資料的事件\r\n              }}\r\n            >\r\n              送出\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\n// 取得Redux中store的值\r\nconst mapStateToProps = store => {\r\n  return {\r\n    cityData: store.sellerReducer.cityData,\r\n    distData: store.sellerReducer.distData,\r\n    eventTypeData: store.eventReducer.eventTypeData,\r\n    memberActionResponse: store.eventReducer.memberActionResponse,\r\n  }\r\n}\r\n\r\n// 指示dispatch要綁定哪些action creators\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      addEventDataAsync,\r\n      getCityDataAsync,\r\n      getDistDataAsync,\r\n      getEventTypeDataAsync,\r\n    },\r\n    dispatch\r\n  )\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AddEventContent)\r\n","import React, { useState, useEffect } from 'react'\r\nimport { withRouter } from 'react-router'\r\nimport SweetAlert from '../../components/class/SellerClassComponents/Sweetalert2'\r\n\r\n//引入redux元件\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\n\r\n//引入action\r\nimport {\r\n  getMemberEventDetailDataAsync,\r\n  editEventDataAsync,\r\n  memberUnOtherJoinEventAsync,\r\n  getEventTypeDataAsync,\r\n} from '../../actions/event/event_Actions'\r\nimport { getCityDataAsync, getDistDataAsync } from '../../actions/seller/index'\r\n\r\nfunction MemberEditEvent(props) {\r\n  const [eventId, setEventId] = useState(props.match.params.eventId)\r\n  const [addressCity, setAddressCity] = useState('') //儲存使用者選擇的縣市\r\n  const [addressDist, setAddressDist] = useState('') //儲存使用者選擇的地區\r\n  const [response, setResponse] = useState(false) //確認是否有收到response資料\r\n\r\n  //儲存表單值的本地state\r\n  const [eventName, setEventName] = useState('')\r\n  const [eventType, setEventType] = useState('')\r\n  const [eventTypeId, setEventTypeId] = useState('')\r\n  const [eventLocation, setEventLocation] = useState('')\r\n  const [eventFullLocation, setEventFullLocation] = useState('')\r\n  const [eventStartDate, setEventStartDate] = useState('')\r\n  const [eventEndDate, setEventEndDate] = useState('')\r\n  const [eventDesc, setEventDesc] = useState('')\r\n  const [eventNeedPeople, setEventNeedPeople] = useState('')\r\n  const [eventImg, setEventImg] = useState('')\r\n  //儲存表單值的本地state\r\n\r\n  useEffect(() => {\r\n    props.getMemberEventDetailDataAsync(eventId)\r\n    props.getEventTypeDataAsync()\r\n    props.getCityDataAsync()\r\n  }, [])\r\n\r\n  //每當response改變時就秀出提示視窗\r\n  useEffect(() => {\r\n    if (response) {\r\n      if (props.memberActionResponse.status === 201) {\r\n        SweetAlert.success('已成功變更一筆資料!')\r\n        setResponse(false)\r\n        props.getMemberEventDetailDataAsync(eventId)\r\n      } else {\r\n        SweetAlert.errorAlert(\r\n          props.memberActionResponse.status,\r\n          props.memberActionResponse.msg\r\n        )\r\n        setResponse(false)\r\n      }\r\n    }\r\n  }, [response])\r\n\r\n  //每當本地state[addressDist]改變時就setEventLocation\r\n  useEffect(() => {\r\n    setEventLocation(\r\n      document.querySelector('input[name=\"eventLocation\"]').value\r\n    )\r\n  }, [addressDist])\r\n\r\n  //把取得的資料放進本地state\r\n  useEffect(() => {\r\n    if (props.memberEventDetailData.eventData) {\r\n      props.getDistDataAsync(\r\n        props.memberEventDetailData.eventData[0].eventLocation.substr(0, 3)\r\n      )\r\n\r\n      setEventName(props.memberEventDetailData.eventData[0].eventName)\r\n      setEventType(props.memberEventDetailData.eventData[0].eventType)\r\n      setEventTypeId(props.memberEventDetailData.eventData[0].eventTypeId)\r\n      setEventFullLocation(\r\n        props.memberEventDetailData.eventData[0].eventFullLocation\r\n      )\r\n      setEventStartDate(props.memberEventDetailData.eventData[0].eventStartDate)\r\n      setEventEndDate(props.memberEventDetailData.eventData[0].eventEndDate)\r\n      setEventDesc(props.memberEventDetailData.eventData[0].eventDesc)\r\n      setEventNeedPeople(\r\n        props.memberEventDetailData.eventData[0].eventNeedPeople\r\n      )\r\n      setEventImg(props.memberEventDetailData.eventData[0].eventImg)\r\n      setAddressCity(\r\n        props.memberEventDetailData.eventData[0].eventLocation.substr(0, 3)\r\n      )\r\n      setAddressDist(\r\n        props.memberEventDetailData.eventData[0].eventLocation.substr(3)\r\n      )\r\n    }\r\n  }, [props.memberEventDetailData.eventData])\r\n\r\n  //編輯一筆活動資料用的函式\r\n  const editEventData = async () => {\r\n    const EventFormData = {\r\n      eventName,\r\n      eventTypeId,\r\n      eventType,\r\n      eventLocation,\r\n      eventFullLocation,\r\n      eventStartDate,\r\n      eventEndDate,\r\n      eventDesc,\r\n      eventNeedPeople,\r\n      eventImg,\r\n    }\r\n    //跳出確認視窗\r\n    SweetAlert.sendConfirm(\r\n      '確定要送出嗎?',\r\n      setResponse,\r\n      true,\r\n      props.editEventDataAsync,\r\n      EventFormData,\r\n      eventId\r\n    )\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"container JY-container-member-editevent\">\r\n        <div className=\"row addClassForm py-3\">\r\n          <div className=\"col-xl-6\">\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"\">活動名稱</label>\r\n              <input\r\n                type=\"text\"\r\n                name=\"className\"\r\n                className=\"form-control\"\r\n                placeholder=\"15字以內\"\r\n                defaultValue={eventName}\r\n                onChange={event => {\r\n                  setEventName(event.target.value) //設定課程名稱到本地state\r\n                }}\r\n              />\r\n            </div>\r\n            <div className=\"form-row\">\r\n              <div className=\"form-group col-md-6\">\r\n                <label htmlFor=\"\">活動類型</label>\r\n                <select\r\n                  name=\"eventTypeId\"\r\n                  className=\"form-control\"\r\n                  defaultValue=\"\"\r\n                  onChange={event => {\r\n                    const type = event.target.value\r\n                    const index = event.target.selectedIndex\r\n                    setEventTypeId(type)\r\n                    setEventType(event.target.options[index].textContent) //設定活動類型到本地state\r\n                  }}\r\n                >\r\n                  <option value=\"\">請選擇類型</option>\r\n                  {props.eventTypeData.length > 0\r\n                    ? props.eventTypeData.map((value, index) => {\r\n                        return (\r\n                          <option\r\n                            value={value.eventTypeId}\r\n                            key={index}\r\n                            selected={\r\n                              eventTypeId === value.eventTypeId\r\n                                ? 'selected'\r\n                                : ''\r\n                            }\r\n                          >\r\n                            {value.eventTypeName}\r\n                          </option>\r\n                        )\r\n                      })\r\n                    : ''}\r\n                </select>\r\n              </div>\r\n            </div>\r\n            <label htmlFor=\"\">活動地點</label>\r\n            <div className=\"form-row\">\r\n              <div className=\"form-group col-md-6\">\r\n                <select\r\n                  className=\"form-control\"\r\n                  defaultValue=\"\"\r\n                  onChange={event => {\r\n                    const city = event.target.value\r\n                    props.getDistDataAsync(city) //取得相對應的地區資料\r\n                    setAddressCity(city) //設定課程地點(縣市)到本地state\r\n                    setAddressDist('')\r\n                    setEventFullLocation('')\r\n                    setEventLocation('')\r\n                    document.querySelector(\r\n                      'input[name=\"eventFullLocation\"]'\r\n                    ).value = ''\r\n                  }}\r\n                >\r\n                  <option value=\"\">請選擇縣市</option>\r\n                  {props.cityData.length > 0\r\n                    ? props.cityData.map((value, index) => {\r\n                        return (\r\n                          <option\r\n                            value={value.name}\r\n                            key={index}\r\n                            selected={\r\n                              addressCity === value.name ? 'selected' : ''\r\n                            }\r\n                          >\r\n                            {value.name}\r\n                          </option>\r\n                        )\r\n                      })\r\n                    : ''}\r\n                </select>\r\n              </div>\r\n              <div className=\"form-group col-md-6\">\r\n                <select\r\n                  className=\"form-control\"\r\n                  defaultValue=\"\"\r\n                  onChange={event => {\r\n                    const dist = event.target.value\r\n                    setAddressDist(dist) //設定課程地區到本地state\r\n                    setEventFullLocation('')\r\n                    setEventLocation('')\r\n                    document.querySelector(\r\n                      'input[name=\"eventFullLocation\"]'\r\n                    ).value = ''\r\n                  }}\r\n                >\r\n                  <option value=\"\">請選擇地區</option>\r\n                  {props.distData.length > 0\r\n                    ? props.distData.map((value, index) => {\r\n                        return (\r\n                          <option\r\n                            value={value}\r\n                            key={index}\r\n                            selected={\r\n                              addressDist === value.name ? 'selected' : ''\r\n                            }\r\n                          >\r\n                            {value}\r\n                          </option>\r\n                        )\r\n                      })\r\n                    : ''}\r\n                </select>\r\n              </div>\r\n            </div>\r\n            <div className=\"form-row\">\r\n              <div className=\"form-group col-md-4\">\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"eventLocation\"\r\n                  className=\"form-control\"\r\n                  placeholder=\"\"\r\n                  value={addressCity + addressDist}\r\n                  readOnly\r\n                />\r\n              </div>\r\n              <div className=\"form-group col-md-8\">\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"eventFullLocation\"\r\n                  className=\"form-control\"\r\n                  placeholder=\"\"\r\n                  defaultValue={eventFullLocation}\r\n                  onChange={event => {\r\n                    setEventFullLocation(\r\n                      addressCity + addressDist + event.target.value\r\n                    ) //設定活動地點(完整)到本地state\r\n                  }}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"form-row\">\r\n              <div className=\"form-group col-md-8\">\r\n                <label htmlFor=\"\">活動日期</label>\r\n                <input\r\n                  type=\"datetime-local\"\r\n                  name=\"eventStartDate\"\r\n                  className=\"form-control\"\r\n                  defaultValue={eventStartDate}\r\n                  onChange={event => {\r\n                    setEventStartDate(event.target.value) //設定活動日期到本地state\r\n                  }}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"form-row\">\r\n              <div className=\"form-group col-md-8\">\r\n                <label htmlFor=\"\">報名截止日期</label>\r\n                <input\r\n                  type=\"datetime-local\"\r\n                  name=\"EventEndDate\"\r\n                  className=\"form-control\"\r\n                  defaultValue={eventEndDate}\r\n                  onChange={event => {\r\n                    setEventEndDate(event.target.value) //設定報名截止日期到本地state\r\n                  }}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"form-row\">\r\n              <div className=\"form-group col-md-8\">\r\n                <label htmlFor=\"\">徵求人數</label>\r\n                <input\r\n                  type=\"number\"\r\n                  name=\"classMAXpeople\"\r\n                  className=\"form-control\"\r\n                  defaultValue={eventNeedPeople}\r\n                  onChange={event => {\r\n                    setEventNeedPeople(event.target.value) //設定徵求人數到本地state\r\n                  }}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"\">上傳一張圖片</label>\r\n              <input\r\n                type=\"file\"\r\n                name=\"eventImg\"\r\n                className=\"form-control-file\"\r\n                onChange={event => {\r\n                  setEventImg(event.target.files[0]) //設定活動圖片到本地state\r\n                }}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"col-xl-6\">\r\n            <div className=\"form-group classDescBox\">\r\n              <label htmlFor=\"\">活動說明(3000字內)</label>\r\n              <textarea\r\n                className=\"form-control\"\r\n                name=\"eventDesc\"\r\n                rows=\"5\"\r\n                defaultValue={eventDesc}\r\n                onChange={event => {\r\n                  setEventDesc(event.target.value) //設定活動說明到本地state\r\n                }}\r\n              ></textarea>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"row\">\r\n          <div className=\"col-12 bg-white\">\r\n            <p>報名者名單</p>\r\n          </div>\r\n        </div>\r\n        <div className=\"row mb-4 joinMemberList-JY\">\r\n          {props.memberEventDetailData.eventMemberData &&\r\n          props.memberEventDetailData.eventMemberData.length > 0 ? (\r\n            props.memberEventDetailData.eventMemberData.map((value, index) => {\r\n              return (\r\n                <div className=\"col-xl-3 col-6 mt-3\">\r\n                  <div class=\"card\">\r\n                    <div className=\"avatar\">\r\n                      <img\r\n                        class=\"card-img-top\"\r\n                        src=\"http://127.0.0.1:5000/images/memberImg/DefaultImage.jpg\"\r\n                        alt=\"avatar\"\r\n                      />\r\n                    </div>\r\n                    <div class=\"card-body\">\r\n                      <h5 class=\"card-title text-center\">{value.loginId}</h5>\r\n                      <div className=\"text-group\">\r\n                        <p className=\"card-text\">\r\n                          <i class=\"fas fa-envelope-square\"></i>電子郵件\r\n                        </p>\r\n                        <p class=\"card-text\">{value.email}</p>\r\n                      </div>\r\n                      <div className=\"text-group\">\r\n                        <p className=\"card-text\">\r\n                          <i class=\"fas fa-mobile-alt\"></i>手機號碼\r\n                        </p>\r\n                        <p class=\"card-text\">{value.mobileNumber}</p>\r\n                      </div>\r\n                      <div className=\"text-group\">\r\n                        <p className=\"card-text\">\r\n                          <i class=\"fas fa-clipboard\"></i>備註訊息\r\n                        </p>\r\n                        <p class=\"card-text\">{value.memberMemo}</p>\r\n                      </div>\r\n                      <div className=\"d-flex justify-content-end\">\r\n                        <button\r\n                          type=\"button\"\r\n                          class=\"btn btn-warning\"\r\n                          data-memberId={value.memberId}\r\n                          onClick={event => {\r\n                            const memberId = event.target.getAttribute(\r\n                              'data-memberId'\r\n                            )\r\n                            console.log(memberId)\r\n                            SweetAlert.sendConfirm(\r\n                              '確定要取消嗎?',\r\n                              setResponse,\r\n                              true,\r\n                              props.memberUnOtherJoinEventAsync,\r\n                              eventId,\r\n                              memberId\r\n                            )\r\n                          }}\r\n                        >\r\n                          <i class=\"fas fa-user-minus\"></i>\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )\r\n            })\r\n          ) : (\r\n            <div className=\"col-12\">\r\n              <p className=\"text-center\">目前還沒有人報名喔~</p>\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"col-12 btn-box d-flex mt-4\">\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-outline-warning\"\r\n              onClick={() => {\r\n                //觸發編輯活動資料的事件\r\n                editEventData()\r\n              }}\r\n            >\r\n              送出\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\n// 取得Redux中store的值\r\nconst mapStateToProps = store => {\r\n  return {\r\n    cityData: store.sellerReducer.cityData,\r\n    distData: store.sellerReducer.distData,\r\n    eventTypeData: store.eventReducer.eventTypeData,\r\n    memberActionResponse: store.eventReducer.memberActionResponse,\r\n    memberEventDetailData: store.eventReducer.memberEventDetailData,\r\n  }\r\n}\r\n\r\n// 指示dispatch要綁定哪些action creators\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      getCityDataAsync,\r\n      getDistDataAsync,\r\n      getEventTypeDataAsync,\r\n      getMemberEventDetailDataAsync,\r\n      editEventDataAsync,\r\n      memberUnOtherJoinEventAsync,\r\n    },\r\n    dispatch\r\n  )\r\n}\r\n\r\nexport default withRouter(\r\n  connect(mapStateToProps, mapDispatchToProps)(MemberEditEvent)\r\n)\r\n","import React, { useState } from 'react'\r\nimport { Route, Switch } from 'react-router-dom'\r\n\r\n//引入自訂元件\r\nimport ManageMyEventContent from '../../components/event/MemberEventComponents/ManageMyEventContent'\r\nimport AddEventContent from '../../components/event/MemberEventComponents/AddEventContent'\r\nimport '../../style/HS.scss'\r\nimport MemberEditEvent from './MemberEditEvent'\r\n\r\nfunction MemberEvent() {\r\n  const [nowClickTag, setNowClickTag] = useState(1)\r\n\r\n  const handleNavActive = event => {\r\n    const navButtons = document.querySelectorAll('button.nav-item.nav-link')\r\n    navButtons.forEach(value => {\r\n      value.classList.remove('active')\r\n    })\r\n    event.target.classList.add('active')\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"container hsevent jy-member-event\">\r\n        <div className=\"row\">\r\n          <div className=\"col-lg-12\">\r\n            <Switch>\r\n              <Route path=\"/memberuser/event/edit/:eventId\">\r\n                <MemberEditEvent />\r\n              </Route>\r\n              <Route path=\"/memberuser/event\">\r\n                <nav className=\"nav nav-pills nav-justified nav-pills-memberEvent\">\r\n                  <button\r\n                    className=\"nav-item nav-link active\"\r\n                    onClick={event => {\r\n                      handleNavActive(event)\r\n                      setNowClickTag(1)\r\n                    }}\r\n                  >\r\n                    我發起的揪團\r\n                  </button>\r\n                  <button\r\n                    className=\"nav-item nav-link \"\r\n                    onClick={event => {\r\n                      handleNavActive(event)\r\n                      setNowClickTag(2)\r\n                    }}\r\n                  >\r\n                    我參加的揪團\r\n                  </button>\r\n                  <button\r\n                    className=\"nav-item nav-link \"\r\n                    onClick={event => {\r\n                      handleNavActive(event)\r\n                      setNowClickTag(3)\r\n                    }}\r\n                  >\r\n                    新增揪團\r\n                  </button>\r\n                </nav>\r\n                {(() => {\r\n                  switch (nowClickTag) {\r\n                    case 1:\r\n                    case 2:\r\n                      return <ManageMyEventContent nowClickTag={nowClickTag} />\r\n                    case 3:\r\n                      return <AddEventContent />\r\n                    default:\r\n                  }\r\n                })()}\r\n              </Route>\r\n            </Switch>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default MemberEvent\r\n","import React from 'react'\r\n\r\nfunction UserOrder() {\r\n    return (\r\n        <div>\r\n            <div className=\"order-select\">\r\n                <select className=\"orderselection-hs\" id=\"\">\r\n                    <option selected>選擇排序...</option>\r\n                    <option value=\"1\">依日期排序</option>\r\n                </select>\r\n            </div>\r\n            <br />\r\n\r\n            <div className=\"order-history\">\r\n                <div className=\"card mt-3\">\r\n                    <div className=\"card-header\" style={{ background: \"#c4cad1\" }}>\r\n                        訂單編號：O000111\r\n                        </div>\r\n                    <div className=\"row\">\r\n                        <div className=\"col-sm-8\">\r\n                            <div className=\"card-body\">\r\n                                <h5 className=\"card-title\">XXX 潛水衣</h5>\r\n                                <p className=\"card-text\">數量：1 </p>\r\n                                <p className=\"card-text\">送貨地址：台北市106大安區和平東路二段106號11樓 (科技大樓)</p>\r\n                                <p className=\"card-text\">訂購日期: 2020/04/01 </p>\r\n                                <a href=\"#\" className=\"btn btn-primary\">詳細</a>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col-sm-4\">\r\n                            <img className=\"orderimg-hs\" src=\"./images/member/suit.jpg\" alt=\"\" />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"card mt-3\">\r\n                    <div className=\"card-header\" style={{ background: \"#c4cad1\" }}>\r\n                        訂單編號：O000111\r\n                        </div>\r\n                    <div className=\"row\">\r\n                        <div className=\"col-sm-8\">\r\n                            <div className=\"card-body\">\r\n                                <h5 className=\"card-title\">XXX 潛水衣</h5>\r\n                                <p className=\"card-text\">數量：1 </p>\r\n                                <p className=\"card-text\">送貨地址：台北市106大安區和平東路二段106號11樓 (科技大樓)</p>\r\n                                <p className=\"card-text\">訂購日期: 2020/04/01 </p>\r\n                                <a href=\"#\" className=\"btn btn-primary\">詳細</a>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col-sm-4\">\r\n                            <img className=\"orderimg-hs\" src=\"./images/member/suit.jpg\" alt=\"\" />\r\n                        </div>\r\n                    </div>\r\n                </div><div className=\"card mt-3\">\r\n                    <div className=\"card-header\" style={{ background: \"#c4cad1\" }}>\r\n                        訂單編號：O000111\r\n                        </div>\r\n                    <div className=\"row\">\r\n                        <div className=\"col-sm-8\">\r\n                            <div className=\"card-body\">\r\n                                <h5 className=\"card-title\">XXX 潛水衣</h5>\r\n                                <p className=\"card-text\">數量：1 </p>\r\n                                <p className=\"card-text\">送貨地址：台北市106大安區和平東路二段106號11樓 (科技大樓)</p>\r\n                                <p className=\"card-text\">訂購日期: 2020/04/01 </p>\r\n                                <a href=\"#\" className=\"btn btn-primary\">詳細</a>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col-sm-4\">\r\n                            <img className=\"orderimg-hs\" src=\"./images/member/suit.jpg\" alt=\"\" />\r\n                        </div>\r\n                    </div>\r\n                </div><div className=\"card mt-3\">\r\n                    <div className=\"card-header\" style={{ background: \"#c4cad1\" }}>\r\n                        訂單編號：O000111\r\n                        </div>\r\n                    <div className=\"row\">\r\n                        <div className=\"col-sm-8\">\r\n                            <div className=\"card-body\">\r\n                                <h5 className=\"card-title\">XXX 潛水衣</h5>\r\n                                <p className=\"card-text\">數量：1 </p>\r\n                                <p className=\"card-text\">送貨地址：台北市106大安區和平東路二段106號11樓 (科技大樓)</p>\r\n                                <p className=\"card-text\">訂購日期: 2020/04/01 </p>\r\n                                <a href=\"#\" className=\"btn btn-primary\">詳細</a>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col-sm-4\">\r\n                            <img className=\"orderimg-hs\" src=\"./images/member/suit.jpg\" alt=\"\" />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* <!-- pagination --> */}\r\n            <div className=\"pagination mt-5 mb-5 d-flex justify-content-center\">\r\n                <nav aria-label=\"Page navigation example\">\r\n                    <ul className=\"pagination\">\r\n                        <li className=\"page-item\">\r\n                            <a className=\"page-link\" href=\"#\" aria-label=\"Previous\">\r\n                                <span aria-hidden=\"true\">&laquo;</span>\r\n                            </a>\r\n                        </li>\r\n                        <li className=\"page-item\"><a className=\"page-link\" href=\"#\">1</a></li>\r\n                        <li className=\"page-item\"><a className=\"page-link\" href=\"#\">2</a></li>\r\n                        <li className=\"page-item\"><a className=\"page-link\" href=\"#\">3</a></li>\r\n                        <li className=\"page-item\">\r\n                            <a className=\"page-link\" href=\"#\" aria-label=\"Next\">\r\n                                <span aria-hidden=\"true\">&raquo;</span>\r\n                            </a>\r\n                        </li>\r\n                    </ul>\r\n                </nav>\r\n            </div>\r\n            {/* <!-- end of pagination --> */}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserOrder\r\n","import React from 'react'\r\n\r\nfunction UserBlog() {\r\n    return (\r\n        <div>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserBlog\r\n","import React, { useState, useEffect } from 'react'\r\nimport moment from 'moment-timezone'\r\n\r\n//引入redux元件\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\n\r\n//引入action\r\nimport { memberGetChatListAsync } from '../../actions/event/event_Actions'\r\n\r\nimport io from 'socket.io-client'\r\nimport Sweetalert from '../../components/class/SellerClassComponents/Sweetalert2'\r\n\r\nfunction UserMessage(props) {\r\n  const [ws, setWs] = useState(null)\r\n  const [chatDataList, setChatDataList] = useState({})\r\n  const [memberId, setMemberId] = useState(localStorage.getItem('memberId'))\r\n  const [loginId, setLoginId] = useState(localStorage.getItem('username'))\r\n\r\n  //一進入訊息管理就啟動連線\r\n  useEffect(() => {\r\n    setWs(io('http://localhost:5555'))\r\n    props.memberGetChatListAsync()\r\n    require('../../style/JY-message.css')\r\n  }, [])\r\n\r\n  //連線成功就開始監聽socket事件\r\n  useEffect(() => {\r\n    if (ws) {\r\n      console.log('socket連線---已開啟!')\r\n      //設定監聽\r\n      initWebSocket()\r\n    }\r\n  }, [ws])\r\n\r\n  //離開訊息管理就斷線\r\n  useEffect(() => {\r\n    return () => {\r\n      if (ws) {\r\n        console.log('socket連線---已關閉!')\r\n        ws.disconnect()\r\n      }\r\n    }\r\n  }, [ws])\r\n\r\n  //--------------SOCKER客戶端監聽--------------//\r\n  const initWebSocket = () => {\r\n    ws.on('ServerToClientMsgData', ServerToClientMsgData => {\r\n      setChatDataList(ServerToClientMsgData)\r\n      console.log('客戶端已經收到SOCKET.IO的訊息', ServerToClientMsgData)\r\n      autoScrollButtom()\r\n    })\r\n\r\n    // ws.on('ServerToClientMsgData', ServerToClientMsgData => {\r\n    //   setChatDataList(ServerToClientMsgData)\r\n    // })\r\n\r\n    ws.on('addRoomResponse', ServerToClientMsgData => {\r\n      console.log('客戶端已經收到加入房間的響應訊息')\r\n      setChatDataList(ServerToClientMsgData)\r\n      console.log('客戶端已經將訊息設定到本地state')\r\n      autoScrollButtom()\r\n    })\r\n\r\n    ws.on('ServerToClientWarning', message => {\r\n      Sweetalert.errorAlert('404', message)\r\n      console.log(message)\r\n    })\r\n  }\r\n  //--------------SOCKER客戶端監聽--------------//\r\n\r\n  //--------------SOCKER事件-------------------//\r\n\r\n  //傳送訊息事件(點擊送出按鈕)\r\n  const sendMessage = () => {\r\n    const message = document.querySelector('input.messageInput').value\r\n    const roomId = document.querySelector('ul.eventChatRoomList li.active')\r\n      ? document\r\n          .querySelector('ul.eventChatRoomList li.active')\r\n          .getAttribute('data-roomId')\r\n      : ''\r\n    const sendMessageRequest = {\r\n      roomId,\r\n      message,\r\n      memberId,\r\n      loginId,\r\n    }\r\n    ws.emit('ClientToServerMsg', sendMessageRequest)\r\n    document.querySelector('input.messageInput').value = ''\r\n    console.log('已發送傳送訊息事件按鈕----', sendMessageRequest)\r\n  }\r\n\r\n  //傳送訊息事件(使用Enter)\r\n  const sendMessageUseEnter = event => {\r\n    if (event.key === 'Enter') {\r\n      const message = document.querySelector('input.messageInput').value\r\n      const roomId = document.querySelector('ul.eventChatRoomList li.active')\r\n        ? document\r\n            .querySelector('ul.eventChatRoomList li.active')\r\n            .getAttribute('data-roomId')\r\n        : ''\r\n\r\n      const sendMessageRequest = {\r\n        roomId,\r\n        message,\r\n        memberId,\r\n        loginId,\r\n      }\r\n      ws.emit('ClientToServerMsg', sendMessageRequest)\r\n      document.querySelector('input.messageInput').value = ''\r\n      console.log('已發送傳送訊息事件enter----', sendMessageRequest)\r\n    }\r\n  }\r\n\r\n  //選擇房間事件\r\n  const changeRoom = event => {\r\n    document.querySelector('div.startChat').style.display = 'none'\r\n    document.querySelector(\r\n      'div.chatEeventTitle'\r\n    ).innerHTML = document\r\n      .querySelector('ul.eventChatRoomList li.active')\r\n      .getAttribute('data-eventName')\r\n\r\n    let roomId = event.target.getAttribute('data-roomId')\r\n\r\n    if (roomId !== '') {\r\n      const addRoomRequest = {\r\n        roomId,\r\n        memberId,\r\n      }\r\n      ws.emit('addRoomRequest', addRoomRequest)\r\n      console.log('已發送加入房間事件----', addRoomRequest)\r\n    }\r\n  }\r\n  //--------------SOCKER事件-------------------//\r\n\r\n  //----------------自訂事件--------------------//\r\n\r\n  //點擊聊天列表就加上active效果\r\n  const handleListActive = event => {\r\n    const eventChatRoomList = document.querySelectorAll(\r\n      'ul.eventChatRoomList li'\r\n    )\r\n\r\n    eventChatRoomList.forEach((value, index) => {\r\n      value.classList.remove('active')\r\n    })\r\n    event.target.classList.add('active')\r\n  }\r\n\r\n  //取得聊天室列表\r\n  const handleChangeChatList = value => {\r\n    props.memberGetChatListAsync(value)\r\n  }\r\n\r\n  //自動滾動到聊天區域最底下，讓最新訊息顯示出來\r\n  const autoScrollButtom = () => {\r\n    const msgArea = document.querySelector('div.msgArea')\r\n    const shouldScroll =\r\n      msgArea.scrollTop + msgArea.clientHeight === msgArea.scrollHeight\r\n\r\n    if (!shouldScroll) {\r\n      msgArea.scrollTop = msgArea.scrollHeight\r\n    }\r\n  }\r\n  //----------------自訂事件--------------------//\r\n\r\n  return (\r\n    <div className=\"row messageContent\">\r\n      <div className=\"col-3 pl-0 chatRoomList\">\r\n        <div className=\"sticky-top\">\r\n          <div className=\"chatListTitle\">\r\n            <p>聊天室列表</p>\r\n          </div>\r\n          <div className=\"px-3 chatRoomSelect\">\r\n            <select\r\n              className=\"form-control\"\r\n              onChange={event => {\r\n                const value = event.target.value\r\n                handleChangeChatList(value)\r\n              }}\r\n            >\r\n              <option value=\"\">全部列表</option>\r\n              <option value=\"1\">我發起的揪團</option>\r\n              <option value=\"2\">我報名的揪團</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n        <ul className=\"eventChatRoomList\">\r\n          {props.memberChatListData\r\n            ? props.memberChatListData.map((value, index) => {\r\n                return (\r\n                  <>\r\n                    <li\r\n                      data-roomId={value.eventId}\r\n                      data-eventName={value.eventName}\r\n                      onClick={event => {\r\n                        handleListActive(event)\r\n                        changeRoom(event)\r\n                      }}\r\n                    >\r\n                      {value.eventId}\r\n                      <p data-roomId={value.eventId}>{value.eventName}</p>\r\n                    </li>\r\n                  </>\r\n                )\r\n              })\r\n            : ''}\r\n        </ul>\r\n      </div>\r\n      <div className=\"col-9 viewArea\">\r\n        <div className=\"chatEeventTitle\">請選擇一個聊天室</div>\r\n        <div className=\"msgArea\">\r\n          {chatDataList.chatData\r\n            ? chatDataList.chatData.map((value, index) => {\r\n                if (value.memberId === memberId) {\r\n                  return (\r\n                    <>\r\n                      <div class=\"msgBox d-flex justify-content-end align-items-center\">\r\n                        <span className=\"msgTime\">\r\n                          {moment(value.created_at).format('HH:mm')}\r\n                        </span>\r\n                        <div className=\"mymessage\">\r\n                          <p class=\"msgFromMySelf m-0\">{value.message}</p>\r\n                        </div>\r\n                        <figure class=\"memberAvatar m-0\">\r\n                          <img\r\n                            src=\"http://127.0.0.1:5000/images/memberImg/DefaultImage.jpg\"\r\n                            alt=\"\"\r\n                          />\r\n                        </figure>\r\n                      </div>\r\n                    </>\r\n                  )\r\n                } else {\r\n                  return (\r\n                    <>\r\n                      <div class=\"msgBox d-flex align-items-center\">\r\n                        <figure class=\"memberAvatar m-0\">\r\n                          <img\r\n                            src=\"http://127.0.0.1:5000/images/memberImg/DefaultImage.jpg\"\r\n                            alt=\"\"\r\n                          />\r\n                        </figure>\r\n                        <div>\r\n                          <p className=\"otherName\">{value.loginId}</p>\r\n                          <div className=\"othermessage\">\r\n                            <p class=\"msgFromMySelf m-0\">{value.message}</p>\r\n                          </div>\r\n                        </div>\r\n                        <span className=\"msgTime\">\r\n                          {moment(value.created_at).format('HH:mm')}\r\n                        </span>\r\n                      </div>\r\n                    </>\r\n                  )\r\n                }\r\n              })\r\n            : ''}\r\n          <div className=\"startChat\">\r\n            {/* <img\r\n              className=\"startChatImg\"\r\n              src=\"../images/logo/aquaLogoBig.png\"\r\n              alt=\"\"\r\n            /> */}\r\n            <p className=\"startChatMsg\">選擇一個聊天室，開始聊天吧!</p>\r\n          </div>\r\n        </div>\r\n        <div class=\"d-flex inputArea\">\r\n          <div className=\"col-md-9\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control messageInput\"\r\n              placeholder=\"說點什麼....\"\r\n              onKeyPress={event => {\r\n                sendMessageUseEnter(event)\r\n              }}\r\n            />\r\n          </div>\r\n          <div className=\"col-md-3\">\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn btn-primary\"\r\n              onClick={() => {\r\n                document.querySelector('input.messageInput').innerHTML = ''\r\n                sendMessage()\r\n              }}\r\n            >\r\n              送出\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\n// 取得Redux中store的值\r\nconst mapStateToProps = store => {\r\n  return {\r\n    memberChatListData: store.eventReducer.memberChatListData,\r\n  }\r\n}\r\n\r\n// 指示dispatch要綁定哪些action creators\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators({ memberGetChatListAsync }, dispatch)\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UserMessage)\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Link, withRouter } from 'react-router-dom'\r\nimport SweetAlert from '../../components/class/SellerClassComponents/Sweetalert2' //自訂提示窗\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport { getUserCouponDetaiAsync } from '../../actions/member/memberActions'\r\nimport Loading from '../../../src/components/seller_back/components/Loading'\r\n\r\nfunction MemberCoupon(props) {\r\n  const [state, setState] = useState({})\r\n  useEffect(() => {\r\n    props.getUserCouponDetaiAsync()\r\n  }, [])\r\n  console.log(props['userCouponData'])\r\n  const couponData = props['userCouponData'] ? (\r\n    Object.keys(props['userCouponData']).map(key => {\r\n      if (key === 'CouponResultData') {\r\n        const coupon_info = props['userCouponData'][key]\r\n        return coupon_info.map((value, index) => {\r\n          return (\r\n            <div className=\"card mt-3\">\r\n              <div className=\"card-header py-1 d-flex justify-content-between align-items-center\">\r\n                <p>\r\n                  優惠編號：\r\n                  {value.order_coup_code ? (\r\n                    value.order_coup_code\r\n                  ) : (\r\n                    <h2 hidden>其他種類的優惠編號 </h2>\r\n                  )}\r\n                  {value.givi_coup_code ? (\r\n                    value.givi_coup_code\r\n                  ) : (\r\n                    <h2 hidden>其他種類的優惠編號 </h2>\r\n                  )}\r\n                  {value.goods_coup_code ? (\r\n                    value.goods_coup_code\r\n                  ) : (\r\n                    <h2 hidden>其他種類的優惠編號 </h2>\r\n                  )}\r\n                </p>\r\n              </div>\r\n              <div className=\"row\">\r\n                <div className=\"col-sm-6\">\r\n                  <div className=\"card-body\">\r\n                    <h5 className=\"card-title\">\r\n                      優惠名稱:\r\n                      {value.order_coup_name ? (\r\n                        value.order_coup_name\r\n                      ) : (\r\n                        <h2 hidden>\"其他種類優惠券名稱\"</h2>\r\n                      )}\r\n                      {value.goods_coup_name ? (\r\n                        value.goods_coup_name\r\n                      ) : (\r\n                        <h2 hidden>\"其他種類優惠券名稱\"</h2>\r\n                      )}\r\n                      {value.givi_coup_name ? (\r\n                        value.givi_coup_name\r\n                      ) : (\r\n                        <h2 hidden>\"其他種類優惠券名稱\"</h2>\r\n                      )}\r\n                    </h5>\r\n                    <p className=\"card-text\">\r\n                      類型：\r\n                      {value.goods_cate_id == 'coup002' ? (\r\n                        '商品優惠券'\r\n                      ) : (\r\n                        <h2 hidden>\"其他種類優惠券\"</h2>\r\n                      )}\r\n                      {value.order_cate_id == 'coup001' ? (\r\n                        '全單滿額類型優惠券'\r\n                      ) : (\r\n                        <h2 hidden>\"其他種類優惠券\"</h2>\r\n                      )}\r\n                      {value.givi_cate_id == 'coup003' ? (\r\n                        '贈品類型優惠券'\r\n                      ) : (\r\n                        <h2 hidden>\"其他種類優惠券\"</h2>\r\n                      )}\r\n                    </p>\r\n                    <p className=\"card-text\">\r\n                      折扣碼：\r\n                      {value.goods_coup_code ? (\r\n                        value.goods_coup_code\r\n                      ) : (\r\n                        <h2 hidden>\"其他種類coup_code\"</h2>\r\n                      )}\r\n                      {value.order_coup_code ? (\r\n                        value.order_coup_code\r\n                      ) : (\r\n                        <h2 hidden>\"其他種類coup_code\"</h2>\r\n                      )}\r\n                      {value.givi_coup_code ? (\r\n                        value.givi_coup_code\r\n                      ) : (\r\n                        <h2 hidden>\"其他種類coup_code\"</h2>\r\n                      )}\r\n                    </p>\r\n\r\n                    <p className=\"card-text\">\r\n                      起始日期：\r\n                      {value.givi_coup_start ? (\r\n                        value.givi_coup_start\r\n                      ) : (\r\n                        <h2 hidden>\"其他種類coup_start\"</h2>\r\n                      )}\r\n                      {value.order_coup_start ? (\r\n                        value.order_coup_start\r\n                      ) : (\r\n                        <h2 hidden>\"其他種類coup_start\"</h2>\r\n                      )}\r\n                      {value.goods_coup_start ? (\r\n                        value.goods_coup_start\r\n                      ) : (\r\n                        <h2 hidden>\"其他種類coup_start\"</h2>\r\n                      )}\r\n                    </p>\r\n                    <p className=\"card-text\">\r\n                      結束日期：{value.coup_end}\r\n                      {value.givi_coup_end ? (\r\n                        value.givi_coup_end\r\n                      ) : (\r\n                        <h2 hidden>\"其他種類coup_end\"</h2>\r\n                      )}\r\n                      {value.order_coup_end ? (\r\n                        value.order_coup_end\r\n                      ) : (\r\n                        <h2 hidden>\"其他種類coup_end\"</h2>\r\n                      )}\r\n                      {value.goods_coup_end ? (\r\n                        value.goods_coup_end\r\n                      ) : (\r\n                        <h2 hidden>\"其他種類coup_end\"</h2>\r\n                      )}\r\n                    </p>\r\n                    {/* <Link\r\n                                    className=\"btn btn-primary\"\r\n                                    to={'class/' + value.classId}\r\n                                  >\r\n                                    詳細\r\n                                  </Link> */}\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-sm-6\">\r\n                  {<img\r\n                    height=\"250\"\r\n                    width=\"300\"\r\n                    src={\r\n                      'http://localhost:5000/images/coup/' +\r\n                      value.order_coup_img\r\n                    }\r\n                    alt=\"\"\r\n                  /> ? (\r\n                    <img\r\n                      height=\"250\"\r\n                      width=\"300\"\r\n                      src={\r\n                        'http://localhost:5000/images/coup/' +\r\n                        value.order_coup_img\r\n                      }\r\n                      alt=\"\"\r\n                    />\r\n                  ) : (\r\n                    <img hidden />\r\n                  )}\r\n                  {<img\r\n                    height=\"250\"\r\n                    width=\"300\"\r\n                    src={\r\n                      'http://localhost:5000/images/coup/' +\r\n                      value.goods_coup_img\r\n                    }\r\n                    alt=\"\"\r\n                  /> ? (\r\n                    <img\r\n                      height=\"250\"\r\n                      width=\"300\"\r\n                      src={\r\n                        'http://localhost:5000/images/coup/' +\r\n                        value.goods_coup_img\r\n                      }\r\n                      alt=\"\"\r\n                    />\r\n                  ) : (\r\n                    <img hidden />\r\n                  )}\r\n                  {<img\r\n                    height=\"250\"\r\n                    width=\"300\"\r\n                    src={\r\n                      'http://localhost:5000/images/coup/' + value.givi_coup_img\r\n                    }\r\n                    alt=\"\"\r\n                  /> ? (\r\n                    <img\r\n                      height=\"250\"\r\n                      width=\"300\"\r\n                      src={\r\n                        'http://localhost:5000/images/coup/' +\r\n                        value.givi_coup_img\r\n                      }\r\n                      alt=\"\"\r\n                    />\r\n                  ) : (\r\n                    <img hidden />\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )\r\n        })\r\n      }\r\n    })\r\n  ) : (\r\n    <Loading />\r\n  )\r\n  return <>{couponData}</>\r\n}\r\nconst mapStateToProps = store => {\r\n  return { userCouponData: store.memberReducer.userCouponData }\r\n}\r\n\r\n// 指示dispatch要綁定哪些action creators\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators({ getUserCouponDetaiAsync }, dispatch)\r\n}\r\n\r\nexport default withRouter(\r\n  connect(mapStateToProps, mapDispatchToProps)(MemberCoupon)\r\n)\r\n","import React, { useState } from 'react'\r\nimport { Route, Switch } from 'react-router-dom'\r\nimport { withRouter } from 'react-router'\r\nimport { connect } from 'react-redux'\r\n// import { userLoginAsync } from '../../actions/member/memberActions'\r\nimport '../../style/HS.scss'\r\n\r\n// functional component\r\nimport Header from '../../components/Header'\r\nimport Banner from '../../components/Banner'\r\nimport Footer from '../../components/Footer'\r\nimport Sidebar from '../../components/member/Sidebar'\r\nimport UserContent from '../mContent/UserContent'\r\nimport UserClass from '../../pages/class/MemberClass'\r\nimport UserEvent from '../../pages/event/MemberEvent'\r\nimport UserOrder from '../mContent/UserOrder'\r\nimport UserBlog from '../mContent/UserBlog'\r\nimport UserMessage from '../mContent/UserMessage'\r\nimport MemberCoupon from '../mContent/MemberCoupon'\r\nimport image from '../../image/memberImage/coralreef.jpg'\r\n\r\nfunction MemberUser() {\r\n  return (\r\n    <>\r\n      <Header />\r\n      <Banner BannerImgSrc={image} />\r\n      {/* <!-- Page Content --> */}\r\n      <div className=\"container hsuser\">\r\n        <div className=\"row\">\r\n          <div className=\"col-lg-3\">\r\n            <Sidebar />\r\n          </div>\r\n          <div className=\"col-lg-9\">\r\n            <Switch>\r\n              <Route path=\"/memberuser/user\">\r\n                <UserContent />\r\n              </Route>\r\n              <Route path=\"/memberuser/order\">\r\n                <UserOrder />\r\n              </Route>\r\n              <Route path=\"/memberuser/class\">\r\n                <UserClass />\r\n              </Route>\r\n              <Route path=\"/memberuser/event\">\r\n                <UserEvent />\r\n              </Route>\r\n              <Route path=\"/memberuser/blog\">\r\n                <UserBlog />\r\n              </Route>\r\n              <Route path=\"/memberuser/message\">\r\n                <UserMessage />\r\n              </Route>\r\n              <Route path=\"/memberuser/coupon\">\r\n                <MemberCoupon />\r\n              </Route>\r\n            </Switch>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <Footer />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default withRouter(MemberUser)\r\n","import React, { useEffect, useState } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport { userLoginAsync } from '../../actions/member/memberActions'\r\nimport { withRouter, Link } from 'react-router-dom'\r\nimport Swal from 'sweetalert2'\r\nimport Header from '../../components/Header'\r\n// import Background from '../members/Background'\r\nimport '../../style/HS.scss'\r\n\r\nfunction Membersellerlogin(props) {\r\n  // //set background img\r\n  // useEffect(() => {\r\n  //     require('../../style/bg.css')\r\n  // }, []);\r\n\r\n  const [username, setUsername] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  const [error, setError] = useState(false)\r\n  const [errorMessages, setErrorMessages] = useState([])\r\n\r\n  const handleSubmit = () => {\r\n    let error = false\r\n    let errorMessages = []\r\n\r\n    if (!username) {\r\n      error = true\r\n      errorMessages.push('帳號沒填')\r\n    }\r\n\r\n    if (!password) {\r\n      error = true\r\n      errorMessages.push('密碼沒填')\r\n    }\r\n\r\n    if (error) {\r\n      setError(error)\r\n      setErrorMessages(errorMessages)\r\n      return\r\n    }\r\n\r\n    const userData = { username, password }\r\n    props.userLoginAsync(userData, () => alert('成功登入'))\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"entirepagetwo-hs\">\r\n        <Header />\r\n        {/* <Background /> */}\r\n\r\n        {/* <!-- sign-in content --> */}\r\n        <div className=\"container hslogin\">\r\n          <div className=\" signincard-hs row d-flex align-items-center\">\r\n            <div className=\"card col-md-6 mx-auto\">\r\n              {/* <!-- Default form login --> */}\r\n              <form className=\"text-center p-4\" action=\"#!\">\r\n                <p className=\"h4 mb-4\">企業會員登入</p>\r\n                {/* <!-- Username --> */}\r\n                <input\r\n                  onChange={e => setUsername(e.target.value)}\r\n                  type=\"text\"\r\n                  id=\"\"\r\n                  className=\"form-control mb-4\"\r\n                  placeholder=\"Username\"\r\n                  value=\"jyisgod\"\r\n                />\r\n\r\n                {/* <!-- Password --> */}\r\n                <input\r\n                  onChange={e => setPassword(e.target.value)}\r\n                  type=\"password\"\r\n                  id=\"\"\r\n                  className=\"form-control mb-4\"\r\n                  placeholder=\"Password\"\r\n                  value=\"123456\"\r\n                />\r\n\r\n                {/* <!-- Remember me --> */}\r\n                <div className=\"d-flex justify-content-around\">\r\n                  <div>\r\n                    <div className=\"custom-control custom-checkbox\">\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        className=\"custom-control-input\"\r\n                        id=\"defaultLoginFormRemember\"\r\n                        checked\r\n                      />\r\n                      <label className=\"custom-control-label\">記住我</label>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* <!-- Forgot password --> */}\r\n                  <div>\r\n                    <a href=\"\">忘記密碼?</a>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* <!-- Sign in button --> */}\r\n                {/* <Link to=\"memberhomepage\"> */}\r\n                <Link\r\n                  to=\"/seller\"\r\n                  className=\"loginbutton btn btn-info btn-block my-4\"\r\n                  role=\"button\"\r\n                >\r\n                  登入\r\n                </Link>\r\n                {/* </Link> */}\r\n\r\n                {/* <!-- Register --> */}\r\n                <p>\r\n                  還不是會員？\r\n                  <Link to=\"/memberregister\">註冊</Link>\r\n                </p>\r\n\r\n                {/* <!-- Social login --> */}\r\n                <p>其他登入方式：</p>\r\n\r\n                <a href=\"#\" className=\"mx-2 otherlogin\" role=\"button\">\r\n                  <i className=\"otherlogin fab fa-facebook-f light-blue-text\"></i>\r\n                </a>\r\n                <a href=\"#\" className=\"mx-2 otherlogin\" role=\"button\">\r\n                  <i className=\"otherlogin fab fa-twitter light-blue-text\"></i>\r\n                </a>\r\n                <a href=\"#\" className=\"mx-2 otherlogin\" role=\"button\">\r\n                  <i className=\"otherlogin fab fa-linkedin-in light-blue-text\"></i>\r\n                </a>\r\n                <a href=\"#\" className=\"mx-2 otherlogin\" role=\"button\">\r\n                  <i className=\"otherlogin fab fa-github light-blue-text\"></i>\r\n                </a>\r\n                <a href=\"#\" className=\"mx-2 otherlogin\" role=\"button\">\r\n                  <i className=\"otherlogin fab fa-google light-blue-text\"></i>\r\n                </a>\r\n\r\n                {/* Seller Login */}\r\n                <p className=\"sellerlogin\">\r\n                  一般會員登入？\r\n                  <Link to=\"/memberlogin\">登入</Link>\r\n                </p>\r\n              </form>\r\n              {/* <!-- Default form login --> */}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\n// 取得Redux中isAuth的值\r\nconst mapStateToProps = store => {\r\n  return { isAuth: store.memberReducer.user.isAuth }\r\n}\r\n\r\n// 指示dispatch要綁定哪些action creators\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators({ userLoginAsync }, dispatch)\r\n}\r\n\r\nexport default withRouter(\r\n  connect(mapStateToProps, mapDispatchToProps)(Membersellerlogin)\r\n)\r\n","import ScrollReveal from 'scrollreveal'\r\nexport default ScrollReveal()\r\n","import React, { useEffect } from 'react'\r\n// import ReactDOM from 'react-dom'\r\nimport 'react-responsive-carousel/lib/styles/carousel.min.css'\r\nimport { Carousel } from 'react-responsive-carousel'\r\nimport * as Scroll from 'react-scroll'\r\n// import { Link } from 'react-router-dom'\r\n\r\nimport sr from './ScrollReveal'\r\nimport AOS from 'aos'\r\nimport 'aos/dist/aos.css'\r\n\r\nimport Header from '../components/Header'\r\nimport Footer from '../components/Footer'\r\n\r\nlet Link = Scroll.Link\r\nlet Element = Scroll.Element\r\n\r\nfunction Home() {\r\n  useEffect(() => {\r\n    // if (localStorage.getItem('cart')) {\r\n    //   const cart = JSON.parse(localStorage.getItem('cart'))\r\n    //   this.props.data.cart = cart\r\n    //   this.setState({ cart })\r\n    // } else {\r\n    //   localStorage.setItem('cart', JSON.stringify(this.props.data.cart))\r\n    // }\r\n\r\n    sr.reveal('.fst', { delay: 500 })\r\n    AOS.init({\r\n      // initialise with other settings\r\n      duration: 2000,\r\n    })\r\n  })\r\n  return (\r\n    <>\r\n      <Header />\r\n      <div className=\"CW index\" id=\"fullpage\">\r\n        <section className=\"index-video overflow-hidden\">\r\n          <div className=\"index-video-bg\">\r\n            <video\r\n              src=\"http://127.0.0.1:5000/video/indexvideo.mp4\"\r\n              loop\r\n              autoPlay\r\n              muted\r\n            ></video>\r\n          </div>\r\n          <div className=\"index-video-title\"></div>\r\n          <Link\r\n            activeClass=\"active\"\r\n            className=\"index-video-arrow\"\r\n            to=\"test1\"\r\n            spy={true}\r\n            smooth={true}\r\n            duration={1000}\r\n          >\r\n            <p>SCROLL</p>\r\n            <span className=\"material-icons\">keyboard_arrow_down</span>\r\n          </Link>\r\n        </section>\r\n        <section id=\"location\" className=\"index-location\">\r\n          <Element name=\"test1\" className=\"element\">\r\n            <div className=\"container\">\r\n              <h1\r\n                data-aos=\"fade-up\"\r\n                data-aos-duration=\"2000\"\r\n                data-aos-delay=\"500\"\r\n                className=\"display-2 font-italic\"\r\n              >\r\n                精選潛點\r\n              </h1>\r\n              <Carousel\r\n                showArrows={false}\r\n                showStatus={false}\r\n                autoPlay={true}\r\n                showThumbs={false}\r\n                infiniteLoop={true}\r\n                interval={3000}\r\n                emulateTouch={true}\r\n                showIndicators={false}\r\n              >\r\n                <div>\r\n                  <img\r\n                    data-aos=\"fade-up\"\r\n                    data-aos-duration=\"2000\"\r\n                    // data-aos-delay=\"500\"\r\n                    src=\"http://127.0.0.1:5000/images/homeImg/L0001.png\"\r\n                    alt=\"\"\r\n                  />\r\n                  <h1\r\n                    data-aos=\"fade-up\"\r\n                    data-aos-duration=\"2000\"\r\n                    data-aos-delay=\"500\"\r\n                    className=\"loca-name\"\r\n                  >\r\n                    東北角.龍洞\r\n                  </h1>\r\n                  <div className=\"legend\">\r\n                    <img\r\n                      src=\"http://127.0.0.1:5000/images/locationImg/W0001.png\"\r\n                      alt=\"\"\r\n                    />\r\n                  </div>\r\n                  <div className=\"loca-weather\"></div>\r\n                </div>\r\n                <div>\r\n                  <img\r\n                    data-aos=\"fade-up\"\r\n                    data-aos-duration=\"2000\"\r\n                    // data-aos-delay=\"500\"\r\n                    src=\"http://127.0.0.1:5000/images/homeImg/L0002.png\"\r\n                    alt=\"\"\r\n                  />\r\n                  <h1\r\n                    data-aos=\"fade-up\"\r\n                    data-aos-duration=\"2000\"\r\n                    data-aos-delay=\"500\"\r\n                    className=\"loca-name\"\r\n                  >\r\n                    宜蘭.豆腐岬\r\n                  </h1>\r\n                  <p className=\"legend\">\r\n                    <img\r\n                      src=\"http://127.0.0.1:5000/images/locationImg/W0002.png\"\r\n                      alt=\"\"\r\n                    />\r\n                  </p>\r\n                </div>\r\n                <div>\r\n                  <img\r\n                    data-aos=\"fade-up\"\r\n                    data-aos-duration=\"2000\"\r\n                    // data-aos-delay=\"500\"\r\n                    src=\"http://127.0.0.1:5000/images/homeImg/L0003.png\"\r\n                    alt=\"\"\r\n                  />\r\n                  <h1\r\n                    data-aos=\"fade-up\"\r\n                    data-aos-duration=\"2000\"\r\n                    data-aos-delay=\"500\"\r\n                    className=\"loca-name\"\r\n                  >\r\n                    綠島.石朗\r\n                  </h1>\r\n                  <p className=\"legend\">\r\n                    <img\r\n                      src=\"http://127.0.0.1:5000/images/locationImg/W0003.png\"\r\n                      alt=\"\"\r\n                    />\r\n                  </p>\r\n                </div>\r\n                <div>\r\n                  <img\r\n                    data-aos=\"fade-up\"\r\n                    data-aos-duration=\"2000\"\r\n                    // data-aos-delay=\"500\"\r\n                    src=\"http://127.0.0.1:5000/images/homeImg/L0004.png\"\r\n                    alt=\"\"\r\n                  />\r\n                  <h1\r\n                    data-aos=\"fade-up\"\r\n                    data-aos-duration=\"2000\"\r\n                    data-aos-delay=\"500\"\r\n                    className=\"loca-name\"\r\n                  >\r\n                    小琉球.花瓶岩\r\n                  </h1>\r\n                  <p className=\"legend\">\r\n                    <img\r\n                      src=\"http://127.0.0.1:5000/images/locationImg/W0004.png\"\r\n                      alt=\"\"\r\n                    />\r\n                  </p>\r\n                </div>\r\n                <div>\r\n                  <img\r\n                    data-aos=\"fade-up\"\r\n                    data-aos-duration=\"3000\"\r\n                    data-aos-delay=\"500\"\r\n                    src=\"http://127.0.0.1:5000/images/homeImg/L0005.png\"\r\n                    alt=\"\"\r\n                  />\r\n                  <h1\r\n                    data-aos=\"fade-up\"\r\n                    data-aos-duration=\"2000\"\r\n                    data-aos-delay=\"500\"\r\n                    className=\"loca-name\"\r\n                  >\r\n                    墾丁.萬里桐\r\n                  </h1>\r\n                  <p className=\"legend\">\r\n                    <img\r\n                      src=\"http://127.0.0.1:5000/images/locationImg/W0005.png\"\r\n                      alt=\"\"\r\n                    />\r\n                  </p>\r\n                </div>\r\n              </Carousel>\r\n              <Link className=\"index-btn btn btn-lg\" to=\"/location\">\r\n                更多潛點\r\n              </Link>\r\n            </div>\r\n          </Element>\r\n        </section>\r\n        <section className=\"index-event\">\r\n          <div className=\"container\">\r\n            <h1\r\n              data-aos=\"fade-up\"\r\n              data-aos-duration=\"2000\"\r\n              data-aos-delay=\"500\"\r\n              className=\"display-2 font-italic\"\r\n              className=\"display-2 font-italic fst\"\r\n            >\r\n              熱門揪團\r\n            </h1>\r\n            <div className=\"event-wrapper\">\r\n              <div className=\"row \">\r\n                <div className=\"col-6 big-box big-box-l\" data-aos=\"fade-up\">\r\n                  <img\r\n                    className=\"card-img-top\"\r\n                    src=\"http://127.0.0.1:5000/images/homeImg/E0001.jpg\"\r\n                    alt=\"\"\r\n                  />\r\n                </div>\r\n                <div className=\"col-6 big-box big-box-r\" data-aos=\"fade-up\">\r\n                  <div className=\"row\">\r\n                    <div className=\"col-6 box-t box-l\" data-aos=\"fade-up\">\r\n                      <img\r\n                        className=\"card-img-top\"\r\n                        src=\"http://127.0.0.1:5000/images/homeImg/E0001.jpg\"\r\n                        alt=\"\"\r\n                      />\r\n                    </div>\r\n                    <div className=\"col-6 box-t box-r\" data-aos=\"fade-up\">\r\n                      {/* <img\r\n                        className=\"card-img-top\"\r\n                        src=\"http://127.0.0.1:5000/images/homeImg/E0002.jpg\"\r\n                        alt=\"\"\r\n                      /> */}\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"row\">\r\n                    <div className=\"col-6 box-b box-l\" data-aos=\"fade-up\">\r\n                      <img\r\n                        className=\"card-img-top\"\r\n                        src=\"http://127.0.0.1:5000/images/homeImg/E0002.jpg\"\r\n                        alt=\"\"\r\n                      />\r\n                    </div>\r\n                    <div className=\"col-6 box-b box-r\" data-aos=\"fade-up\">\r\n                      <img\r\n                        className=\"card-img-top\"\r\n                        src=\"http://127.0.0.1:5000/images/homeImg/E0003.jpg\"\r\n                        alt=\"\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"row\">\r\n                <div className=\"col-3 box-b box-l\" data-aos=\"fade-up\">\r\n                  <img\r\n                    className=\"card-img-top\"\r\n                    src=\"http://127.0.0.1:5000/images/homeImg/E0004.jpg\"\r\n                    alt=\"\"\r\n                  />\r\n                </div>\r\n                <div className=\"col-3 box-b box-l box-r\" data-aos=\"fade-up\">\r\n                  <img\r\n                    className=\"card-img-top\"\r\n                    src=\"http://127.0.0.1:5000/images/homeImg/E0005.jpg\"\r\n                    alt=\"\"\r\n                  />\r\n                </div>\r\n                <div className=\"col-3 box-b box-l box-r\" data-aos=\"fade-up\">\r\n                  <img\r\n                    className=\"card-img-top\"\r\n                    src=\"http://127.0.0.1:5000/images/homeImg/E0006.jpg\"\r\n                    alt=\"\"\r\n                  />\r\n                </div>\r\n                <div className=\"col-3 box-b box-r\" data-aos=\"fade-up\">\r\n                  <img\r\n                    className=\"card-img-top\"\r\n                    src=\"http://127.0.0.1:5000/images/homeImg/E0007.jpg\"\r\n                    alt=\"\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n        <section className=\"index-class\">\r\n          <div className=\"container\">\r\n            <h1\r\n              data-aos=\"fade-up\"\r\n              data-aos-duration=\"2000\"\r\n              data-aos-delay=\"500\"\r\n              className=\"display-2 font-italic\"\r\n            >\r\n              課程平台\r\n            </h1>\r\n            <div className=\"row class-wrapper d-flex justify-content-between\">\r\n              <div\r\n                data-aos=\"zoom-in\"\r\n                data-aos-duration=\"3000\"\r\n                data-aos-delay=\"500\"\r\n                className=\"card col\"\r\n              >\r\n                <img\r\n                  className=\"card-img-top\"\r\n                  src=\"http://127.0.0.1:5000/images/homeImg/C0001.png\"\r\n                  alt=\"\"\r\n                />\r\n                <div className=\"card-body\">\r\n                  <span class=\"material-icons\">arrow_drop_up</span>\r\n                  <p className=\"card-text\">查看課程</p>\r\n                </div>\r\n              </div>\r\n              <div\r\n                data-aos=\"zoom-in\"\r\n                data-aos-duration=\"3000\"\r\n                data-aos-delay=\"1000\"\r\n                className=\"card col\"\r\n              >\r\n                <img\r\n                  className=\"card-img-top\"\r\n                  src=\"http://127.0.0.1:5000/images/homeImg/C0002.png\"\r\n                  alt=\"\"\r\n                />\r\n                <div className=\"card-body\">\r\n                  <span class=\"material-icons\">arrow_drop_up</span>\r\n                  <p className=\"card-text\">查看課程</p>\r\n                </div>\r\n              </div>\r\n              <div\r\n                data-aos=\"zoom-in\"\r\n                data-aos-duration=\"3000\"\r\n                data-aos-delay=\"1500\"\r\n                className=\"card col\"\r\n              >\r\n                <img\r\n                  className=\"card-img-top\"\r\n                  src=\"http://127.0.0.1:5000/images/homeImg/C0003.png\"\r\n                  alt=\"\"\r\n                />\r\n                <div className=\"card-body\">\r\n                  <span class=\"material-icons\">arrow_drop_up</span>\r\n                  <p className=\"card-text\">查看課程</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"\"></div>\r\n          </div>\r\n        </section>\r\n        <section className=\"index-footer\">\r\n          <div className=\"container\">{/* <h1>回饋</h1> */}</div>\r\n          <Footer />\r\n        </section>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Home\r\n","import React, { useState, useEffect } from 'react'\r\nimport io from 'socket.io-client'\r\n\r\nfunction Chat() {\r\n  const [ws, setWs] = useState(null)\r\n\r\n  const connectWebSocket = () => {\r\n    //開啟\r\n    setWs(io('http://localhost:5555'))\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (ws) {\r\n      //連線成功在 console 中打印訊息\r\n      console.log('success connect!')\r\n      //設定監聽\r\n      initWebSocket()\r\n    }\r\n  }, [ws])\r\n\r\n  const initWebSocket = () => {\r\n    //對 getMessage 設定監聽，如果 server 有透過 getMessage 傳送訊息，將會在此被捕捉\r\n    ws.on('getMessage', message => {\r\n      console.log(message)\r\n    })\r\n    ws.on('getMessageAll', message => {\r\n      console.log(message)\r\n    })\r\n    //增加監聽\r\n    ws.on('addRoom', message => {\r\n      console.log(message)\r\n    })\r\n  }\r\n\r\n  const sendMessage = () => {\r\n    //以 emit 送訊息，並以 getMessage 為名稱送給 server 捕捉\r\n    ws.emit('getMessage', '只回傳給發送訊息的 client')\r\n  }\r\n\r\n  const sendMessageAll = () => {\r\n    ws.emit('getMessageAll', '傳給所有人')\r\n  }\r\n\r\n  //選擇聊天室時觸發，如果有選擇那就將房間 id 送給 Server\r\n  const changeRoom = event => {\r\n    let room = event.target.value\r\n    if (room !== '') {\r\n      ws.emit('addRoom', room)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <select onChange={changeRoom}>\r\n        <option value=\"\">請選擇房間</option>\r\n        <option value=\"room1\">房間一</option>\r\n        <option value=\"room2\">房間二</option>\r\n      </select>\r\n      <button\r\n        type=\"button\"\r\n        class=\"btn btn-primary\"\r\n        onClick={() => {\r\n          connectWebSocket()\r\n        }}\r\n      >\r\n        連線\r\n      </button>\r\n      <button\r\n        type=\"button\"\r\n        class=\"btn btn-primary\"\r\n        onClick={() => {\r\n          sendMessage()\r\n        }}\r\n      >\r\n        送出訊息\r\n      </button>\r\n      <button\r\n        type=\"button\"\r\n        class=\"btn btn-primary\"\r\n        onClick={() => {\r\n          sendMessageAll()\r\n        }}\r\n      >\r\n        送出給所有人\r\n      </button>\r\n      <button type=\"button\" class=\"btn btn-primary\">\r\n        斷線\r\n      </button>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Chat\r\n","import React from 'react'\r\nimport Cookie from 'js-cookie'\r\n\r\nimport { BrowserRouter as Router, Route, Link, Switch } from 'react-router-dom'\r\n\r\nimport ProtectedRoute from './utils/ProtectedRoute'\r\n\r\nimport Divelocation from './pages/divelocation/Divelocation'\r\n//賣家後台page\r\nimport SellerBack from '../src/components/seller_back/SellerBack'\r\n\r\n//課程相關page\r\nimport ClassList from './pages/class/ClassList'\r\nimport ClassDetailPage from './pages/class/classDetailPage'\r\n\r\n//活動相關page\r\nimport EventList from './pages/event/EventList'\r\nimport EventMapList from './pages/event/EventMapList'\r\nimport EventDetail from './pages/event/EventDetail'\r\n\r\n//商品相關\r\nimport Items from './pages/item/itemList'\r\nimport ItemDetail from './pages/item/itemDetail'\r\nimport ShoppingCart from './pages/order/shoppingCart'\r\nimport CheckOut from './pages/order/checkOut'\r\nimport OrderCreated from './pages/order/orderCreated'\r\n\r\n//文章相關\r\nimport Blog from './pages/blog/Blog'\r\nimport BlogContent from './pages/blog/BlogContent'\r\nimport BlogAdd from './pages/blog/BlogAdd'\r\nimport BlogEdit from './pages/blog/BlogEdit'\r\n\r\n// Member\r\nimport MemberLogin from './pages/members/MemberLogin'\r\nimport MemberRegister from './pages/members/MemberRegister'\r\nimport MemberUser from './pages/members/MemberUser'\r\nimport Membersellerlogin from './pages/members/Membersellerlogin'\r\n\r\nimport Home from './pages/Home'\r\n\r\nimport Chat from './pages/chat/Chat'\r\n\r\nfunction App(props) {\r\n  // console.log(props)\r\n  return (\r\n    <Router>\r\n      <>\r\n        <Switch>\r\n          <Route path=\"/chatchatchat\">\r\n            <Chat />\r\n          </Route>\r\n          <Route path=\"/blog/:id/edit\">\r\n            <BlogEdit />\r\n          </Route>\r\n          <Route path=\"/blog/:id\">\r\n            <BlogContent />\r\n          </Route>\r\n          <Route path=\"/blog\">\r\n            <Blog />\r\n          </Route>\r\n          <Route path=\"/blogadd\">\r\n            <BlogAdd />\r\n          </Route>\r\n          <Route path=\"/seller\">\r\n            <SellerBack />\r\n          </Route>\r\n          <Route path=\"/Class/:classId\">\r\n            <ClassDetailPage />\r\n          </Route>\r\n          <Route path=\"/Class\">\r\n            <ClassList />\r\n          </Route>\r\n          <Route path=\"/event/:eventId\">\r\n            <EventDetail />\r\n          </Route>\r\n          <Route path=\"/eventlist\">\r\n            <EventList />\r\n          </Route>\r\n          <Route path=\"/eventmaplist\">\r\n            <EventMapList />\r\n          </Route>\r\n          <Route path=\"/items/:itemId\">\r\n            <ItemDetail />\r\n          </Route>\r\n          <Route path=\"/items\">\r\n            <Items />\r\n          </Route>\r\n          <Route path=\"/member/mycart\">\r\n            <ShoppingCart />\r\n          </Route>\r\n          <Route path=\"/member/checkout\">\r\n            <CheckOut />\r\n          </Route>\r\n          <Route path=\"/member/created\">\r\n            <OrderCreated />\r\n          </Route>\r\n\r\n          {/* Member Routes */}\r\n          <ProtectedRoute path=\"/memberuser\">\r\n            <MemberUser isAuth={!!Cookie.get('token')} />\r\n          </ProtectedRoute>\r\n          <Route path=\"/memberlogin\">\r\n            <MemberLogin />\r\n          </Route>\r\n          <Route path=\"/Membersellerlogin\">\r\n            <Membersellerlogin />\r\n          </Route>\r\n          <Route path=\"/memberregister\">\r\n            <MemberRegister />\r\n          </Route>\r\n          <Route path=\"/location/:LocationID\">\r\n            <Divelocation />\r\n          </Route>\r\n          <Route path=\"/\">\r\n            <Home />\r\n          </Route>\r\n        </Switch>\r\n      </>\r\n    </Router>\r\n  )\r\n}\r\n\r\nexport default App\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import { combineReducers } from 'redux'\r\n\r\n//取得文章資料\r\nconst blogData = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'GET_BLOGDATA':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n//取得文章評論資料\r\nconst blogCommentsData = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'GET_BLOGCOMMENTSDATA':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n\r\n//新增文章評論\r\nconst contentCommentsData = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'ADD_CONTENTCOMMENTSDATA':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n//新增文章\r\nconst contentData = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'ADD_CONTENTDATA':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n//更新文章\r\nconst editContentData = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'EDIT_CONTENTDATA':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n//合併多個reducer(歸納函式)，為了配合瀏覽器開發外掛而必須的\r\nconst blogReducer = combineReducers({\r\n  blogData,\r\n  blogCommentsData,\r\n  contentCommentsData,\r\n  contentData,\r\n  editContentData,\r\n})\r\nexport { blogReducer }\r\n","import { combineReducers } from 'redux'\r\n\r\n//取得位置經緯度\r\nconst mapmarksGCS = (state = [], action) => {\r\n  switch (action.type) {\r\n    case 'GET_GCSDATA':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n//取得地點列表\r\nconst Regions = (state = [], action) => {\r\n  switch (action.type) {\r\n    case 'GET_REGIONDATA':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n//取得詳細資訊\r\nconst LocusInfos = (state = [], action) => {\r\n  switch (action.type) {\r\n    case 'GET_INFODATA':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n//取得圖片URL\r\nconst LocusImages = (state = [], action) => {\r\n  switch (action.type) {\r\n    case 'GET_LOCUSIMAGES':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n//取得海況\r\nconst LocusSeastate = (state = [], action) => {\r\n  switch (action.type) {\r\n    case 'GET_SEASTATES':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n//取得一周預報\r\nconst LocusWeeklyreport = (state = [], action) => {\r\n  switch (action.type) {\r\n    case 'GET_WEEKREPORT':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\nconst LocusTidereport = (state = [], action) => {\r\n  switch (action.type) {\r\n    case 'GET_TIDEREPORT':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n//合併多個reducer(歸納函式)，為了配合瀏覽器開發外掛而必須的\r\nconst locationReducer = combineReducers({\r\n  mapmarksGCS,\r\n  Regions,\r\n  LocusInfos,\r\n  LocusImages,\r\n  LocusSeastate,\r\n  LocusWeeklyreport,\r\n  LocusTidereport,\r\n})\r\nexport { locationReducer }\r\n","import { combineReducers } from 'redux'\r\n\r\n//取得課程類型與等級\r\nconst classTypeData = (state = [], action) => {\r\n  switch (action.type) {\r\n    case 'GET_TYPEDATA':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n//取得課程列表資料\r\nconst classData = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'GET_CLASSDATA':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n//取得課程詳細資料\r\nconst classDetailData = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'GET_CLASSDETAIDATA':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n//取得會員報名之後後端回傳的資料\r\nconst memberClassActionResponse = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'APPLY_CLASS':\r\n      return action.value\r\n    case 'UNJOIN_CLASS':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n//會員取得自己報名的課程資料\r\nconst memberClassData = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'MEMBER_GETCLASSDATA':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n//合併多個reducer(歸納函式)，為了配合瀏覽器開發外掛而必須的\r\nconst classReducer = combineReducers({\r\n  classData,\r\n  classTypeData,\r\n  classDetailData,\r\n  memberClassData,\r\n  memberClassActionResponse,\r\n})\r\nexport { classReducer }\r\n","import { combineReducers } from 'redux'\r\n\r\n//取得活動列表資料\r\nconst eventData = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'GET_EVENTDATA':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n//取得活動列表資料(地圖用)\r\nconst eventDataForMap = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'GET_EVENTDATA_MAP':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n//取得活動類型資料\r\nconst eventTypeData = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'GET_EVENT_TYPEDATA':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n//取得活動詳細資料\r\nconst eventDetailData = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'GET_EVENT_DETAIL_DATA':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n//會員取得自己發起的活動資料\r\nconst memberEventDataSelf = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'GET_MEMBER_EVENT_SELF':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n//會員操作CRUD後，後端回傳的資料\r\nconst memberActionResponse = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'ADD_EVENTDATA':\r\n      return action.value\r\n    case 'EDIT_EVENTDATA':\r\n      return action.value\r\n    case 'DEL_EVENTDATA':\r\n      return action.value\r\n    case 'APPLY_EVENT':\r\n      return action.value\r\n    case 'UNJOIN_EVENT':\r\n      return action.value\r\n    case 'UNJOIN_OTHER_EVENT':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n//會員取得自己發起的單一筆活動詳細資料\r\nconst memberEventDetailData = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'GET_EVENTDETAILDATA_FORMEMBER':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n//會員取得聊天室列表\r\nconst memberChatListData = (state = [], action) => {\r\n  switch (action.type) {\r\n    case 'MEMBER_GET_CHATLIST':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n//是否按下已過期按鈕\r\nconst isEnable = (state = false, action) => {\r\n  switch (action.type) {\r\n    case 'SWITCHBUTTON_ENABLE':\r\n      console.log(action)\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n//合併多個reducer(歸納函式)，為了配合瀏覽器開發外掛而必須的\r\nconst eventReducer = combineReducers({\r\n  eventData,\r\n  eventDataForMap,\r\n  eventTypeData,\r\n  eventDetailData,\r\n  memberEventDetailData,\r\n  memberEventDataSelf,\r\n  memberActionResponse,\r\n  memberChatListData,\r\n  isEnable,\r\n})\r\nexport { eventReducer }\r\n","import { combineReducers } from 'redux'\r\n\r\n//取得商品列表資料\r\nconst itemData = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'GET_ITEMDATA':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n//取得商品列側欄資料\r\nconst asideData = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'GET_ASIDEDATA':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n//取得商品詳細資料\r\nconst itemDetailData = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'GET_ITEMDETAILDATA':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n//點擊之後+1\r\nconst clickUpdateData = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'CLICK_UPDATE':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n//合併多個reducer(歸納函式)，為了配合瀏覽器開發外掛而必須的\r\nconst itemReducer = combineReducers({\r\n  itemData,\r\n  itemDetailData,\r\n  asideData,\r\n  clickUpdateData,\r\n})\r\nexport { itemReducer }\r\n","import { combineReducers } from 'redux'\r\n\r\n// 新增訂單回傳資料\r\nconst memberCheckOutResponse = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'NEW_ORDER':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nconst orderData = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'GET_ORDERDETAILDATA':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nconst sellerOrderData = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'GET_SELLERORDERDATA':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n//合併多個reducer(歸納函式)，為了配合瀏覽器開發外掛而必須的\r\nconst orderReducer = combineReducers({\r\n  memberCheckOutResponse,\r\n  orderData,\r\n  sellerOrderData,\r\n})\r\nexport { orderReducer }\r\n","import { combineReducers } from 'redux'\r\n\r\n// register, login, logout, get userinfo\r\nconst user = (state = { isAuth: false }, action) => {\r\n  switch (action.type) {\r\n    case 'USER_REGISTER':\r\n      return { ...action.value, isAuth: true }\r\n    case 'USER_LOGIN':\r\n      return { ...action.value, isAuth: true }\r\n    case 'USER_LOGOUT':\r\n      return { ...action.value, isAuth: false }\r\n    case 'GET_USERINFO':\r\n      return { ...action.value, isAuth: true }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n//get user data\r\nconst userData = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'GET_userData':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n// change user info\r\nconst changeData = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'CHANGE_INFO':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n\r\n//會員得到優惠券資料\r\nconst userCouponData = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'GET_USERCOUPON':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n// 合併多個reducer (必要，為了要配合瀏覽器開發外掛使用)\r\nconst memberReducer = combineReducers({\r\n  // counter,\r\n  userData,\r\n  user,\r\n  userCouponData,\r\n  changeData\r\n})\r\n\r\nexport { memberReducer }\r\n","import { combineReducers } from 'redux'\r\n\r\n//action = {type, value}\r\n\r\n//type: ADD_VALUE,MINUS_VALUE\r\n//ex: action: {type: 'ADD_VALUE', value:10}\r\n\r\n// const user = (state = {},action) => {\r\n//     switch (action.type) {\r\n//         case 'USER_REGISTER':\r\n//             return {...action.data, isAuth: true}\r\n//         case 'USER_LOGIN':\r\n//             return {...action.data, isAuth: true}\r\n//         case 'USER_LOGOUT':\r\n//             return { isAuth: false }\r\n//         default:\r\n//             return state\r\n//     }\r\n// }\r\nconst sellerEdit = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'SELLER_EDIT':\r\n      return { ...action.data }\r\n    case 'SELLER_UPDATE':\r\n      return { ...action.data }\r\n    default:\r\n      return state\r\n  }\r\n}\r\nconst coupon = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'COUPON_ALL_GET':\r\n      return action.value\r\n    case 'COUPON_GET_INSERT':\r\n      return action.value\r\n    case 'COUPON_INSERT':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\nconst couponInsert = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'COUPON_INSERT':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nconst sellerInfo = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'SELLER_INFO':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nconst giviAdd = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'ADD_GIVIDATA':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\nconst customer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'CUSTOMER_GET':\r\n      return action.value\r\n    case 'CUSTOMER_USE':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nconst cutomeruse = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'CUSTOMER_USE':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nconst customermailtransfer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'MAIL_TRANSFER':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nconst getNowCoupData = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'NOWCOUPDATA':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nconst getClickData = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'GET_USER_CLICK':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n// const memberEmail = (state = {}, action) => {\r\n//   switch (action.type) {\r\n//     case 'STORE_EMAIL':\r\n//       return [...state, action.data]\r\n//     default:\r\n//       return state\r\n//   }\r\n// }\r\n// const couponIdEmail = (state = {}, action) => {\r\n//   switch (action.type) {\r\n//     case 'STORE_EMAIL':\r\n//       return [...state, action.data]\r\n//     default:\r\n//       return state\r\n//   }\r\n// }\r\nconst totalPrice = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'TOTAL_DATA':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n//----------------------商品專區相關reducer----------------\r\nconst ItemUpload = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'UPLOADED_ITEM':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n//----------------------賣家中心課程相關reducer----------------\r\n\r\nconst sellerClassData = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'GET_SELLER_CLASSDATA':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nconst cityData = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'GET_CITY_DATA':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nconst distData = (state = [], action) => {\r\n  switch (action.type) {\r\n    case 'GET_DIST_DATA':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nconst typeDataForSeller = (state = [], action) => {\r\n  switch (action.type) {\r\n    case 'GET_CLASSTYPEDATA_FORSELLER':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nconst levelDataForSeller = (state = [], action) => {\r\n  switch (action.type) {\r\n    case 'GET_CLASSLEVELDATA_FORSELLER':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nconst addClassDataResponse = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'ADD_CLASSDATA':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nconst delClassDataResponse = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'DEL_CLASSDATA':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nconst editClassDataResponse = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'EDIT_CLASSDATA':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nconst SellerClassDetailData = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'GET_CLASSDETAILDATA_FORSELLER':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nconst SellerCoachData = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'GET_COACH_DATA':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n//----------------------賣家中心課程相關reducer----------------\r\n\r\n// 合併多個reducer (必要，為了要配合瀏覽器開發外掛使用)\r\nconst sellerReducer = combineReducers({\r\n  // user,\r\n  sellerEdit,\r\n  sellerInfo,\r\n  coupon,\r\n  couponInsert,\r\n  giviAdd,\r\n  customer,\r\n  cutomeruse,\r\n  customermailtransfer,\r\n  getNowCoupData,\r\n  sellerClassData,\r\n  getClickData,\r\n  totalPrice,\r\n  ItemUpload,\r\n  cityData,\r\n  distData,\r\n  typeDataForSeller,\r\n  levelDataForSeller,\r\n  addClassDataResponse,\r\n  delClassDataResponse,\r\n  SellerClassDetailData,\r\n  editClassDataResponse,\r\n  SellerCoachData,\r\n})\r\n\r\nexport { sellerReducer }\r\n","import { combineReducers } from 'redux'\r\n\r\n//取得地點留言\r\nconst Locationcomment = (state = [], action) => {\r\n  switch (action.type) {\r\n    case 'GET_LOCATIONCOMMENT':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n//取得部落格留言\r\nconst Blogcomment = (state = [], action) => {\r\n  switch (action.type) {\r\n    case 'GET_BLOGCOMMENT':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\nconst donelocationcomment = (state = [], action) => {\r\n  switch (action.type) {\r\n    case 'SENT_COMMENT':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\nconst commentReducer = combineReducers({\r\n  Locationcomment,\r\n  Blogcomment,\r\n  donelocationcomment,\r\n})\r\nexport { commentReducer }\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './index.scss'\r\nimport App from './App'\r\nimport * as serviceWorker from './serviceWorker'\r\n\r\n//redux\r\nimport { Provider } from 'react-redux'\r\nimport { createStore, applyMiddleware, compose, combineReducers } from 'redux'\r\n\r\n//導入reducers\r\nimport { blogReducer } from './reducers/blog/blog_Reducers'\r\nimport { locationReducer } from './reducers/location/location_Reducers'\r\nimport { classReducer } from './reducers/class/class_Reducers'\r\nimport { eventReducer } from './reducers/event/event_Reducers'\r\nimport { itemReducer } from './reducers/item/item_Reducers'\r\nimport { orderReducer } from './reducers/order/order_Reducers'\r\nimport { memberReducer } from './reducers/member/member_Reducers'\r\nimport { sellerReducer } from './reducers/seller/sellerReducer'\r\nimport { commentReducer } from './reducers/comment/comment_Reducers'\r\n//引入中介軟體\r\nimport thunk from 'redux-thunk'\r\n\r\n//合併reducers\r\nconst rootReducer = combineReducers({\r\n  blogReducer,\r\n  classReducer,\r\n  eventReducer,\r\n  sellerReducer,\r\n  itemReducer,\r\n  orderReducer,\r\n  locationReducer,\r\n  memberReducer,\r\n  commentReducer,\r\n})\r\n\r\n//使用中介軟體時，建立store的方法，需要額外建立一個composeEnhancers\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\r\nconst store = createStore(\r\n  rootReducer,\r\n  /* preloadedState, */ composeEnhancers(applyMiddleware(thunk))\r\n)\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById('root')\r\n)\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister()\r\n","module.exports = __webpack_public_path__ + \"static/media/tickMenu.9eebcc30.svg\";"],"sourceRoot":""}